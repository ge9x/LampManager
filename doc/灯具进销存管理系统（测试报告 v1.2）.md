# 灯具进销存管理系统（测试报告 v1.2）

# 学院

南京大学软件学院

# 成员

乐盛捷，胡本霖，仲于芯，朱雨欣

# 目录

[TOC]

# 更新历史

| 修改人员 | 日期         | 变更原因         | 版本号  |
| ---- | ---------- | ------------ | ---- |
| 全体人员 | 2017/12/25 | 正式版          | v1.0 |
| 乐盛捷  | 2018/1/1   | 增加部分单元测试缺陷   | v1.1 |
| 乐盛捷  | 2018/1/5   | 增加部分系统测试缺陷分析 | v1.2 |

# 1. 引言

## 1.1 编制目的
  本测试报告为灯具照明行业进销存管理系统的测试报告，目的在于总结测试阶段的测试以及分析测试结果，描述系统是否符合需求，是否达到用户预期的目标。测试报告参考文档提供给用户、测试人员、开发人员、项目管理者、其他管理人员和需要阅读本报告的高层经理阅读。

## 1.2 测试范围

  测试主要根据用户需求说明书和软件需求规格说明书以及相应的文档进行系统测试，包括功能测试、性能测试、安全性和访问控制测试、用户界面测试以及兼容性测试等，而单元测试和集成测试由开发人员来执行。

  主要功能包括：用户登录、商品分类管理、商品管理、库存查看、库存盘点、同步库存、客户管理、制定进货单、制定进货退货单、制定销售单、制定销售退货单、账户管理、制定收款单、制定付款单、制定现金费用单、查看销售明细表、查看经营历程表、查看经营情况表、导出报表、期初建账、制定销售策略、审批单据、日志记录。

## 1.3 参考文献

1.IEEE 标准

2.灯具进销存管理系统用例文档 v3.1  

3.灯具进销存管理系统需求测试用例 v1.1

4.《软件开发的技术基础》 

# 2.测试计划执行情况

## 2.1 总测试结果概述

MSL系统的测试从2017-12-24开始持续到2018-1-2，共持续10天，按时完成测试计划。

## 2.2 测试用例设计与类型

| 测试类型 | 测试内容                                     | 测试目的                                     | 所用测试工具与方法                       |
| ---- | ---------------------------------------- | ---------------------------------------- | ------------------------------- |
| 功能测试 | 1.客户端：用户登录、商品分类管理、商品管理、库存查看、库存盘点、同步库存、客户管理、制定进货单、制定进货退货单、制定销售单、制定销售退货单、账户管理、制定收款单、制定付款单、制定现金费用单、查看销售明细表、查看经营历程表、查看经营情况表、导出报表、期初建账、制定销售策略、审批单据、日志记录<br>2.服务器端：对数据库的读写操作进行测试，保证数据层正确，对系统进行后台管理 | 1.所有功能都能正常进行，并能按用户需求正常使用系统<br>2.数据库能正常读写、查找（精确查找、模糊查找）、删除，保证数据准确 | 采用单元测试、集成测试、系统测试，并采用黑盒、手工、回归等方法 |
## 2.3 测试环境与配置

| 硬件环境 | 服务器端                                     | 客户端                                      |
| ---- | ---------------------------------------- | ---------------------------------------- |
| 硬件配置 | CPU：2.3GHz Intel Core i5，内存：4GB，显卡：NVIDA GeForce 930M | CPU：2.3GHz Intel Core i5，内存：4GB，显卡：NVIDA GeForce 930M |
| 软件配置 | OS：Windows 10，JDK：1.8                    | OS：Windows 10，JDK：1.8，JRE：1.8            |
| 网络环境 | 100M LAN                                 | 100M LAN                                 |

### 2.4 测试人员 

胡本霖、乐盛捷、朱雨欣、仲于芯

## 3. 测试总结

### 3.1 测试用例执行结果

#### 集成测试

| ID   | 测试用例名称      | 状态   | 测试结果 | 备注   |
| ---- | ----------- | ---- | ---- | ---- |
| 1    | Data层与数据库连接 | 已执行  | 通过   |      |
| 2    | BL层与Data层连接 | 已执行  | 通过   |      |
| 3    | 界面层与逻辑层连接   | 已执行  | 通过   |      |

#### 系统测试

* 库存管理人员

| ID   | 测试用例名称           | 状态   | 测试结果 | 备注   |
| ---- | ---------------- | ---- | ---- | ---- |
| 1    | 库存管理人员登录         | 已执行  | 通过   |      |
| 2    | 添加商品分类           | 已执行  | 通过   |      |
| 3    | 添加重名商品分类         | 已执行  | 未通过  |      |
| 4    | 添加空白名称商品分类       | 已执行  | 未通过  |      |
| 5    | 在包含商品的父类下添加商品分类  | 已执行  | 通过   |      |
| 6    | 删除商品分类           | 已执行  | 通过   |      |
| 7    | 删除包含商品的商品分类      | 已执行  | 通过   |      |
| 8    | 删除包含子类的商品分类      | 已执行  | 通过   |      |
| 9    | 修改商品分类           | 已执行  | 通过   |      |
| 10   | 修改为重名商品分类        | 已执行  | 未通过  |      |
| 11   | 修改成空白名称商品分类      | 已执行  | 未通过  |      |
| 12   | 添加商品             | 已执行  | 通过   |      |
| 13   | 添加重名商品           | 已执行  | 未通过  |      |
| 14   | 添加不完整信息商品        | 已执行  | 未通过  |      |
| 15   | 在有子类的商品分类下添加商品   | 已执行  | 通过   |      |
| 16   | 删除商品             | 已执行  | 通过   |      |
| 17   | 删除涉及已通过单据的商品     | 已执行  | 通过   |      |
| 18   | 修改商品             | 已执行  | 通过   |      |
| 19   | 修改为重名商品          | 已执行  | 未通过  |      |
| 20   | 按编号（模糊）查找商品      | 已执行  | 通过   |      |
| 21   | 按名称（模糊）查找商品      | 已执行  | 通过   |      |
| 22   | 按型号（模糊）查找商品      | 已执行  | 通过   |      |
| 23   | 查看库存             | 已执行  | 通过   |      |
| 24   | 查看库存选择上下限颠倒的日期   | 已执行  | 未通过  |      |
| 25   | 添加仓库             | 已执行  | 通过   |      |
| 26   | 添加重名仓库           | 已执行  | 未通过  |      |
| 27   | 添加空白名称仓库         | 已执行  | 未通过  |      |
| 28   | 盘点库存             | 已执行  | 通过   |      |
| 29   | 导出库存盘点           | 已执行  | 未通过  |      |
| 30   | 取消导出库存盘点         | 已执行  | 通过   |      |
| 31   | 制定库存报溢/报损单并提交    | 已执行  | 通过   |      |
| 32   | 制定空白库存报溢/报损单并提交  | 已执行  | 未通过  |      |
| 33   | 制定库存报溢/报损单并保存为草稿 | 已执行  | 通过   |      |
| 34   | 修改库存报溢/报损单并保存为草稿 | 已执行  | 通过   |      |
| 35   | 提交草稿状态的库存报溢/报损单  | 已执行  | 通过   |      |
| 36   | 删除草稿状态的库存报溢/报损单  | 已执行  | 通过   |      |
| 37   | 按单据状态筛选库存报溢/报损单  | 已执行  | 通过   |      |
| 38   | 按单据类型筛选库存类单据     | 已执行  | 通过   |      |


* 进货销售人员
| ID   | 测试用例名称       | 状态   | 测试结果 | 备注   |
| ---- | ------------ | ---- | ---- | ---- |
| 1    | 进货销售人员登录     | 已执行  | 通过   |      |
| 2    | 增加客户         | 已执行  | 通过   |      |
| 3    | 客户填写信息空白判断   | 已执行  | 通过   |      |
| 4    | 删除客户         | 已执行  | 通过   |      |
| 5    | 修改客户属性       | 已执行  | 通过   |      |
| 6    | 不同权限修改客户应收额度 | 已执行  | 通过   |      |
| 7    | 输入关键字模糊查找客户  | 已执行  | 通过   |      |
| 8    | 输入客户编号模糊查找客户 | 已执行  | 通过   |      |
| 9    | 不选择查询方式就查询客户 | 已执行  | 通过   |      |
| 10   | 客户属性详细查看     | 已执行  | 通过   |      |
| 11   | 新建进货单        | 已执行  | 通过   |      |
| 12   | 查看单据详情，不可编辑  | 已执行  | 未通过  |      |
| 13   | 选择入库商品       | 已执行  | 通过   |      |
| 15   | 进货单未填写供应商    | 已执行  | 通过   |      |
| 16   | 进货单未填写仓库     | 已执行  | 通过   |      |
| 17   | 提交进货单        | 已执行  | 通过   |      |
| 18   | 新建进货退货单      | 已执行  | 通过   |      |
| 19   | 选择出库商品       | 已执行  | 通过   |      |
| 21   | 进货退货单未填写供应商  | 已执行  | 通过   |      |
| 22   | 进货退货单未填写仓库   | 已执行  | 通过   |      |
| 23   | 出货商品数量超过库存数量 | 已执行  | 未通过  |      |
| 24   | 提交进货退货单      | 已执行  | 通过   |      |
| 25   | 新建销售单        | 已执行  | 通过   |      |
| 26   | 选择出库商品       | 已执行  | 通过   |      |
| 28   | 销售单选择促销策略    | 已执行  | 通过   |      |
| 29   | 销售单选择客户      | 已执行  | 通过   |      |
| 30   | 销售单未填写客户     | 已执行  | 通过   |      |
| 31   | 销售单未填写仓库     | 已执行  | 通过   |      |
| 32   | 出货商品数量超过库存数量 | 已执行  | 通过   |      |
| 33   | 提交销售单        | 已执行  | 通过   |      |
| 34   | 新建销售退货单      | 已执行  | 通过   |      |
| 35   | 选择退货商品       | 已执行  | 通过   |      |
| 37   | 销售退货单选择客户    | 已执行  | 通过   |      |
| 38   | 销售退货单未填写客户   | 已执行  | 通过   |      |
| 39   | 销售退货单未填写仓库   | 已执行  | 通过   |      |
| 40   | 提交销售退货单      | 已执行  | 通过   |      |
* 财务人员

| ID   | 测试用例名称       | 状态   | 测试结果 | 备注   |
| ---- | ------------ | ---- | ---- | ---- |
| 1    | 财务人员登录       | 已执行  | 通过   |      |
| 2    | 创建账户         | 已执行  | 通过   |      |
| 3    | 创建账户信息不完整    | 已执行  | 通过   |      |
| 4    | 修改账户         | 已执行  | 通过   |      |
| 5    | 修改账户信息不完整    | 已执行  | 通过   |      |
| 6    | 查询账户         | 已执行  | 通过   |      |
| 7    | 创建收款单        | 已执行  | 通过   |      |
| 8    | 收款单信息填写不完整   | 已执行  | 不通过  |      |
| 9    | 查看收款单        | 已执行  | 通过   |      |
| 10   | 删除草稿收款单      | 已执行  | 通过   |      |
| 11   | 查看收款单详情      | 已执行  | 通过   |      |
| 12   | 编辑草稿收款单      | 已执行  | 通过   |      |
| 13   | 创建付款单        | 已执行  | 通过   |      |
| 14   | 付款单信息填写不完整   | 已执行  | 不通过  |      |
| 15   | 查看付款单        | 已执行  | 通过   |      |
| 16   | 删除草稿付款单      | 已执行  | 通过   |      |
| 17   | 查看付款单详情      | 已执行  | 通过   |      |
| 18   | 编辑草稿付款单      | 已执行  | 通过   |      |
| 19   | 创建现金费用单      | 已执行  | 通过   |      |
| 20   | 现金费用单信息填写不完整 | 已执行  | 不通过  |      |
| 21   | 查看付款单        | 已执行  | 通过   |      |
| 22   | 删除草稿付款单      | 已执行  | 通过   |      |
| 23   | 查看付款单详情      | 已执行  | 通过   |      |
| 24   | 编辑草稿付款单      | 已执行  | 通过   |      |
| 25   | 查看销售明细表      | 已执行  | 通过   |      |
| 26   | 根据日期查看销售明细   | 已执行  | 通过   |      |
| 27   | 根据筛选条件筛选销售明细 | 已执行  | 通过   |      |
| 28   | 导出销售明细表      | 已执行  | 通过   |      |
| 29   | 查看经营历程表      | 已执行  | 通过   |      |
| 30   | 根据日期查看销售明细表  | 已执行  | 通过   |      |
| 31   | 根据筛选条件筛选单据   | 已执行  | 通过   |      |
| 32   | 红冲单据         | 已执行  | 通过   |      |
| 33   | 红冲并复制单据      | 已执行  | 通过   |      |
| 34   | 查看经营情况表      | 已执行  | 通过   |      |
| 35   | 根据日期查看经营情况表  | 已执行  | 通过   |      |
| 36   | 导出经营情况表      | 已执行  | 通过   |      |
| 37   | 期初建账         | 已执行  | 通过   |      |
| 38   | 查看往次期初建账信息   | 已执行  | 通过   |      |
* 总经理
| ID   | 测试用例名称                  | 状态   | 测试结果 | 备注   |
| ---- | ----------------------- | ---- | ---- | ---- |
| 1    | 审批查看                    | 已执行  | 通过   |      |
| 2    | 批量审批                    | 已执行  | 通过   |      |
| 3    | 审批通过，客户应收应付、库存数据、账户修改判断 | 已执行  | 通过   |      |
| 4    | 创建促销策略                  | 已执行  | 通过   |      |
| 5    | 促销策略时间颠倒                | 已执行  | 通过   |      |
| 6    | 促销策略详细查看                | 已执行  | 通过   |      |
| 7    | 促销策略选择降价商品和赠品           | 已执行  | 通过   |      |

* 管理员与用户
| ID   | 测试用例名称       | 状态   | 测试结果 | 备注   |
| ---- | ------------ | ---- | ---- | ---- |
| 1    | 管理员登录        | 已执行  | 通过   |      |
| 2    | 添加员工         | 已执行  | 通过   |      |
| 3    | 删除员工         | 已执行  | 未通过  |      |
| 4    | 修改员工信息       | 已执行  | 通过   |      |
| 5    | 输入关键字模糊查找用户  | 已执行  | 通过   |      |
| 6    | 输入用户编号模糊查找用户 | 已执行  | 通过   |      |
| 7    | 添加员工信息不完整    | 已执行  | 通过   |      |
| 8    | 添加员工编号重复     | 已执行  | 通过   |      |

### 3.2 测试问题缺陷分析与解决

* 严重级别：A-严重影响系统运行的错误；B-功能缺陷，影响系统运行；C-不影响运行但必须修改；D-合理的建议

| 模块名称           | 测试用例ID | 错误或问题描述               | 严重级别 | 缺陷分析                         | 测试结果 |
| -------------- | ------ | --------------------- | :--- | ---------------------------- | ---- |
| 系统测试           |        |                       |      |                              |      |
| User           | 3      | 可以直接删除员工，不能防止误操作      | C    | 删除员工没有二次确认                   | 通过   |
| Classification | 3      | 添加重复商品分类成功            | C    | 界面没有警告                       | 通过   |
| Classification | 4      | 添加空白分类成功              | B    | 没有判断新建商品分类信息                 | 通过   |
| Classification | 10     | 修改成和已有商品分类相同的分类成功     | C    | 界面缺少相关提示                     | 通过   |
| Classification | 11     | 修改商品分类名称变成空白名称成功      | C    | 界面缺少相关提示                     | 通过   |
| Classification | 14     | NumberFormatException | A    | 商品信息不完整判断                    | 通过   |
| Classification | 13     | 添加同名商品成功              | C    | 界面缺少相关提示                     | 通过   |
| Goods          | 19     | 修改为同名商品成功             | B    | 返回结果为添加失败时，界面修改名称成功          | 通过   |
| Look           | 24     | 开始日期可以晚于结束日期          | C    | 对结束日期设置回调函数，不得选择晚于早于开始日期的日期  | 通过   |
| Look           | 26     | 添加重名仓库未提示             | C    | 未对返回的ResultMessage.EXIST进行处理 | 通过   |
| Look           | 27     | 添加空白仓库名               | A    | 界面没有阻挡空输入的情况                 | 通过   |
| Check          | 30     | Nullpointer 导出盘点库存    | A    | 未判断file为null的情况              | 通过   |
| Sales          | 12     | 单据详情表格可编辑             | C    | Table未设置editable             | 通过   |
| Sales          | 33     | 编辑销售和销售退货草稿单再提交失败     | A    | 界面层调用错误方法                    | 通过   |
| Sales          | 23     | 出货数量超过库存数量时出货成功       | A    | 界面缺少失败提示                     | 通过   |
| Inventory      | 35     | 界面没有弹出失败提示            | C    | 界面缺少相关提示                     | 通过   |
| Finance        | 8      | 提交不完整的收款单成功           | C    | 界面缺少相关提示                     | 通过   |
| Finance        | 14     | 提交不完整的收款单成功           | C    | 界面缺少相关提示                     | 通过   |
| Finance        | 20     | 提交不完整的收款单成功           | C    | 界面缺少相关提示                     | 通过   |
| 单元测试           |        |                       |      |                              |      |
| AcccountBill   |        | Update方法返回错误          | B    | 方法内逻辑错误,未加返回语句               | 通过   |
| AccountBill    |        | Delete方法返回错误          | B    | 方法内逻辑错误，未加返回语句               | 通过   |
| Profit         |        | 报溢收入数据错误              | C    | 只加了单价，未乘数量                   | 通过   |
| Profit         |        | 报损收入数据错误              | C    | 只加了单价，未乘数量                   | 通过   |
| Initialization |        | SQL语句错误               | B    | id未设置自动增长                    | 通过   |
| Inventory      |        | 不能更新仓库名称              | B    | 修改的时候传给data层的是未修改的仓库名称       | 通过   |
| User           |        | 空指针异常                 | A    | 调用前arraylist未初始化             | 通过   |
### 3.3 测试覆盖分析

* 图 3.3-1 测试覆盖度

![图 3.3-1](http://101.37.19.32:10080/horizon/LampManager/raw/dev/doc/img/%E6%B5%8B%E8%AF%95%E6%8A%A5%E5%91%8A%E5%9B%BE/%E6%B5%8B%E8%AF%95%E8%A6%86%E7%9B%96%E5%BA%A6.png)

### 3.4 总结与建议

（1） 明确需求。在项目初期的需求分析阶段应对每个需求都分析清楚并在所有成员中达成共识，使需求能在之后的每个阶段中逐渐细化、明确、落地，并在构造阶段得到良好而风格统一的实现。切忌暂时搁置不明确的需求，因为这可能导致该功能点无法很好地参与之后的每个设计阶段，于是一拖再拖。最后只能草草实现了事或忍痛重构。

（2） 单一维护原则。同一文件应始终让同一个人维护，即使不是他提出的改动。由于使用GitLab进行版本管理，不同开发人员对同一文件的修改将产生冲突错误而无法集成，并且增加手动集成出错的风险，甚至发生覆盖别人劳动成果的惨剧。

（3） 进步来源于不满。当自己对项目的某一方面感到不满的时候，应果断提出并讨论优化的必要性与可能性。很多时候没有取得突破不是能力不足，而是动力不足。闷在肚子里的不满并不能解决问题。

## 4. 综合评价

### 4.1 软件能力

经过Horizon项目组开发人员、测试人员的协力合作，MLS项目已达到交付标准，该系统能够实现用户需求，能够满足库存管理人员、进货销售人员、财务人员、总经理、管理员的需求。

### 4.2 建议

需求提出方可以在使用该系统的基础上，继续搜集用户的使用需求反馈，以便在今后的版本中补充并完善

