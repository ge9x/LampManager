# 灯具进销存管理系统（软件需求度量文档v1.0）

## 学院

南京大学软件学院

## 成员

乐盛捷，胡本霖，仲于芯，朱雨欣

## 目录

[TOC]

## 更新历史

| 修改人员 |    日期     | 变更原因 | 版本号  |
| :--: | :-------: | :--: | :--: |
| 全体成员 | 2017/9/27 | 最初草稿 | v1.0 |
|      |           |      |      |
|      |           |      |      |

## 1.1复杂度调整因子

* 0（不重要）到5（非常重要）

| 编号   | 描述                       | MSCS估计值 |
| ---- | ------------------------ | ------- |
| 1    | 系统需要备份和恢复吗？              | 3       |
| 2    | 需要专门的网络数据通信吗？            | 0       |
| 3    | 存在分布式处理功能吗               | 5       |
| 4    | 性能关键吗？                   | 2       |
| 5    | 系统将运行在一个现有的、使用困难的操作环境吗？  | 2       |
| 6    | 系统需要在线数据项吗？              | 4       |
| 7    | 在线数据项目需要对多个屏幕或操作建立输入事务吗？ | 5       |
| 8    | 逻辑文件在线更新吗？               | 4       |
| 9    | 输入、输出、文件或查询是复杂的吗？        | 2       |
| 10   | 内部处理是复杂的吗？               | 3       |
| 11   | 所设计的代码要求可复用吗？            | 3       |
| 12   | 设计要求包括移交与安装吗？            | 3       |
| 13   | 系统需要设计为多个安装以适应不同组织吗？     | 0       |
| 14   | 系统设计要求易于修改和易于使用吗？        | 4       |

**本系统的复杂度调整因子合计为40**

## 1.2 加权因子

本系统属于中等系统，加权因子如下：

* 输入数量：4
* 输出数量：5
* 查询数量：4
* 逻辑文件数量：10
* 对外接口数量：7

## 2.总体度量统计

* 功能需求数量：
* 功能点数量：
* 总输入数量：
* 总输出数量：
* 总查询数量：
* 总逻辑文件数量：
* 总对外接口数量：
* 功能点测度总数：
* 总FP：

## 3.需求用例度量

#### 3.1 管理商品分类

#### 3.2 管理商品

#### 3.3 查看库存

#### 3.4 盘点库存

#### 3.5 同步库存

#### 3.6 管理客户

#### 3.7 制定进货单和退货单

#### 3.8 制定销售出货单和销售退货单

#### 3.9 管理账户

#### 3.10-1 制定收款单

| 编号                            | 需求描述                                     |
| :---------------------------- | :--------------------------------------- |
| Receipt.Add                   | 系统允许用户发起新建收款单请求（查询）                      |
| Receipt.Add.Start             | 在用户发起新建收款单请求时，系统要给出收款单信息要求填写（输出）         |
| Receipt.Add.Valid             | 在用户填写信息完整（输入）并提交时（查询），系统要提示添加成功（输出），显示单据审批状态（输出） |
| Receipt.Add.Invalid           | 在用户填写信息不完整（输入）却提交时（查询），系统要提示用户补全信息（输出）   |
| Receipt.Add.End               | 系统要允许用户结束新建收款单的请求（查询），系统返回上一界面（输出）       |
| Receipt.Add.Cancel            | 在用户取消新建收款单时（查询），系统要提示是否保存为草稿（输出）         |
| Receipt.Add.Cancel.Save       | 在用户选择保存时（查询），系统要保存草稿收款单（逻辑文件）,参见Receipt.State.Draft |
| Receipt.Add.Cancel.NotSave    | 在用户选择不保存时（查询），系统结束新建任务（输出）               |
| Receipt.Modify                | 系统要允许用户发起编辑草稿收款单的请求（查询）                  |
| Receipt.Modify.Start          | 在用户选择一张草稿收款单时（查询），系统要给出草稿收款单要求填写（输出）     |
| Receipt.Modify.Valid          | 参见Receipt.Add.Valid                      |
| Receipt.Modify.Invalid        | 参见Receipt.Add.Invalid                    |
| Receipt.Modify.End            | 系统要允许用户结束编辑草稿收款单的请求（查询）                  |
| Receipt.Update                | 系统更新数据                                   |
| Receipt.Update.Receipt        | 系统更新收款单数据（逻辑文件）                          |
| Receipt.State.Draft           | 系统要允许用户保存草稿单据（查询）                        |
| Receipt.State.Submit          | 系统要允许用户提交单据（查询）                          |
| Receipt.State.Approve         | 在总经理审批通过后，系统要更改单据状态为通过（输出）               |
| Receipt.Update.Client.Payable | 在总经理审批通过后，系统要更新客户应付数据（逻辑文件）              |
| Receipt.Update.Account        | 在总经理审批通过后，系统要更新银行账户数据（逻辑文件）              |

| 功能点     | 数量                        |
| ------- | :------------------------ |
| 输入      | 2                         |
| 输出      | 8                         |
| 查询      | 12                        |
| 内部逻辑文件  | 4                         |
| 对外接口文件  | 0                         |
| 功能点测度总数 | 2×4+8×5+12×4+4×10+0×7=136 |
| FP      | 136×(0.65+0.01×40)=142.8  |

#### 3.10-2 制定付款单

| 编号                               | 需求描述                                     |
| :------------------------------- | :--------------------------------------- |
| Payment.Add                      | 系统允许用户发起新建付款单请求（查询）                      |
| Payment.Add.Start                | 在用户发起新建付款单请求时，系统要给出付款单信息要求填写（输出）         |
| Payment.Add.Valid                | 在用户填写信息完整（输入）并提交时（查询），系统要提示添加成功（输出），显示单据审批状态（输出） |
| Payment.Add.Invalid              | 在用户填写信息不完整（输入）却提交（查询）时，系统要提示用户补全信息（输出）   |
| Payment.Add.End                  | 系统要允许用户结束新建付款单的请求（查询）                    |
| Payment.Add.Cancel               | 在用户取消新建付款单时（查询），系统要提示是否保存为草稿（输出）         |
| Payment.Add.Cancel.Save          | 在用户选择保存时（查询），系统要保存草稿付款单（逻辑文件）            |
| Payment.Add.Cancel.NotSave       | 在用户选择不保存时（查询），系统结束新建任务（输出）               |
| Payment.Modify                   | 系统要允许用户发起编辑草稿付款单的请求（查询）                  |
| Payment.Modify.Start             | 在用户选择一张草稿付款单时（查询），系统要给出草稿付款单要求填写（输出）     |
| Payment.Modify.Valid             | 参见Receipt.Add.Valid                      |
| Payment.Modify.Invalid           | 参见Receipt.Add.Invalid                    |
| Payment.Modify.End               | 系统要允许用户结束编辑草稿付款单的请求（查询）                  |
| Payment.Update                   | 系统更新数据                                   |
| Payment.Update.Payment           | 系统更新付款单数据（逻辑文件）                          |
| Payment.State.Draft              | 系统要允许用户保存草稿单据（查询）                        |
| Payment.State.Submit             | 系统要允许用户提交单据（查询）                          |
| Payment.State.Approve            | 在总经理审批通过后，系统要更改单据状态为通过（查询）               |
| Payment.Update.Client.Receivable | 在总经理审批通过后，系统要更新客户应收数据（逻辑文件）              |
| Payment.Update.Account           | 在总经理审批通过后，系统要更新银行账户数据（逻辑文件）              |

| 功能点     | 数量                        |
| ------- | :------------------------ |
| 输入      | 2                         |
| 输出      | 8                         |
| 查询      | 12                        |
| 内部逻辑文件  | 4                         |
| 对外接口文件  | 0                         |
| 功能点测度总数 | 2×4+8×5+12×4+4×10+0×7=136 |
| FP      | 136×(0.65+0.01×40)=142.8  |

#### 3.10-3 制定现金费用单

| 编号                          | 需求描述                                     |
| --------------------------- | ---------------------------------------- |
| CashBill.Add                | 系统允许用户发起新建现金费用单请求（查询）                    |
| CashBill.Add.Start          | 在用户发起新建现金费用单请求时，系统要给出现金费用单信息要求填写（输出）     |
| CashBill.Add.Valid          | 在用户填写信息完整（输入）并提交（查询）时，系统要提示添加成功（输出），显示单据审批状态（输出） |
| CashBill.Add.Invalid        | 在用户填写信息不完整（输入）却提交（查询）时，系统要提示用户补全信息（输出）   |
| CashBill.Add.End            | 系统要允许用户结束新建现金费用单的请求（查询）                  |
| CashBill.Add.Cancel         | 在用户取消新建现金费用单时（查询），系统要提示是否保存为草稿（输出）       |
| CashBill.Add.Cancel.Save    | 在用户选择保存时（查询），系统要保存草稿现金费用单（逻辑文件）          |
| CashBill.Add.Cancel.NotSave | 在用户选择不保存时（查询），系统结束新建任务                   |
| CashBill.Modify             | 系统要允许用户发起编辑草稿现金费用单的请求（查询）                |
| CashBill.Modify.Start       | 在用户选择一张草稿现金费用单时（查询），系统要给出草稿现金费用单要求填写（输出） |
| CashBill.Modify.Valid       | 参见CashBill.Add.Valid                     |
| CashBill.Modify.Invalid     | 参见CashBill.Add.Invalid                   |
| CashBill.Modify.End         | 系统要允许用户结束编辑草稿付款单的请求（查询）                  |
| CashBill.Update             | 系统更新数据                                   |
| CashBill.Update.Payment     | 系统更新现金费用单数据（逻辑文件）                        |
| CashBill.State.Draft        | 系统要允许用户保存草稿单据（查询）                        |
| CashBill.State.Submit       | 系统要允许用户提交单据（查询）                          |
| CashBill.State.Approve      | 在总经理审批通过后，系统要更改单据状态为通过（逻辑文件）             |
| CashBill.Update.Account     | 在总经理审批通过后，系统要更新银行账户数据（逻辑文件）              |

| 功能点     | 数量                        |
| ------- | :------------------------ |
| 输入      | 2                         |
| 输出      | 6                         |
| 查询      | 12                        |
| 内部逻辑文件  | 4                         |
| 对外接口文件  | 0                         |
| 功能点测度总数 | 2×4+8×5+12×4+4×10+0×7=136 |
| FP      | 136×(0.65+0.01×40)=142.8  |

#### 3.11 期初建账



#### 3.12 查看销售明细表

| 编号                                  | 需求描述                                     |
| :---------------------------------- | :--------------------------------------- |
| SalesDetails.Input                  | 系统应该允许用户使用键盘和鼠标输入（输入）                    |
| SalesDetails.Input.Date             | 系统应该允许用户输入查询的开始日期和结束日期（输入）               |
| SalesDetails.Input.List             | 在用户输入起止日期后，系统要展示销售出货单据列表。参见SalesDetails.List（输出） |
| SalesDetails.Input.Cancel           | 在用户输入取消命令时（查询），系统关闭当前查询窗口，返回用户首页（输出）     |
| SalesDetails.Input.Invalid          | 在用户输入非法标识符时（输入），系统提示无效（输出）               |
| SalesDetails.List                   | 系统要展示满足时间区间和筛选条件的所有商品销售出货单据列表（输出，逻辑文件）   |
| SalesDetails.List.Filter            | 系统允许用户在查看时筛选（查询）                         |
| SalesDetails.List.Filter.Cancel     | 在用户取消筛选条件时（查询），系统要将此条件从总筛选条件中删除，并显示符合剩余条件的销售出货单据记录，参见SalesDetails.List（输出） |
| SalesDetails.List.Filter.GoodName   | 用户选择商品名称进行筛选时（查询），系统要将此条件加入总筛选条件，并显示符合所有条件的销售出货单据记录，参见SalesDetails.List（输出） |
| SalesDetails.List.Filter.Client     | 用户选择客户进行筛选时（查询），系统要将此条件加入总筛选条件，并显示符合所有条件的销售出货单据记录，参见SalesDetails.List（输出） |
| SalesDetails.List.Filter.Salesman   | 用户选择业务员进行筛选时（查询），系统要将此条件加入总筛选条件，并显示符合所有条件的销售出货单据记录，参见SalesDetails.List（输出） |
| SalesDetails.List.Filter.StockHouse | 用户选择仓库进行筛选时（查询），系统要将此条件加入总筛选条件，并显示符合所有条件的销售出货单据记录，参见SalesDetails.List（输出） |
| SalesDetails.Export                 | 系统要能够导出销售明细表excel文件(对外接口)                |

| 功能点     | 数量                       |
| ------- | :----------------------- |
| 输入      | 3                        |
| 输出      | 9                        |
| 查询      | 7                        |
| 内部逻辑文件  | 1                        |
| 对外接口文件  | 1                        |
| 功能点测度总数 | 3×4+9×5+7×4+1×10+1×7=102 |
| FP      | 102×(0.65+0.01×40)=107.1 |

#### 3.13 查看经营历程表

| 编号                                       | 需求描述                                     |
| :--------------------------------------- | :--------------------------------------- |
| DocumentsDetails.Input                   | 系统应该允许用户使用键盘和鼠标输入（输入）                    |
| DocumentsDetails.Input.Date              | 系统应该允许用户输入查询的开始日期和结束日期（输入）               |
| DocumentsDetails.Input.List              | 在用户输入起止日期后（查询），系统要展示所有单据列表。参见DocumentsDetails.List（输出） |
| DocumentsDetails.Input.Cancel            | 在用户输入取消命令时（查询），系统关闭当前查询窗口，返回用户首页（输出）     |
| DocumentsDetails.Input.Invalid           | 在用户输入非法标识符时，系统提示无效（输出）                   |
| DocumentsDetails.List                    | 系统要展示满足时间区间和筛选条件的所有单据列表（输出，逻辑文件）         |
| DocumentsDetails.List.Filter             | 系统允许用户在查看时筛选（查询）                         |
| DocumentsDetails.List.Filter.Cancel      | 在用户取消筛选条件时（查询），系统要将此条件从总筛选条件中删除，并显示符合剩余条件的单据记录，参见DocumentsDetails.List（输出） |
| DocumentsDetails.List.Filter.DocumentsType | 用户选择商品名称进行筛选时（查询），系统要将此条件加入总筛选条件，并显示符合所有条件的单据记录，参见DocumentsDetails.List（输出） |
| DocumentsDetails.List.Filter.Client      | 用户选择客户进行筛选时（查询），系统要将此条件加入总筛选条件，并显示符合所有条件的销售出货单据记录，参见DocumentsDetails.List（输出） |
| DocumentsDetails.List.Filter.Salesman    | 用户选择业务员进行筛选时（查询），系统要将此条件加入总筛选条件，并显示符合所有条件的销售出货单据记录，参见DocumentsDetails.List（输出） |
| DocumentsDetails.List.Filter.StockHouse  | 用户选择仓库进行筛选时（查询），系统要将此条件加入总筛选条件，并显示符合所有条件的销售出货单据记录，参见DocumentsDetails.List（输出） |
| DocumentsDetails.Export                  | 系统要能够导出销售明细表excel文件（对外接口）                |
| DocumentsDetails.Select                  | 当用户选中一张单据时（查询），系统要展示该单据的所有信息（输出）         |
| DocumentsDetails.Select.RedCover         | 系统要允许用户红冲选中单据（查询）                        |
| DocumentsDetails.Select.RedCover.Valid   | 当财务人员请求红冲单据时，系统将该单据数值取负后生成新的单据并入账（逻辑文件）  |
| DocumentsDetails.Select.RedCover.Invalid | 当总经理请求红冲单据时（查询），系统拒绝请求，并提示权限不足（输出）       |
| DocumentsDetails.Select.RedCoverAndCopy  | 系统要允许用户红冲并复制选中单据（查询）                     |
| DocumentsDetails.Select.RedCoverAndCopy.Valid | 当财务人员请求红冲并复制单据时，系统将该单据数值取负后生成新的单据并入账（逻辑文件），再给出原单据的草稿（输出） |
| DocumentsDetails.Select.RedCoverAndCopy.Invalid | 当总经理请求红冲并复制单据时（查询），系统拒绝请求，并提示权限不足（输出）    |
| DocumentsDetails.Select.End              | 系统允许用户结束查看单据（查询）                         |
| DocumentsDetails.Update                  | 系统更新重要数据（逻辑文件）                           |

| 功能点     | 数量                         |
| ------- | :------------------------- |
| 输入      | 2                          |
| 输出      | 13                         |
| 查询      | 13                         |
| 内部逻辑文件  | 4                          |
| 对外接口文件  | 1                          |
| 功能点测度总数 | 2×4+13×5+13×4+4×10+1×7=172 |
| FP      | 136×(0.65+0.01×40)=180.6   |

#### 3.14 查看经营情况表

| 编号                        | 需求描述                                     |
| :------------------------ | :--------------------------------------- |
| Profit.Input              | 系统应该允许用户使用键盘和鼠标输入（输入）                    |
| Profit.Input.Date         | 系统应该允许用户输入查询的开始日期和结束日期（输入）               |
| Profit.Input.List         | 在用户输入起止日期后，系统要展示收支状况和利润。参见Profit.Scan（输出） |
| SalesDetails.Input.Cancel | 在用户输入取消命令时（查询），系统关闭当前查询窗口，返回用户首页（输出）     |
| Profit.Input.Invalid      | 在用户输入非法标识符时，系统提示无效（输出）                   |
| Profit.Scan               | 系统要展示该时间区间内的收入支出和利润，收入包括销售收入、商品类收入（商品报溢收入、成本调价收入、进货退货差价、代金券与实际收款差额收入） 、折让后总收入，折让金额），支出包括销售成本、商品类支出（商品报损、商品赠出）、总支出（输出，逻辑文件） |
| Profit.Scan.End           | 系统要允许用户结束查看经营情况表（查询）                     |
| Profit.Export             | 系统要能够导出经营情况表excel文件（对外接口）                |

| 功能点     | 数量                      |
| ------- | :---------------------- |
| 输入      | 2                       |
| 输出      | 4                       |
| 查询      | 2                       |
| 内部逻辑文件  | 1                       |
| 对外接口文件  | 1                       |
| 功能点测度总数 | 2×4+4×5+2×4+1×10+1×7=53 |
| FP      | 53×(0.65+0.01×40)=55.65 |

#### 3.15 审批单据

#### 3.16 制定促销策略

#### 3.17 管理用户账户和权限
