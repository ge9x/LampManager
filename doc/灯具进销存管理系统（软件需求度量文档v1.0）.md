# 灯具进销存管理系统（软件需求度量文档v1.0）

## 学院

南京大学软件学院

## 成员

乐盛捷，胡本霖，仲于芯，朱雨欣

## 目录

[TOC]

## 更新历史

| 修改人员 |    日期     | 变更原因 | 版本号  |
| :--: | :-------: | :--: | :--: |
| 全体成员 | 2017/9/27 | 最初草稿 | v1.0 |
|      |           |      |      |
|      |           |      |      |

## 1.1复杂度调整因子

* 0（不重要）到5（非常重要）

| 编号   | 描述                       | MSCS估计值 |
| ---- | ------------------------ | ------- |
| 1    | 系统需要备份和恢复吗？              | 3       |
| 2    | 需要专门的网络数据通信吗？            | 0       |
| 3    | 存在分布式处理功能吗               | 5       |
| 4    | 性能关键吗？                   | 2       |
| 5    | 系统将运行在一个现有的、使用困难的操作环境吗？  | 2       |
| 6    | 系统需要在线数据项吗？              | 4       |
| 7    | 在线数据项目需要对多个屏幕或操作建立输入事务吗？ | 5       |
| 8    | 逻辑文件在线更新吗？               | 4       |
| 9    | 输入、输出、文件或查询是复杂的吗？        | 2       |
| 10   | 内部处理是复杂的吗？               | 3       |
| 11   | 所设计的代码要求可复用吗？            | 3       |
| 12   | 设计要求包括移交与安装吗？            | 3       |
| 13   | 系统需要设计为多个安装以适应不同组织吗？     | 0       |
| 14   | 系统设计要求易于修改和易于使用吗？        | 4       |

**本系统的复杂度调整因子合计为40**

## 1.2 加权因子

本系统属于中等系统，加权因子如下：

* 输入数量：4
* 输出数量：5
* 查询数量：4
* 逻辑文件数量：10
* 对外接口数量：7

## 2.总体度量统计

* 功能需求数量：
* 功能点数量：
* 总输入数量：
* 总输出数量：
* 总查询数量：
* 总逻辑文件数量：
* 总对外接口数量：
* 功能点测度总数：
* 总FP：

## 3.需求用例度量

#### 3.1 管理商品分类

#### 3.2 管理商品

#### 3.3 查看库存

#### 3.4 盘点库存

#### 3.5 同步库存

#### 3.6 管理客户

#### 3.7 制定进货单和退货单

#### 3.8 制定销售出货单和销售退货单

#### 3.9 管理账户

#### 3.10-1 制定收款单

#### 3.10-2 制定付款单

#### 3.10-3 制定现金费用单

#### 3.11 期初建账
|           编号            |                 需求描述                 |
| :---------------------: | :----------------------------------: |
|     InitialBill.Add     |         系统允许财务人员发起期初建账请求（查询）         |
|  InitialBill.Add.Save   | 在用户发起期初建账请求时（查询），系统存储当前帐中全部信息（逻辑文件）  |
|  InitialBill.Add.Start  |    在信息保存完毕后，系统给出期初建账所需信息要求填写（输出）     |
|  InitialBill.Add.Valid  | 在财务人员填写信息完整并提交时（输入，查询），系统要提示添加成功（输出） |
| InitialBill.Add.Invalid | 在财务人员填写信息不完整时（输入），系统要提示财务人员补全信息（输出）  |
| InitialBill.Add.Cancel  |   在财务人员取消新建账任务时（查询），系统结束期初建账任务（输出）   |
|     InitialBill.End     |        系统应该允许财务人员结束期初建账任务（输出）        |
| InitialBill.End.Update  |           系统更新当前帐的信息（逻辑文件）           |
|  InitialBill.End.Save   |  系统单独存储期初信息（逻辑文件），同时将此信息作为系统的启动初始状态  |
|  InitialBill.End.Close  | 在财务人员确定期初建账任务完成时（查询），系统关闭期初建账任务（输出）  |

| 功能点     | 数量                      |
| ------- | ----------------------- |
| 输入      | 2                       |
| 输出      | 6                       |
| 查询      | 5                       |
| 内部逻辑文件  | 3                       |
| 对外接口文件  | 0                       |
| 功能点测量总数 | 2×4+6×5+5×4+3×10+0×7=88 |
| FP      | 88×（0.65+0.01×40）=92.4  |

#### 3.12 查看销售明细表

#### 3.13 查看经营历程表

#### 3.14 查看经营情况表

#### 3.15 审批单据
|               编号               |                   需求描述                   |
| :----------------------------: | :--------------------------------------: |
|          Examine.Scan          |         系统应该响应总经理审批单据的请求（查询，输出）          |
|       Examine.Scan.List        |    在总经理发起审批单据请求时（查询），系统显示待审批单据列表（输出）     |
|     Examine.Scan.Specific      |   在总经理选择一项未审批单据时（查询），系统显示选中单据的详细内容（输出）   |
|  Examine.Scan.Specific.Close   |      当总经理取消查看该项单据时（查询），系统返回上一状态（输出）      |
|      Examine.Scan.Select       |   当总经理勾选通过审批单据时（查询），系统显示该几项单据勾选状态（输出）    |
|   Examine.Scan.Select.Cancel   |   当总经理取消勾选的单据时（查询），系统取消该几项单据的选择状态（输出）    |
|      Examine.Scan.Approve      |       当总经理确认选择时（查询），系统显示“审批成功”（输出）       |
|      Examine.Scan.Cancel       |     当总经理取消审批单据任务时（查询），系统结束审批单据任务（输出）     |
|          Examine.End           |         系统应该允许总经理结束审批单据任务（查询，输出）         |
|       Examine.End.Update       | 在总经理要求结束审批单据任务时（查询），系统更新数据，参见Examine.Update（逻辑文件） |
|        Examine.End.Send        | 在总经理要求结束审批单据任务时（查询），系统向提交单据的相关人员发送消息（输出） |
|       Examine.End.Close        |    在总经理确认审批单据任务完成时（查询），系统关闭审批单据任务（输出）    |
|         Examine.Update         | 系统更新重要数据（逻辑文件），整个更新过程组成一个事务，要么全部更新，要么全部不更新 |
|      Examine.Updata.Date       |              系统更新审批时间（逻辑文件）              |
|      Examine.Updata.State      |         系统更新勾选单据状态为“审批后状态”（逻辑文件）         |
|        Examine.History         |        系统应该相应总经理查看历史单据的请求（查询，输出）         |
|      Examine.History.List      | 当总经理提出查看历史单据请求时（查询），系统应该依照时间先后顺序（从最近至较早）显示单据列表（输出） |
|    Examine.History.Specific    | 当总经理选择一项历史审批单据时（查询），系统应该显示单据详细内容以及审批结果（输出） |
| Examine.History.Specific.Close |     当总经理取消查看该项历史单据时（查询），系统返回上一状态（输出）     |
|   Examine.History.List.Close   |     当总经理取消查看历史审批单据时（查询），系统返回上一状态（输出）     |

| 功能点     | 数量                         |
| ------- | -------------------------- |
| 输入      | 0                          |
| 输出      | 16                         |
| 查询      | 17                         |
| 内部逻辑文件  | 4                          |
| 对外接口文件  | 0                          |
| 功能点测量总数 | 0×4+16×5+17×4+4×10+0×7=188 |
| FP      | 188×（0.65+0.01×40）=197.4   |

#### 3.16 制定促销策略
|               编号                |                   需求描述                   |
| :-----------------------------: | :--------------------------------------: |
|          Promotion.New          |        系统应该响应总经理制定促销策略的请求（查询，输出）         |
|      Promotion.New.Select       | 当总经理选择新建促销策略类型时（查询），系统显示该类型促销策略需填内容列表（输出） |
|      Promotion.New.Confirm      |      系统应该允许总经理确认（查询）促销策略内容填写完全（输入）       |
|  Promotion.New.Confirm.Invalid  | 当新建策略的填写内容没有全部通过检查时（输入），系统提示有促销策略数据不完整或不正确（输出） |
|   Promotion.New.Confirm.Valid   | 当新建策略的填写内容全部都通过检查时（输入），系统显示“设置成功”（输出），并更新数据（逻辑文件） |
|          Promotion.Del          | 当总经理请求删除已有的促销策略时（查询），系统在促销策略列表中移除指定的促销策略（输出） |
|         Promotion.Edit          |       系统应该允许总经理编辑一个已有的促销策略（查询，输出）        |
|        Promotion.Cancel         |  当总经理请求取消促销策略定制时（查询），系统应该结束定制促销策略任务（输出）  |
|         Promotion.Valid         |          系统应该验证每个促销策略的数据完整性和一致性          |
|    Promotion.Valid.StartDate    |  在促销策略开始日期为空时（输入），系统提示开始日期不正确，验证不通过（输出）  |
|     Promotion.Valid.EndDate     | 在促销策略的结束日期为空或者结束日期早于等于当天或者结束日期早于开始日期时（输入），系统提示结束日期不正确（输出），验证不通过 |
|   Promotion.Valid. GoodsGift    | 在针对用户或总价中的商品赠送策略中，促销商品标识或赠品标识不在商品目录中时（输入），系统提示促销商品标识或赠品标识不正确（输出），验证不通过 |
|  Promotion.Valid.GoodsDiscount  | 在针对用户的价格折让策略中，促销商品标识不在商品目录中或者折让价格为空或者折让价格<=0或者折让价格>=价格时（输入），系统提示商品标识或者特价不正确（输出），验证不通过 |
| Promotion.Valid. AmountDiscount | 在特价包策略中，特价包价格为空或者特价包价格<=0或者特价包价格大于商品原价总和时（输入），系统提示特价包价格错误（输出），验证不通过 |
|   Promotion.Valid. Redundancy   |    在促销策略存在重复时（查询），系统提示存在重复（输出），验证不通过     |
|        Promotion.Update         | 系统更新重要数据（逻辑文件），整个更新过程组成一个事务，要么全部更新，要么全部不更新 |
|      Promotion.Update.User      |             系统更新会员促销策略（逻辑文件）             |
|      Promotion.Update.Pack      |             系统更新特价包策略（逻辑文件）              |
| Promotion.Update.AmountDiscount |             系统更新总价促销策略（逻辑文件）             |
|          Promotion.End          |        系统应该允许总经理结束制定促销策略任务（查询，输出）        |
|       Promotion.End.Close       |    在总经理确认促销策略制定任务完成时（查询），系统关闭该任务（输出）     |

| 功能点     | 数量                        |
| ------- | ------------------------- |
| 输入      | 8                         |
| 输出      | 15                        |
| 查询      | 9                         |
| 内部逻辑文件  | 4                         |
| 对外接口文件  | 0                         |
| 功能点测量总数 | 8×4+15×5+9×4+4×10+0×7=183 |
| FP      | 183×（0.65+0.01×40）=192.15 |

#### 3.17 管理用户账户和权限
|         编号          |                   需求描述                   |
| :-----------------: | :--------------------------------------: |
|      User.New       |     在管理员请求增加用户时（查询），系统显示所需填写信息列表（输出）     |
|  User.New.Confirm   | 在管理员确认填写信息正确时（输入，查询），系统记录用户信息（逻辑文件），并在用户列表中添加该用户（输出） |
|   User.New.Cancel   |      在管理员取消新增用户时（查询），系统关闭新增用户任务（输出）      |
|      User.Del       | 在管理员请求移除用户时（查询），系统将用户从列表中移除（输出），并删除该用户信息（逻辑文件） |
|   User.Del.Cancel   |      在管理员取消移除用户时（查询），系统关闭移除用户任务（输出）      |
|     User.Modify     |     当管理员请求调整用户时（查询），系统显示用户信息编辑页面（输出）     |
| User.Modify.Confirm | 当管理员确认完成调整用户时（输入，查询），系统记录用户信息（逻辑文件），并关闭调整用户任务（输出） |
| User.Modify.Cancel  |      当管理员取消调整用户时（查询），系统关闭调整用户任务（输出）      |
|    User.Confirm     | 在管理员确认用户调整任务结束时（查询），系统更新数据（逻辑文件），关闭用户调整任务（输出） |
|     User.Update     |             系统更新用户目录信息（逻辑文件）             |

| 功能点     | 数量                        |
| ------- | ------------------------- |
| 输入      | 2                         |
| 输出      | 9                         |
| 查询      | 9                         |
| 内部逻辑文件  | 5                         |
| 对外接口文件  | 0                         |
| 功能点测量总数 | 2×4+9×5+9×4+5×10+0×7=139  |
| FP      | 139×（0.65+0.01×40）=145.95 |
