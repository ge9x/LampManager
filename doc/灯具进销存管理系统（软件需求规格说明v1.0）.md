# 灯具进销存管理系统（软件需求规格说明v1.0）  

## 学院

南京大学软件学院

## 成员

乐盛捷，胡本霖，仲于芯，朱雨欣

## 目录

[TOC]

## 更新历史

| 修改人员 |  日期  | 变更原因 | 版本号  |
| :--: | :--: | :--: | :--: |
|      |      |      |      |
|      |      |      |      |
|      |      |      |      |

## 1.引言

### 1.1 目的



### 1.2范围
  灯具进销存系统是公司S为南京一专业从事灯具照明行业的企业（某灯具的南京地区总代理，主要在南京负责品牌的推广及项目的落地销售、分销的批发等工作，服务对象包括项目业主、施工单位、分销商、设计院、终端用户等）开发的业务系统。
  现公司规模扩大，企业业务量、办公场所、员工数都发生增长，为适应新的环境，提高工作效率和用户满意度。
  此系统上线的目标是运行六个月后，减少挤压库存，增加销售额，提高财务人员工作效率，为经理的决策做支持。

### 1.3 参考文献



## 2.总体描述

### 2.1 商品前景
  随着公司规模越来越大，灯具进销存系统能够帮助公司内部人员进行商品分类管理，快速查看库存信息，更好地掌握客户、账户信息以及单据和销售情况，快速提高公司内部人员的效率。进销存系统能帮客户建立起积分体系，协调完善公司内部的分工协作，随着人们的工作节奏加快，进销存系统将体现更大的价值。

#### 2.1.1 背景与机遇
  一民营企业专业从事灯具照明行业，是某灯具的南京地区总代理，主要在南京负责品牌的推广及项目的落地销售、分销的批发等工作，服务对象包括项目业主、施工单位、分销商、设计院、终端用户等。随着公司规模越来越大，企业业务量、办公场所、员工数都发生增长，为了适应新的环境，提高工作效率和用户满意度，该公司迫切需要开发一套灯具进销存系统，满足企业新的发展需要。此系统将提供简洁、出错率低的人机交互，保证客户和系统能够实现实时数据交换，在提高工作效率的情况下提高客户满意度。

#### 2.1.2 业务需求

### 2.2商品功能

### 2.3用户特征

| 用户     | 特征                                       |
| :----- | ---------------------------------------- |
| 库存管理人员 | 公司有1~2个库存管理人员，他们负责商品分类、商品信息管理和库存管理。库存管理人员可以对商品的信息如商品所属分类、编号、名称、型号等进行管理，包括增加、删除、修改、查询。库存管理人员每天要对库存进行查看、盘点，出现系统数据与实际数据不吻合的情况时，要制定相关单据。由于牵涉到商品信息，库存管理人员的任务较为重要。库存管理人员的计算机操作能力一般，能够简单实用办公信息化系统，希望新系统不会增加现有工作量。对新系统基本持积极态度。 |
| 进货销售人员 | 公司有4~8个进货销售人员。他们需要对客户进行管理，记录客户相关信息。他们每天都要完成大量销售任务，制定相应售货单。他们每天还要处理退货，可能一次退回单个商品，更可能一次退回多个商品，此时需要制定相应的销售退货单。同时，他们还要负责向供应商进货与退货，并制定相应单据。任务相对繁重。进货销售人员的计算操作技能一般，希望新系统不会增加现有工作量。对新系统基本持积极态度。 |
| 财务人员   | 公司有1~2个财务人员。他们需要在每个新的财年进行期初建账，可以管理公司的银行账户。他们需要通过制定收款单和付款单来对公司银行账户做相应修改。他们可以查看销售明细表、经营历程表和经营情况表。由于该项工作涉及钱财事宜，所以他们对软件系统的依赖很大。财务人员的计算机操作能力较强，希望新系统不会增加现有工作。对新系统基本持积极态度。 |
| 总经理    | 公司有2个总经理。总经理需要审批并调整所有的单据内容。他们可以查看销售明细表、经营历程表和经营情况表。每月会有几个生产厂家针对自己的商品提出赠送或特价促销请求。对于一些积压商品，总经理要通过为这些商品制定促销策略，来及时处理这些商品。总经理可以针对不同级别用户制定促销策略，可以制定特价包，或是针对不同总价的促销策略。通过这些策略来稳定客户，提高销量。总经理需处理的事务较多，工作繁忙，希望新系统不要太多地浪费他们的时间。总经理的计算机操作能力强，能够熟练使用办公信息化系统。对新系统持积极态度。 |
| 管理员    | 整个系统有1个系统管理员，他的工作是每月几次处理员工雇佣、离职与职位变换。离职和职位变换通常是单个员工行为。系统管理人员是计算机专业维护人员，计算机技能很好。 |



### 2.4约束

CON1：系统将运行在Windows 7/8/10  x86/x64 环境下。

CON2：系统需装有JRE。

CON3：系统需装有Office Excel。

CON4：在开发中，开发者要提交软件需求规格说明文档、设计描述文档和测试报告。

CON5：项目要使用持续集成方法进行开发。

CON6：采用Java语言开发。

CON7：用户可远程使用系统。

CON8：图形化界面进行操作。

### 2.5假设与依赖

AE1：承载数据库的硬件设备可长期供电，不会崩溃。

AE2：用户的网络状态良好，不会出现中断。

AE3：进货单、退货单和赠送单审批通过后，库存管理人员会完成相应的现实进出货操作。

AE4：收款单和付款单审批通过后，财务人员会完成相应的现实银行账户操作。

AE5：红冲操作对其他单据造成影响时，财务人员会线下联系相应单据负责人处理。

AE6：库存管理人员会定期查看库存并且使用系统记录库存信息。

AE7：商品名称及型号都相同就会被视为相同商品。

## 3.详细需求描述

### 3.1对外接口需求

#### 3.1.1用户界面

本系统采用图形化用户界面，界面风格简洁，操作方便，支持用户用鼠标和键盘进行操作，具体考虑使用 Material Design 的界面风格，界面布局整齐合理，不会过于复杂

#### 3.1.2 通信接口 

客户端与服务器使用 RMI 进行通信

#### 3.1.3 软件接口

本系统运行在 windows x86/x64 环境下，数据使用数据库进行保存，需要机器具有JRE

### 3.2 功能需求
#### 3.2.1 管理商品分类

##### 3.2.1.1 特性描述

在需要对商品分类进行管理时，一个经过验证的库存管理人员可以对商品分类进行增加、删除、修改操作。

优先级 = 高

##### 3.2.1.2 刺激/响应序列

刺激：库存管理人员请求管理商品分类。

响应：系统显示所有的商品分类。

刺激：库存管理人员请求增加商品分类。

响应：系统提示库存管理人员填写新商品分类信息。

刺激：库存管理人员取消增加商品分类。

响应：系统关闭增加商品分类。

刺激：库存管理人员确认新增商品分类。

响应：系统更新商品分类信息，关闭增加商品分类。

刺激：库存管理人员请求删除商品分类。

响应：系统请求库存管理人员选择要删除的商品分类。

刺激：库存管理人员取消删除商品分类。

响应：系统关闭删除商品分类。

刺激：库存管理人员确认删除商品分类。

响应：系统更新商品分类信息，关闭删除商品分类。

刺激：库存管理人员请求修改商品分类。

响应：系统请求库存管理人员选择要修改的商品分类。

刺激：库存管理人员取消修改商品分类。

响应：系统关闭修改商品分类。

刺激：库存管理人员确认修改商品分类。

响应：系统更新商品分类信息，关闭修改商品分类。

##### 3.2.1.3 相关功能需求

|               编号                |                   需求描述                   |
| :-----------------------------: | :--------------------------------------: |
|    Classification.Initialize    |  系统允许库存管理人员在进行商品分类管理，操作时进行键盘输入以及鼠标点击操作   |
|       Classification.Show       | 系统允许库存管理人员进行商品分类的查看，系统默认自动在表中显示所有商品分类（按照中文字典顺序） |
|   Classification.Show.Search    | 当库存管理人员欲进行特定商品分类的查询时可以选择：输入时间段或名称，并点击“查询”按钮进行查询，而后在表格中列出符合条件的商品分类 |
| Classification.Show.Search.Null |        当没有符合条件的商品分类时，系统提示不存在该商品分类        |
|   Classification.Show.Details   | 当库存管理人员欲进行特定商品分类的详细内容查看或修改商品分类内容时，选择某一商品分类，并点击“修改或查看选定商品分类”按钮进行查看或修改 |
|   Classification.Show.Return    |          库存管理人员点击“返回”按钮，返回上一级界面          |
|      Classification.Parent      | 库存管理人员点击其父类的名称查看其父类的详细信息，进入其父类的修改或查看商品分类界面 |
|       Classification.Sub        | 库存管理人员点击其子类的名称查看其子类的详细信息，进入其子类的修改或查看商品分类界面 |
|       Classification.New        | 系统允许库存管理人员在商品分类列表中增加新的商品分类，并自动生成新商品分类的编号 |
|    Classification.New.Cancel    |     库存管理人员请求取消对商品分类的增加操作时，系统关闭增加商品分类     |
|   Classification.New.Confirm    | 在库存管理人员进行商品分类添加工作时,若输入数据符合格式，系统添加商品分类至数据库并显示添加成功 |
|     Classification.Invalid      | 在增加或修改商品分类，输入数据不符合商品分类信息格式时，系统提示商品分类信息格式错误 |
|    Classification.Duplicate     | 在库存管理人员进行商品分类的增加或修改工作时，填写了已存在的商品名称并请求确认，系统提示已存在的商品分类名称 |
|      Classification.Delete      |       系统允许库存管理人员在商品分类列表中选择商品分类进行移除       |
| Classification.Delete.NotEmpty  | 库存管理人员删除某一商品分类时，若此商品分类下有子分类或商品，提示该商品分类不为空的叶分类，无法删除 |
|      Classification.Modify      |       系统允许库存管理人员在商品分类列表中选择商品分类进行修改       |
|  Classification.Modify.Cancel   |     库存管理人员请求取消对商品分类的修改操作时，系统关闭修改商品分类     |
|  Classification.Modify.Confirm  |    库存管理人员确认对商品分类的操作时，系统更新数据，关闭修改商品分类     |
|        Classification.ID        | 商品分类编号根据商品分类的父分类以及添加次序自动生成，在新增商品分类的时候自动添加 |
|      Classification.Update      |                系统更新商品分类信息                |

#### 3.2.2 管理商品

##### 3.2.2.1 特性描述

在需要对商品进行管理时，一个经过验证的库存管理人员可以对商品进行增加、删除、修改操作。

优先级 = 高

##### 3.2.2.2 刺激/响应序列

刺激：库存管理人员进入商品页面。

响应：系统显示所有的商品。

刺激：库存管理人员请求增加商品。

响应：系统提示库存管理人员填写新商品信息。

刺激：库存管理人员取消增加商品。

响应：系统关闭增加商品。

刺激：库存管理人员确认新增商品。

响应：系统更新商品信息，关闭增加商品。

刺激：库存管理人员请求删除商品。

响应：系统请求库存管理人员选择要删除的商品。

刺激：库存管理人员取消删除商品。

响应：系统关闭删除商品。

刺激：库存管理人员确认删除商品。

响应：系统更新商品信息，关闭删除商品。

刺激：库存管理人员请求修改商品。

响应：系统请求库存管理人员选择要修改的商品。

刺激：库存管理人员取消修改商品。

响应：系统关闭修改商品。

刺激：库存管理人员确认修改商品。

响应：系统更新商品信息，关闭修改商品。

##### 3.2.2.3 相关功能需求

|              编号              |                   需求描述                   |
| :--------------------------: | :--------------------------------------: |
|       Goods.Initialize       |    系统允许库存管理人员在进行商品管理操作时进行键盘输入以及鼠标点击操作    |
|          Goods.Show          | 系统允许库存管理人员进行商品的查看，系统默认自动在表中显示所有商品（按照中文字典顺序） |
|      Goods.Show.Search       | 当库存管理人员欲进行特定商品的查询时可以选择：输入时间段、名称或关键字、商品编号、所属仓库或所属分类，并点击“查询”按钮进行查询（前面所述条件可选择任意组合进行模糊查找），而后在表格中列出所有符合条件的商品 |
|  Goods.Show.Search.Details   | 当库存管理人员欲进行特定商品的详细内容查看或修改商品内容时，选择某一商品，并点击“修改或查看选定商品”按钮进行查看或修改 |
|    Goods.Show.Search.Null    |    在当前的查询条件下没有符合条件的商品时，系统显示没有符合条件的商品     |
|      Goods.Show.Return       |             库存管理人员请求返回上一级界面              |
|        Goods.Details         | 在仓库管理人员请求查看商品详细信息后，系统允许库存管理人员进行商品详细信息的查看。系统将显示所选商品的名称、编号、型号、库存数量、进价、零售价、最近进价、最近零售价、所属分类、所在仓库、警戒数量、一个包含此商品最近进出货的列表以及一个包含此商品最近销售情况的列表。另外，只有库存管理人员有修改商品内容的权限，其他人员在查看商品内容时将不会拥有修改内容的权限。 |
| Goods.Details.Classification |   库存管理人员在商品的详细信息页面点击所属分类，请求查看该分类下的所有商品   |
|    Goods.Details.Records     |  库存管理人员选择与此商品有关的进出货单或者销售单，请求查看所选单据的详细信息  |
|     Goods.Details.Return     |             库存管理人员请求返回上一级界面              |
|     Goods.Details.Modify     | 库存管理人员可以选择重新输入商品的名称、型号、零售价等进行商品信息的修改，填写完成后确认修改，系统将提示修改成功，更新商品信息 |
| Goods.Details.Modify.Invalid | 在库存管理人员进行商品修改工作时，输入了不合规范的商品数据并请求修改商品，系统提示输入的商品数据不合规范 |
| Goods.Details.Modify.Cancel  |       库存管理人员请求取消对商品的修改操作时，系统关闭修改商品       |
| Goods.Details.Modify.Confirm | 在库存管理人员进行商品修改工作时，完成商品数据输入并确认修改商品，若信息填写无误，系统显示修改成功，更新商品信息 |
|          Goods.New           |    系统允许库存管理人员在商品列表中增加新的商品，并自动生成新商品的编号    |
|      Goods.New.Invalid       | 在库存管理人员进行商品添加工作时，输入了不合规范的商品数据并请求增加商品，系统提示输入的商品数据不合规范 |
|     Goods.New.Duplicate      | 在库存管理人员进行商品添加工作时，输入了已存在的商品名称并请求增加商品，系统提示已存在该商品 |
|       Goods.New.Cancel       |       库存管理人员请求取消对商品的增加操作时，系统关闭增加商品       |
|      Goods.New.Confirm       | 在库存管理人员进行商品添加工作时，完成商品数据输入并确认增加商品，若信息填写无误，系统显示添加成功，更新商品信息 |
|         Goods.Delete         |         系统允许库存管理人员在商品列表中选择商品进行移除         |
|     Goods.Delete.OnSale      | 库存管理人员请求删除某一商品时，若此商品处于销售状态（即处于销售单中、且未完成相关销售单的交易工作），系统提示商品仍处于活跃状态，无法删除 |
|           Goods.ID           |   商品编号根据商品所在分类以及添加次序自动生成，在新建商品的时候自动添加    |
|         Goods.Update         |                 系统更新商品信息                 |

#### 3.2.3 查看库存

##### 3.2.3.1 特性描述

在一个经过验证的库存管理人员需要了解商品的库存情况时，可以提出请求，系统给出该时段内该仓库的出/入库数量/金额，销售/进货的数量/金额。

优先级 = 高

##### 3.2.3.2 刺激/响应序列

刺激：库存管理人员请求查看库存。

响应：系统提示库存管理人员选择时间段和仓库。

刺激：库存管理人员输入要查看的时间段和仓库。

响应：系统显示该时间段内该仓库的出/入库数量/金额，销售/进货的数量/金额。

刺激：库存管理人员结束查看库存。

响应：系统关闭查看库存任务。

##### 3.2.3.3 相关功能需求

|             编号             |                   需求描述                   |
| :------------------------: | :--------------------------------------: |
|   Inventory. Initialize    |    系统允许库存管理人员在进行库存查看操作时进行键盘输入以及鼠标点击操作    |
|       Inventory.Show       | 系统允许库存管理人员进行库存的查看，系统默认自动在表中显示所有库存（按照文件保存顺序） |
|   Inventory.Show.Search    | 当库存管理人员欲进行特定库存的查询时可以选择：输入时间段、仓库、名称或关键字进行查询（前面所述条件可选择组合进行模糊查找），而后在表格中列出符合条件的库存情况 |
| Inventory.Show.Search.Null |   在输入的查询条件下没有库存情况时，系统提示该时间段下仓库里没有库存情况    |
|   Inventory.Show.Details   | 当库存管理人员欲进行特定库存的详细内容查看或修改库存内容时，选择某一商品进行查看或修改 |
|   Inventory.Show.Return    |             库存管理人员请求返回上一级界面              |
|      Inventory.Check       | 库存管理人员选择仓库，设定一个时间段，查看此时间段内此仓库的出/入库数量/金额，销售/进货的数量/金额，并显示库存数量的合计。 |
|  Inventory.Check.Confirm   | 在库存管理人员进行商品查看时，完成查询条件输入并请求查看，若查询条件输入无误，系统显示此条件下的出/入库数量/金额，销售/进货的数量/金额，并显示库存数量的合计。 |

#### 3.2.4 盘点库存

##### 3.2.4.1 特性描述

在一个经过验证的库存管理人员需要对当天的库存快照进行盘点时，可以提出请求，系统给出当天的库存快照的盘点。

优先级 = 高

##### 3.2.4.2 刺激/响应序列

刺激：库存管理人员请求盘点当天库存。

响应：系统显示当天的库存快照（包括当天的各种商品的名称，型号，所属仓库、库存数量，库存均价，批次，批号，出厂日期，并且显示行号）。

刺激：库存管理人员结束盘点库存。

响应：系统关闭盘点库存任务。

##### 3.2.4.3 相关功能需求

|            编号            |                   需求描述                   |
| :----------------------: | :--------------------------------------: |
|  Stocktaking.Initialize  |    系统允许库存管理人员在进行库存盘点操作时进行键盘输入以及鼠标点击操作    |
|     Stocktaking.Show     | 系统要展示当天的库存快照，包括当天的各种商品的名称，型号，所属仓库、库存数量，库存均价，批次，批号，出厂日期，并且显示行号 |
| Stocktaking.Show.Details | 当库存管理人员欲进行特定库存的详细内容查看或修改库存内容时，选择某一商品进行查看或修改 |
| Stocktaking.Show.Output  | 库存管理人员请求导出今日库存盘点至Excel表格，系统将今日的库存盘点导出至Excel表格。 |
| Stocktaking.Show.Return  |             仓库管理人员请求返回上一级界面              |

#### 3.2.5 同步库存

##### 3.2.5.1 特性描述

当实际仓库中商品数目与系统中不一致时，库存管理人员可以向系统请求进行库存报溢或报损，向系统库存中添加或减少商品使一致。

优先级 = 中

##### 3.2.5.2 刺激/响应序列

刺激：库存管理人员请求制定库存报溢/报损单。

响应：系统提示库存管理人员填写库存报溢/报损单（包括溢出/缺损商品的名称、型号、所属仓库、溢出/缺损数量）。

刺激：库存管理人员取消填写库存报溢/报损单。

响应：系统关闭盘点库存任务。

刺激：库存管理人员确认制定库存报溢/报损单。

响应：系统生成库存报溢/报损单，关闭盘点库存任务。

##### 3.2.5.3 相关功能需求

|         编号          |            需求描述            |
| :-----------------: | :------------------------: |
|   Synchronize.New   |       系统允许库存管理人员同步库存       |
| Synchronize.Cancel  |  库存管理人员请求取消同步库存，系统关闭同步库存   |
| Synchronize.Invalid | 在输入不合规范的单据数据时，系统提示单据数据输入错误 |
| Synchronize.Confirm | 系统应该允许库存管理人员确认制定库存报溢/报损单结束 |
| Synchronize.Update  |       系统更新库存报溢/报损单列表       |

#### 3.2.6 管理客户

##### 3.2.6.1 特性描述

  进货销售人员可以通过增加客户、删除客户、修改客户属性、查询客户来完成客户管理操作，方便对客户资料的管理。

  优先级：高

##### 3.2.6.2 刺激/响应序列

  刺激：进货销售人员请求登录界面

  响应：系统识别和授权给进货销售人员

  刺激：进货销售人员将需要添加的客户属性添加进入系统

  响应：系统记录并显示添加的客户信息

  刺激：进货销售人员从系统中删除需要废除的客户信息

  响应：系统删除该客户属性

  刺激：进货销售人员修改客户属性中应收应付

  响应：系统提示应收应付不可修改，并返回上一界面

  刺激：进货销售人员修改客户属性中的应收额度

  响应：系统判断该操作者是否具有最高权限。若有，可修改应收额度；若无最高权限，系统提示应收额度仅最高权限可以修改，并返回上一界面

  刺激：进货销售人员通过输入关键字、客户编号等进行模糊查找，并选择相关用户

  响应：系统显示查找出来的客户

  刺激：进货销售人员选择结束管理客户的操作

  响应：系统记录并更新相关客户资料

##### 3.2.6.3 相关功能需求

|          编号           |                   需求描述                   |
| :-------------------: | :--------------------------------------: |
|    Salesman.Input     |              系统允许进货销售人员登录界面              |
|     Customer.Add      |          系统允许进货销售人员添加需要添加的客户属性           |
|    Customer.Delete    |        系统允许进货销售人员从系统中删去需要废除的客户信息         |
| Customer.Modify.Error | 若进货销售人员修改客户属性中的应收应付，系统提示应收应付不可修改，并返回上一界面 |
| Customer.Modify.Root  | 系统判断操作者是否具有最高权限。若有，可修改应收额度；若无最高权限，系统提示应收额度仅最高权限可以修改，并返回上一界面 |
|     Customer.Seek     | 系统应该允许进货销售人员通过输入关键字、客户编号等进行模糊查找，并选择相关客户  |
|    Customer.Finish    |         系统应该允许进货销售人员选择结束管理客户的操作          |



#### 3.2.7 制定进货单和退货单 

##### 3.2.7.1 特性描述

  进货销售人员已被授权，请求新建一个进货单或退货单，进货单和退货单上包括单据信息（单据编号）、供应商、仓库、操作员、入库商品列表、备注、总额合计信息，能正确快速进行进货退货管理。且进货单、退货单通过审核后，会更改库存数据和客户的应收应付数据。

  优先级：高

##### 3.2.7.2 刺激/响应序列

  刺激：进货销售人员请求新建一个进货单

  响应：系统显示单据内容

  刺激：进货销售人员录入单据编号、供应商、仓库、操作员、入库商品列表、备注、总额合计，其中入库商品列表中的数量、备注都为手动输入

  响应：系统自动计算并填充商品编号、型号、金额，系统记录并显示进货单信息

  刺激：进货销售人员一天的进货单数量超过99999条

  响应：系统提示进货单超出数量不会生成

  刺激：进货销售人员输入的单据编号格式错误

  响应：系统提示单据编号格式错误并要求重新输入

  刺激：进货销售人员选择入库商品列表中的名称

  响应：系统跳转商品选择界面进行选择

  刺激：进货销售人员确认进货单信息，请求生成进货单

  响应：若进货单信息填充完整，系统生成进货单；若信息填充不完整，系统提示需要填完整信息

  刺激：进货销售人员请求新建一个退货单

  响应：系统显示单据内容

  刺激：进货销售人员录入单据编号、供应商、仓库、操作员、出库商品列表、备注、总额合计，其中出库商品列表中的数量、备注都为手动输入

  响应：系统自动计算并填充商品编号、型号、金额，系统记录并显示退货单信息

  刺激：进货销售人员一天的退货单数量超过99999条

  响应：系统提示退货单超出数量不会生成

  刺激：进货销售人员选择退库商品列表中的名称

  响应：系统跳转商品选择界面进行选择

  刺激：进货销售人员确认退货单信息，请求生成退货单

  响应：若退货单信息填充完整，系统生成退货单；若信息填充不完整，系统提示需要填完整信息

##### 3.2.7.3 相关功能需求

|                编号                 |                   需求描述                   |
| :-------------------------------: | :--------------------------------------: |
|        PurchaseOrder.Start        |           系统允许进货销售人员请求新建一个进货单            |
|        PurchaseOrder.Input        | 系统允许进货销售人员录入单据编号、供应商、仓库、操作员、入库商品列表、备注、总额合计，其中入库商品列表中的数量、备注都为手动输入 |
|      PurchaseOrder.Overflow       |    若一天的进货单数量超过99999条，系统提示进货单超出数量无法生成     |
|     PurchaseOrder.FormatError     |  若进货销售人员输入的单据编号格式错误，系统提示单据编号格式错误并要求重新输入  |
| PurchaseOrder.ComInterface.Select |      系统允许进货销售人员从商品选择界面选择入库商品列表中的名称       |
|      PurchaseOrder.Complete       | 若进货单信息填充完整，系统生成进货单；若信息填充不完整，系统提示需要填完整信息  |
|         ReturnOrder.Start         |           系统允许进货销售人员请求新建一个退货单            |
|         ReturnOrder.Input         | 系统允许进货销售人员录入单据编号、供应商、仓库、操作员、出库商品列表、备注、总额合计，其中出库商品列表中的数量、备注都为手动输入 |
|       ReturnOrder.Overflow        |     若一天的退货单数量超过99999条，系统提示货单超出数量无法生成     |
|  ReturnOrder.ComInterface.Select  |      系统允许进货销售人员从商品选择界面选择出库商品列表中的名称       |
|       ReturnOrder.Complete        | 若退货单信息填充完整，系统生成退货单；若信息填充不完整，系统提示需要填完整信息  |

####  

#### 3.2.8 制定销售出货单和销售退货单

##### 3.2.8.1 特性描述

  进货销售人员已被授权，请求新建一个销售出货单或销售退货单，销售出货单和销售退货单上包含单据编号、客户（仅显示销售商）、业务员、操作员、仓库、出货商品清单、折让前总额、折让、使用代金券金额、折让后总额、备注。销售出货单、销售退货单通过审核后，会更改库存数据和客户的应收应付数据。销售出货单对库存的操作是减少库存，销售退货单对库存的操作是增加库存。

##### 3.2.8.2 刺激/响应序列

  刺激：进货销售人员请求新建一个销售出货单

  响应：系统显示单据内容

  刺激：进货销售人员录入单据编号、客户单据编号、客户、业务员、操作员、仓库、出货商品清单、折让前总额、折让、使用代金券金额、折让后总额、备注，其中出货商品清单中商品的数量、单价（可修改）、商品备注是手工输入的

  响应：系统自动生成商品编号、型号和金额，系统记录并显示销售出货单信息

  刺激：进货销售人员一天的销售出货单数量超过99999条

  响应：系统提示销售出货单超出数量不会生成

  刺激：进货销售人员输入的单据编号格式错误

  响应：系统提示单据编号格式错误并要求重新输入

  刺激：进货销售人员选择出库商品清单中的名称

  响应：系统跳转商品选择界面进行选择

  刺激：进货销售人员确认销售出货单信息，请求生成销售出货单

  响应：若销售出货单信息填充完整，系统生成销售出货单；若信息填充不完整，系统提示需要填完整信息

  刺激：进货销售人员请求新建一个销售退货单

  响应：系统显示单据内容

  刺激：进货销售人员录入单据编号、客户单据编号、客户、业务员、操作员、仓库、入货商品清单、折让前总额、折让、使用代金券金额、折让后总额、备注，其中入货商品清单中商品的数量、单价（可修改）、商品备注是手工输入的

  响应：系统自动生成商品编号、型号和金额，系统记录并显示销售退货单信息

  刺激：进货销售人员一天的销售退货单数量超过99999条

  响应：系统提示销售退货单超出数量不会生成

  刺激：进货销售人员选择入库商品清单中的名称

  响应：系统跳转商品选择界面进行选择

  刺激：进货销售人员确认销售退货单信息，请求生成销售退货单

  响应：若销售退货单信息填充完整，系统生成销售退货单；若信息填充不完整，系统提示需要填完整信息

##### 3.2.8.3 相关功能需求

|                  编号                  |                   需求描述                   |
| :----------------------------------: | :--------------------------------------: |
|           SalesOrder.Start           |           系统允许进货销售人员新建一个销售出货单            |
|           SalesOrder.Input           | 系统允许进货销售人员录入单据编号、客户单据编号、客户、业务员、操作员、仓库、出货商品清单、折让前总额、折让、使用代金券金额、折让后总额、备注，其中出货商品清单中商品的数量、单价（可修改）、商品备注是手工输入的 |
|         SalesOrder.Overflow          |  若一天的销售出货单数量超过99999条，系统提示销售出货单超出数量无法生成   |
|        SalesOrder.FormatError        |  若进货销售人员输入的单据编号格式错误，系统提示单据编号格式错误并要求重新输入  |
|    SalesOrder.ComInterface.Select    |      系统允许进货销售人员从商品选择界面选择出库商品列表中的名称       |
|         SalesOrder.Complete          | 若销售出货单信息填充完整，系统生成销售出货单；若信息填充不完整，系统提示需要填完整信息 |
|        SalesReturnOrder.Start        |           系统允许进货销售人员新建一个销售退货单            |
|        SalesReturnOrder.Input        | 系统允许进货销售人员录入单据编号、客户单据编号、客户、业务员、操作员、仓库、入货商品清单、折让前总额、折让、使用代金券金额、折让后总额、备注，其中入货商品清单中商品的数量、单价（可修改）、商品备注是手工输入的 |
|      SalesReturnOrder.Overflow       |  若一天的销售退货单数量超过99999条，系统提示销售退货单超出数量无法生成   |
| SalesReturnOrder.ComInterface.Select |      系统允许进货销售人员从商品选择界面选择入库商品列表中的名称       |
|      SalesReturnOrder.Complete       | 若销售退货单信息填充完整，系统生成销售退货单；若信息填充不完整，系统提示需要填完整信息 |



#### 3.2.9 管理账户

##### 3.2.9.1 特性描述

  财务人员可以通过增加账户、删除账户、修改账户属性、查询账户来完成对账户的管理操作，方便对账户资料的管理。其中账户属性有：名称和金额。

##### 3.2.9.2 刺激/响应序列

  刺激：财务人员请求登录界面

  响应：系统识别和授权给财务人员

  刺激：财务人员将需要添加的账户属性添加进系统

  响应：系统记录并显示添加的账户信息

  刺激：财务人员从系统中删除需要废除的账户信息

  响应：系统删除该账户属性

  刺激：财务人员修改账户属性余额

  响应：系统提示账户余额不可修改

  刺激：财务人员通过输入关键字进行模糊查找

  响应：系统判断财务人员是否具有最高权限。若有最高权限，可以查看账户名称和金额；若无最高权限，系统提示仅最高权限可以查看，并返回上一界面

##### 3.2.9.3 相关功能需求

|          编号          |                   需求描述                   |
| :------------------: | :--------------------------------------: |
|    Salesman.Login    |              系统允许财务人员请求登录界面              |
|     Account.Add      |         系统允许财务人员将需要添加的账户属性添加进系统          |
|    Account.Delete    |         系统允许财务人员从系统中删除需要废除的账户信息          |
| Account.Modify.Error |        若财务人员要修改账户余额，系统提示账户余额不可修改         |
|  Account.Seek.Root   | 若有最高权限，财务人员可以查看账户名称和金额；若无最高权限，系统提示仅最高权限可以查看，并返回上一界面 |


#### 



#### 3.2.10-1 制定收款单

##### 3.2.10-1.1 特性描述

在客户支付采购商品的欠款时，一个经过验证的财务人员可以填写收款单信息，完成收款单的提交，审批通过后，系统会更新客户的应付数据和银行账户数据

优先级 = 高

##### 3.2.10-1.2 刺激/响应序列

刺激：用户请求制定收款单

响应：系统提示用户填写客户和转账列表

刺激：用户输入客户和转账列表完整并提交

响应：系统请求用户确认总额

刺激：用户输入客户和转账列表不完整却提交

响应：系统请求用户补全信息

刺激：用户确认付款单总额

响应：系统提示提交成功，显示审批状态

刺激：用户取消新建收款单

响应：系统提示是否保存为草稿

刺激：用户选择保存为草稿

响应：系统生成草稿收款单

刺激：用户选择不保存为草稿

响应：系统关闭收款单新建任务

##### 3.2.10-1.3 相关功能需求

| 编号                            | 需求描述                                     |
| :---------------------------- | :--------------------------------------- |
| Receipt.Add                   | 系统允许用户发起新建收款单请求                          |
| Receipt.Add.Start             | 在用户发起新建收款单请求时，系统要给出收款单信息要求填写             |
| Receipt.Add.Valid             | 在用户填写信息完整并提交时，系统要提示添加成功，显示单据审批状态         |
| Receipt.Add.Invalid           | 在用户填写信息不完整却提交时，系统要提示用户补全信息               |
| Receipt.Add.End               | 系统要允许用户结束新建收款单的请求                        |
| Receipt.Add.Cancel            | 在用户取消新建收款单时，系统要提示是否保存为草稿                 |
| Receipt.Add.Cancel.Save       | 在用户选择保存时，系统要保存草稿收款单,参见Receipt.State.Draft |
| Receipt.Add.Cancel.NotSave    | 在用户选择不保存时，系统结束新建任务                       |
| Receipt.Modify                | 系统要允许用户发起编辑草稿收款单的请求                      |
| Receipt.Modify.Start          | 在用户选择一张草稿收款单时，系统要给出草稿收款单要求填写             |
| Receipt.Modify.Valid          | 参见Receipt.Add.Valid                      |
| Receipt.Modify.Invalid        | 参见Receipt.Add.Invalid                    |
| Receipt.Modify.End            | 系统要允许用户结束编辑草稿收款单的请求                      |
| Receipt.Update                | 系统更新数据                                   |
| Receipt.Update.Receipt        | 系统更新收款单数据                                |
| Receipt.State.Draft           | 系统要允许用户保存草稿单据                            |
| Receipt.State.Submit          | 系统要允许用户提交单据                              |
| Receipt.State.Approve         | 在总经理审批通过后，系统要更改单据状态为通过                   |
| Receipt.Update.Client.Payable | 在总经理审批通过后，系统要更新客户应付数据                    |
| Receipt.Update.Account        | 在总经理审批通过后，系统要更新银行账户数据                    |

#### 3.2.10-2 制定付款单

##### 3.2.10-2.1 特性描述

在财务人员支付采购商品的欠款时，一个经过验证的财务人员可以填写付款单信息，完成付款单的提交，审批通过后，系统会更新客户的应收数据和银行账户数据

优先级 = 高

##### 3.2.10-2.2 刺激/响应序列

刺激：用户请求制定付款单

响应：系统提示用户填写客户和转账列表

刺激：用户输入客户和转账列表完整并提交

响应：系统请求用户确认总额

刺激：用户输入客户和转账列表不完整却提交

响应：系统请求用户补全未填写信息

刺激：用户确认付款单总额

响应：系统提示提交成功，显示审批状态

刺激：用户取消新建付款单

响应：系统提示是否保存为草稿

刺激：用户选择保存为草稿

响应：系统生成草稿付款单

刺激：用户选择不保存为草稿

响应：系统关闭付款单新建任务

##### 3.2.10-2.3 相关功能需求

| 编号                               | 需求描述                             |
| :------------------------------- | :------------------------------- |
| Payment.Add                      | 系统允许用户发起新建付款单请求                  |
| Payment.Add.Start                | 在用户发起新建付款单请求时，系统要给出付款单信息要求填写     |
| Payment.Add.Valid                | 在用户填写信息完整并提交时，系统要提示添加成功，显示单据审批状态 |
| Payment.Add.Invalid              | 在用户填写信息不完整却提交时，系统要提示用户补全信息       |
| Payment.Add.End                  | 系统要允许用户结束新建付款单的请求                |
| Payment.Add.Cancel               | 在用户取消新建付款单时，系统要提示是否保存为草稿         |
| Payment.Add.Cancel.Save          | 在用户选择保存时，系统要保存草稿付款单              |
| Payment.Add.Cancel.NotSave       | 在用户选择不保存时，系统结束新建任务               |
| Payment.Modify                   | 系统要允许用户发起编辑草稿付款单的请求              |
| Payment.Modify.Start             | 在用户选择一张草稿付款单时，系统要给出草稿付款单要求填写     |
| Payment.Modify.Valid             | 参见Receipt.Add.Valid              |
| Payment.Modify.Invalid           | 参见Receipt.Add.Invalid            |
| Payment.Modify.End               | 系统要允许用户结束编辑草稿付款单的请求              |
| Payment.Update                   | 系统更新数据                           |
| Payment.Update.Payment           | 系统更新付款单数据                        |
| Payment.State.Draft              | 系统要允许用户保存草稿单据                    |
| Payment.State.Submit             | 系统要允许用户提交单据                      |
| Payment.State.Approve            | 在总经理审批通过后，系统要更改单据状态为通过           |
| Payment.Update.Client.Receivable | 在总经理审批通过后，系统要更新客户应收数据            |
| Payment.Update.Account           | 在总经理审批通过后，系统要更新银行账户数据            |

#### 3.2.10-3 制定现金费用单

##### 3.2.10-3.1 特性描述

在客户需要报销现金时，一个经过验证的财务人员可以填写现金费用单信息，完成付款单的提交，审批通过后，系统会更新银行账户数据

优先级 = 高

##### 3.2.10-3.2 刺激/响应序列

刺激：用户请求制定现金费用单

响应：系统提示用户填写客户、银行账户和条目清单

刺激：用户输入客户、银行账户和条目清单完整并提交

响应：系统请求用户确认总额

刺激：用户输入客户、银行账户和条目清单不完整却提交

响应：系统请求用户补全未填写信息

刺激：用户确认现金费用单总额

响应：系统提示提交成功，显示审批状态

刺激：用户取消新建现金费用单

响应：系统提示是否保存为草稿

刺激：用户选择保存为草稿

响应：系统生成草稿现金费用单

刺激：用户选择不保存为草稿

响应：系统关闭现金费用单新建任务

##### 3.2.10-3.3 相关功能需求

| 编号                          | 需求描述                             |
| --------------------------- | -------------------------------- |
| CashBill.Add                | 系统允许用户发起新建现金费用单请求                |
| CashBill.Add.Start          | 在用户发起新建现金费用单请求时，系统要给出现金费用单信息要求填写 |
| CashBill.Add.Valid          | 在用户填写信息完整并提交时，系统要提示添加成功，显示单据审批状态 |
| CashBill.Add.Invalid        | 在用户填写信息不完整却提交时，系统要提示用户补全信息       |
| CashBill.Add.End            | 系统要允许用户结束新建现金费用单的请求              |
| CashBill.Add.Cancel         | 在用户取消新建现金费用单时，系统要提示是否保存为草稿       |
| CashBill.Add.Cancel.Save    | 在用户选择保存时，系统要保存草稿现金费用单            |
| CashBill.Add.Cancel.NotSave | 在用户选择不保存时，系统结束新建任务               |
| CashBill.Modify             | 系统要允许用户发起编辑草稿现金费用单的请求            |
| CashBill.Modify.Start       | 在用户选择一张草稿现金费用单时，系统要给出草稿现金费用单要求填写 |
| CashBill.Modify.Valid       | 参见CashBill.Add.Valid             |
| CashBill.Modify.Invalid     | 参见CashBill.Add.Invalid           |
| CashBill.Modify.End         | 系统要允许用户结束编辑草稿付款单的请求              |
| CashBill.Update             | 系统更新数据                           |
| CashBill.Update.Payment     | 系统更新现金费用单数据                      |
| CashBill.State.Draft        | 系统要允许用户保存草稿单据                    |
| CashBill.State.Submit       | 系统要允许用户提交单据                      |
| CashBill.State.Approve      | 在总经理审批通过后，系统要更改单据状态为通过           |
| CashBill.Update.Account     | 在总经理审批通过后，系统要更新银行账户数据            |

#### 3.2.11 期初建账

##### 3.2.11.1 特性描述

在每一个新的财年，财务人员新建账单，并为新的一套账进行初始化操作，需要添加商品信息，客户信息，银行账户信息。

优先级=低

##### 3.2.11.2 刺激/响应序列

刺激：财务人员请求新建账

响应：系统存储当前帐中全部信息，并提示填写期初建账所需信息

刺激：财务人员填写商品信息、客户信息和银行账户信息，并确认提交

响应：系统单独保存期初信息，并根据期初信息新建账

刺激：财务人员填写信息不完整

响应：系统提示财务人员补全信息

刺激：财务人员取消新建账

响应：系统返回上一状态

##### 3.2.11.3 相关功能需求

|           编号            |             需求描述             |
| :---------------------: | :--------------------------: |
|     InitialBill.Add     |       系统允许财务人员发起期初建账请求       |
|  InitialBill.Add.Save   |  在用户发起期初建账请求时，系统存储当前帐中全部信息   |
|  InitialBill.Add.Start  |  在信息保存完毕后，系统给出期初建账所需信息要求填写   |
|  InitialBill.Add.Valid  |  在财务人员填写信息完整并提交时，系统要提示添加成功   |
| InitialBill.Add.Invalid | 在财务人员填写信息不完整时，系统要提示财务人员补全信息  |
| InitialBill.Add.Cancel  |   在财务人员取消新建账任务时，系统结束期初建账任务   |
|     InitialBill.End     |      系统应该允许财务人员结束期初建账任务      |
| InitialBill.End.Update  |          系统更新当前帐的信息          |
|  InitialBill.End.Save   | 系统单独存储期初信息，同时将此信息作为系统的启动初始状态 |
|  InitialBill.End.Close  | 在财务人员确定期初建账任务完成时，系统关闭期初建账任务  |

#### 3.2.12 查看销售明细表

##### 3.2.12.1 特性描述

在需要了解公司销售记录时，一个经过验证的总经理或财务人员可以选择时间区间，调整筛选条件，查看满足条件的所有商品销售记录，导出销售明细表

优先级 = 中

##### 3.2.12.2 刺激/响应序列

刺激：用户请求查看销售明细表

响应：系统提示用户输入开始日期和结束日期

刺激：用户输入开始日期和结束日期

响应：系统按时间先后顺序展示所选时间区间内所有的商品销售出货单据记录

刺激：用户增加筛选条件

响应：系统按时间先后顺序展示所选时间区间内且符合筛选条件的所有的商品销售出货单据记录

刺激：用户请求导出销售明细表

响应：系统生成销售明细表 excel 文件

##### 3.2.12.3 相关功能需求

| 编号                                  | 需求描述                                     |
| :---------------------------------- | :--------------------------------------- |
| SalesDetails.Input                  | 系统应该允许用户使用键盘和鼠标输入                        |
| SalesDetails.Input.Date             | 系统应该允许用户输入查询的开始日期和结束日期                   |
| SalesDetails.Input.List             | 在用户输入起止日期后，系统要展示销售出货单据列表。参见SalesDetails.List |
| SalesDetails.Input.Cancel           | 在用户输入取消命令时，系统关闭当前查询窗口，返回用户首页             |
| SalesDetails.Input.Invalid          | 在用户输入非法标识符时，系统提示无效                       |
| SalesDetails.List                   | 系统要展示满足时间区间和筛选条件的所有商品销售出货单据列表            |
| SalesDetails.List.Filter            | 系统允许用户在查看时筛选                             |
| SalesDetails.List.Filter.Cancel     | 在用户取消筛选条件时，系统要将此条件从总筛选条件中删除，并显示符合剩余条件的销售出货单据记录，参见SalesDetails.List |
| SalesDetails.List.Filter.GoodName   | 用户选择商品名称进行筛选时，系统要将此条件加入总筛选条件，并显示符合所有条件的销售出货单据记录，参见SalesDetails.List |
| SalesDetails.List.Filter.Client     | 用户选择客户进行筛选时，系统要将此条件加入总筛选条件，并显示符合所有条件的销售出货单据记录，参见SalesDetails.List |
| SalesDetails.List.Filter.Salesman   | 用户选择业务员进行筛选时，系统要将此条件加入总筛选条件，并显示符合所有条件的销售出货单据记录，参见SalesDetails.List |
| SalesDetails.List.Filter.StockHouse | 用户选择仓库进行筛选时，系统要将此条件加入总筛选条件，并显示符合所有条件的销售出货单据记录，参见SalesDetails.List |
| SalesDetails.Export                 | 系统要能够导出销售明细表excel文件                      |

#### 3.2.13 查看经营历程表

##### 3.2.13.1 特性描述

在需要了解公司单据记录时，一个经过验证的财务人员可以选择时间区间，调整筛选条件，查看满足条件的所有商品销售记录，查看单据详细信息，对需要作废的单据红冲或者红冲并复制，导出经营历程表；一个经过验证的总经理可以选择时间区间，调整筛选条件，查看单据详细信息，查看满足条件的所有商品销售记录，导出经营历程表

优先级 = 中

##### 3.2.13.2 刺激/响应序列

刺激：用户请求查看经营历程表

响应：系统提示用户输入开始日期和结束日期

刺激：用户输入开始日期和结束日期

响应：系统按时间先后顺序展示所选时间区间内所有的单据记录，包括销售类单据，进货类单据，财务类单据，库存类单据

刺激：用户增加筛选条件

响应：系统按时间先后顺序展示所选时间区间内且符合筛选条件的所有的单据记录，包括销售类单据，进货类单据，财务类单据，库存类单据

刺激：用户请求导出经营历程表

响应：系统生成经营历程表 excel 文件

刺激：用户请求查看选中单据详细信息

响应：系统展示选中单据详细信息

刺激：用户请求对选中单据红冲

响应：系统判断用户权限，若为财务人员则对该单据红冲，否则系统提示权限不足

刺激：用户请求对选中单据红冲并复制

响应：系统判断用户权限，若为财务人员则对该单据红冲并生成该单据的草稿单，否则系统提示权限不足

##### 3.2.13.3 相关功能需求

| 编号                                       | 需求描述                                     |
| :--------------------------------------- | :--------------------------------------- |
| DocumentsDetails.Input                   | 系统应该允许用户使用键盘和鼠标输入                        |
| DocumentsDetails.Input.Date              | 系统应该允许用户输入查询的开始日期和结束日期                   |
| DocumentsDetails.Input.List              | 在用户输入起止日期后，系统要展示所有单据列表。参见DocumentsDetails.List |
| DocumentsDetails.Input.Cancel            | 在用户输入取消命令时，系统关闭当前查询窗口，返回用户首页             |
| DocumentsDetails.Input.Invalid           | 在用户输入非法标识符时，系统提示无效                       |
| DocumentsDetails.List                    | 系统要展示满足时间区间和筛选条件的所有单据列表                  |
| DocumentsDetails.List.Filter             | 系统允许用户在查看时筛选                             |
| DocumentsDetails.List.Filter.Cancel      | 在用户取消筛选条件时，系统要将此条件从总筛选条件中删除，并显示符合剩余条件的单据记录，参见DocumentsDetails.List |
| DocumentsDetails.List.Filter.DocumentsType | 用户选择商品名称进行筛选时，系统要将此条件加入总筛选条件，并显示符合所有条件的单据记录，参见DocumentsDetails.List |
| DocumentsDetails.List.Filter.Client      | 用户选择客户进行筛选时，系统要将此条件加入总筛选条件，并显示符合所有条件的销售出货单据记录，参见DocumentsDetails.List |
| DocumentsDetails.List.Filter.Salesman    | 用户选择业务员进行筛选时，系统要将此条件加入总筛选条件，并显示符合所有条件的销售出货单据记录，参见DocumentsDetails.List |
| DocumentsDetails.List.Filter.StockHouse  | 用户选择仓库进行筛选时，系统要将此条件加入总筛选条件，并显示符合所有条件的销售出货单据记录，参见DocumentsDetails.List |
| DocumentsDetails.Export                  | 系统要能够导出销售明细表excel文件                      |
| DocumentsDetails.Select                  | 当用户选中一张单据时，系统要展示该单据的所有信息                 |
| DocumentsDetails.Select.RedCover         | 系统要允许用户红冲选中单据                            |
| DocumentsDetails.Select.RedCover.Valid   | 当财务人员请求红冲单据时，系统将该单据数值取负后生成新的单据并入账        |
| DocumentsDetails.Select.RedCover.Invalid | 当总经理请求红冲单据时，系统拒绝请求，并提示权限不足               |
| DocumentsDetails.Select.RedCoverAndCopy  | 系统要允许用户红冲并复制选中单据                         |
| DocumentsDetails.Select.RedCoverAndCopy.Valid | 当财务人员请求红冲并复制单据时，系统将该单据数值取负后生成新的单据并入账，再给出原单据的草稿 |
| DocumentsDetails.Select.RedCoverAndCopy.Invalid | 当总经理请求红冲并复制单据时，系统拒绝请求，并提示权限不足            |
| DocumentsDetails.Select.End              | 系统允许用户结束查看单据                             |
| DocumentsDetails.Update                  | 系统更新重要数据                                 |

#### 3.2.14 查看经营情况表

##### 3.2.14.1 特性描述

在需要了解公司收入、支出和利润时，一个经过验证的总经理或财务人员可以选择时间区间，查看该段时间内公司的收支状况和利润，导出经营情况表excel文件

优先级 = 中

##### 3.2.14.2 刺激/响应序列

刺激：用户请求查看经营情况表

响应：系统提示用户输入开始日期和结束日期

刺激：用户输入开始日期和结束日期

响应：系统展示该段时间内的收支状况和利润，包括

a.销售收入、商品类收入（商品报溢收入、成本调价收入、进货退货差价、代金券与实际收款差额收入） 、折让后总收入，折让金额）

b.支出类：销售成本、商品类支出（商品报损、商品赠出）、总支出

c.利润

刺激：用户请求导出经营情况表

响应：系统生成经营情况表 excel 文件

##### 3.2.14.3 相关功能需求

| 编号                        | 需求描述                                     |
| :------------------------ | :--------------------------------------- |
| Profit.Input              | 系统应该允许用户使用键盘和鼠标输入                        |
| Profit.Input.Date         | 系统应该允许用户输入查询的开始日期和结束日期                   |
| Profit.Input.List         | 在用户输入起止日期后，系统要展示收支状况和利润。参见Profit.Scan    |
| SalesDetails.Input.Cancel | 在用户输入取消命令时，系统关闭当前查询窗口，返回用户首页             |
| Profit.Input.Invalid      | 在用户输入非法标识符时，系统提示无效                       |
| Profit.Scan               | 系统要展示该时间区间内的收入支出和利润，收入包括销售收入、商品类收入（商品报溢收入、成本调价收入、进货退货差价、代金券与实际收款差额收入） 、折让后总收入，折让金额），支出包括销售成本、商品类支出（商品报损、商品赠出）、总支出 |
| Profit.Scan.End           | 系统要允许用户结束查看经营情况表                         |
| Profit.Export             | 系统要能够经营情况表excel文件                        |

#### 3.2.15 审批单据

##### 3.2.15.1 特性描述

总经理每天查看所有申请单据，修改单据数据，并判断是否通过该单据的审批。单据通过审批后，系统会发送信息给提交相关单据的人员。

优先级=高

##### 3.2.15.2 刺激/响应序列

刺激：总经理提出审批单据请求

响应：系统显示待审批单据

刺激：总经理选择一项未审批单据

响应：系统显示选中单据的详细内容

刺激：总经理勾选通过审批的单据并确定

响应：系统显示“审批成功”，记录审批时间，修改勾选单据状态为“审批后状态”，并向提交单据的相关人员发送消息

刺激：总经理取消勾选的单据

响应：系统取消该几项单据的选择状态

刺激：总经理提出查看历史单据请求

响应：系统依照时间先后顺序（从最近至较早）显示单据列表

刺激：总经理选择一项历史审批单据

响应：系统显示单据详细内容以及审批结果

##### 3.2.15.3 相关功能需求

|               编号               |                   需求描述                   |
| :----------------------------: | :--------------------------------------: |
|          Examine.Scan          |             系统应该响应总经理审批单据的请求             |
|       Examine.Scan.List        |        在总经理发起审批单据请求时，系统显示待审批单据列表         |
|     Examine.Scan.Specific      |       在总经理选择一项未审批单据时，系统显示选中单据的详细内容       |
|  Examine.Scan.Specific.Close   |          当总经理取消查看该项单据时，系统返回上一状态          |
|      Examine.Scan.Select       |       当总经理勾选通过审批单据时，系统显示该几项单据勾选状态        |
|   Examine.Scan.Select.Cancel   |       当总经理取消勾选的单据时，系统取消该几项单据的选择状态        |
|      Examine.Scan.Approve      |           当总经理确认选择时，系统显示“审批成功”           |
|      Examine.Scan.Cancel       |         当总经理取消审批单据任务时，系统结束审批单据任务         |
|          Examine.End           |            系统应该允许总经理结束审批单据任务             |
|       Examine.End.Update       | 在总经理要求结束审批单据任务时，系统更新数据，参见Examine.Update  |
|        Examine.End.Send        |     在总经理要求结束审批单据任务时，系统向提交单据的相关人员发送消息     |
|       Examine.End.Close        |        在总经理确认审批单据任务完成时，系统关闭审批单据任务        |
|         Examine.Update         |   系统更新重要数据，整个更新过程组成一个事务，要么全部更新，要么全部不更新   |
|      Examine.Updata.Date       |                 系统更新审批时间                 |
|      Examine.Updata.State      |            系统更新勾选单据状态为“审批后状态”            |
|        Examine.History         |            系统应该相应总经理查看历史单据的请求            |
|      Examine.History.List      | 当总经理提出查看历史单据请求时，系统应该依照时间先后顺序（从最近至较早）显示单据列表 |
|    Examine.History.Specific    |    当总经理选择一项历史审批单据时，系统应该显示单据详细内容以及审批结果    |
| Examine.History.Specific.Close |         当总经理取消查看该项历史单据时，系统返回上一状态         |
|   Examine.History.List.Close   |         当总经理取消查看历史审批单据时，系统返回上一状态         |

#### 3.2.16 制定促销策略

##### 3.2.16.1 特性描述

在需要进行商品促销时，一个经过验证的总经理可以制定或移除促销策略，系统更新调整后的促销策略。

优先级=低

##### 3.2.16.2 刺激/响应序列

刺激：总经理请求制定一个促销策略

响应：系统显示促销策略制定页面

刺激：总经理选择促销策略类型

响应：系统显示选定类型的促销策略需要填写的信息列表

刺激：总经理填写所需信息，并确认所填写策略信息正确

响应：系统显示“设置成功”，并更新策略内容

刺激：总经理编辑一个已有促销策略

响应：系统更新促销策略列表中新策略的信息显示

刺激：总经理删除一个已有促销策略

响应：系统将该促销策略从促销策略列表中移除

刺激：总经理取消制定促销策略任务

响应：系统关闭制定促销策略任务

刺激：总经理确认完成促销策略制定

响应：系统记录促销策略信息，关闭制定促销策略任务

##### 3.2.16.3 相关功能需求

|               编号                |                   需求描述                   |
| :-----------------------------: | :--------------------------------------: |
|          Promotion.New          |            系统应该响应总经理制定促销策略的请求            |
|      Promotion.New.Select       |    当总经理选择新建促销策略类型时，系统显示该类型促销策略需填内容列表     |
|      Promotion.New.Confirm      |          系统应该允许总经理确认促销策略内容填写完全           |
|  Promotion.New.Confirm.Invalid  |  当新建策略的填写内容没有全部通过检查时，系统提示有促销策略数据不完整或不正确  |
|   Promotion.New.Confirm.Valid   |   当新建策略的填写内容全部都通过检查时，系统显示“设置成功”，并更新数据    |
|          Promotion.Del          |   当总经理请求删除已有的促销策略时，系统在促销策略列表中移除指定的促销策略   |
|         Promotion.Edit          |           系统应该允许总经理编辑一个已有的促销策略           |
|        Promotion.Cancel         |      当总经理请求取消促销策略定制时，系统应该结束定制促销策略任务      |
|         Promotion.Valid         |          系统应该验证每个促销策略的数据完整性和一致性          |
|    Promotion.Valid.StartDate    |      在促销策略开始日期为空时，系统提示开始日期不正确，验证不通过      |
|     Promotion.Valid.EndDate     | 在促销策略的结束日期为空或者结束日期早于等于当天或者结束日期早于开始日期时时，系统提示结束日期不正确，验证不通过 |
|   Promotion.Valid. GoodsGift    | 在针对用户或总价中的商品赠送策略中，促销商品标识或赠品标识不在商品目录中时，系统提示促销商品标识或赠品标识不正确，验证不通过 |
|  Promotion.Valid.GoodsDiscount  | 在针对用户的价格折让策略中，促销商品标识不在商品目录中或者折让价格为空或者折让价格<=0或者折让价格>=价格时，系统提示商品标识或者特价不正确，验证不通过 |
| Promotion.Valid. AmountDiscount | 在特价包策略中，特价包价格为空或者特价包价格<=0或者特价包价格大于商品原价总和时，系统提示特价包价格错误，验证不通过 |
|   Promotion.Valid. Redundancy   |        在促销策略存在重复时，系统提示存在重复，验证不通过         |
|        Promotion.Update         |   系统更新重要数据，整个更新过程组成一个事务，要么全部更新，要么全部不更新   |
|      Promotion.Update.User      |                系统更新会员促销策略                |
|      Promotion.Update.Pack      |                系统更新特价包策略                 |
| Promotion.Update.AmountDiscount |                系统更新总价促销策略                |
|          Promotion.End          |           系统应该允许总经理结束制定促销策略任务            |
|       Promotion.End.Close       |        在总经理确认促销策略制定任务完成时，系统关闭该任务         |

#### 3.2.17 管理用户账户和权限

##### 3.2.17.1 特性描述

在发生人员变动时，一个经过验证的管理员可以调整用户，增加新员工，移除离职员工，变更员工职位以及其权限。系统最后要更新变动的员工信息。

优先级=高

##### 3.2.17.2 刺激/响应序列

刺激：管理员请求增加新用户

响应：系统显示所需填写信息列表

刺激：管理员确认填写信息正确

响应：系统记录用户信息，并在用户列表中添加该用户

刺激：管理员取消新增用户

响应：系统关闭新增用户任务

刺激：管理员移除用户

响应：系统将用户从列表中移除

刺激：管理员取消移除用户

响应：系统关闭移除用户任务

刺激：管理员调整用户

响应：系统显示用户信息编辑页面

刺激：管理员取消调整用户

响应：系统关闭调整用户任务

刺激：管理员确认完成调整用户

响应：系统记录用户信息，关闭调整用户任务

##### 3.2.17.3 相关功能需求

|         编号          |                需求描述                 |
| :-----------------: | :---------------------------------: |
|      User.New       |      在管理员请求增加用户时，系统显示所需填写信息列表       |
|  User.New.Confirm   | 在管理员确认填写信息正确时，系统记录用户信息，并在用户列表中添加该用户 |
|   User.New.Cancel   |       在管理员取消新增用户时，系统关闭新增用户任务        |
|      User.Del       |  在管理员请求移除用户时，系统将用户从列表中移除，并删除该用户信息   |
|   User.Del.Cancel   |       在管理员取消移除用户时，系统关闭移除用户任务        |
|     User.Modify     |      当管理员请求调整用户时，系统显示用户信息编辑页面       |
| User.Modify.Confirm |  当管理员确认完成调整用户时，系统记录用户信息，并关闭调整用户任务   |
| User.Modify.Cancel  |       当管理员取消调整用户时，系统关闭调整用户任务        |
|    User.Confirm     |   在管理员确认用户调整任务结束时，系统更新数据，关闭用户调整任务   |
|     User.Update     |             系统更新用户目录信息              |

### 3.3 非功能需求

#### 3.3.3 安全性

##### 3.3.1.1 登录

###### 3.3.1.1.1 特性描述

###### 3.3.1.1.2 刺激/响应序列

###### 3.3.1.1.3 详细描述

|  编号  | 需求描述 |
| :--: | :--: |
|      |      |
|      |      |
|      |      |

##### 3.3.1.2 修改密码

###### 3.3.1.2.1 特性描述

###### 3.3.1.2.2 刺激/响应序列

###### 3.3.1.2.3 详细描述



|  编号  | 需求描述 |
| :--: | :--: |
|      |      |
|      |      |
|      |      |

#### 3.3.2 可维护性

#### 3.3.3 易用性

#### 3.3.4 可靠性

#### 3.3.5 业务规则

#### 3.3.6 约束

### 3.4 数据需求

#### 3.4.1 数据定义

#### 3.4.2 默认数据

#### 3.4.3 数据格式要求

### 3.5 其他需求

