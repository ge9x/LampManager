# 灯具进销存管理系统（体系结构设计v1.2）

## 学院

南京大学软件学院

# 成员

乐盛捷，胡本霖，仲于芯，朱雨欣

# 目录

[TOC]

# 更新历史

| 修改人员 | 日期         | 变更原因                                     | 版本号  |
| ---- | ---------- | ---------------------------------------- | ---- |
| 全体人员 | 2017/10/14 | 正式版                                      | v1.0 |
| 仲于芯  | 2018/1/4   | 修改了promotion、examination、user相关 业务逻辑层及数据层接口 | v1.1 |
| 朱雨欣  | 2018/1/5   | 修改了customer、sales相关 业务逻辑层及数据层接口          | v1.2 |



# 1.引言

## 1.1编制目的

本报告详细完成对灯具进销存管理系统（Management System of Lamps）的概要设计，达到指导详细设计和开发的目的，同时实现和测试人员及用户的沟通。

本报告面向开发人员、测试人员及最终用户而编写，是了解系统的导航。

## 1.2词汇表

| 词汇名称  |   词汇含义    |  备注  |
| :---: | :-------: | :--: |
|  MSL  | 灯具进销存管理系统 |      |
|  _ui  |   某展示层    |      |
|  _bl  |   某逻辑层    |      |
| _data |   某数据层    |      |


## 1.3参考资料

1.IEEE 标准

2.《软件工程与计算（卷二）》附录D.3 连锁商店管理系统（MSCS）软件体系结构描述文档


# 2.产品概述

  灯具进销存管理系统是一民营企业聘请公司s开发的一套进销存系统，旨在适应新的市场环境，提高工作效率和用户满意度，由于现公司规模扩大，企业业务量、办公场所、员工数都发生增长，灯具进销存管理系统能够减少挤压库存，增加销售额，提高用户工作效率。

# 3.逻辑视角

  灯具进销存管理系统MSL中，选择了分层体系结构风格，将系统分成3层（展示层、业务逻辑层、数据层）能够很好地示意整个高层抽象。展示层包含GUI页面的实现，业务逻辑层包含业务逻辑处理的实现，数据层负责数据的持久化和访问。分层体系结构的逻辑视⻆角和逻辑设计⽅方案如图 3-1 和图 3-2 所示。 

* 图 3-1 参照体系结构风格的包图表达逻辑视角

![图 3-1](http://101.37.19.32:10080/horizon/LampManager/raw/develop/doc/img/%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84%E8%AE%BE%E8%AE%A1%E5%9B%BE/%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84%E8%AE%BE%E8%AE%A1%E5%9B%BE%203-1.png)

* 图 3-2 软件体系结构逻辑设计方案

![图 3-2](http://101.37.19.32:10080/horizon/LampManager/raw/develop/doc/img/%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84%E8%AE%BE%E8%AE%A1%E5%9B%BE/%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84%E8%AE%BE%E8%AE%A1%E5%9B%BE%203-2.png)

# 4.组合视角

## 4.1 开发包图

灯具进销存管理系统的最终开发包设计如表 4.1-1所示

- 表 4.1-1 灯具进销存管理系统的最终开发包设计

| 开发（物理）包                   | 依赖的其他开发包                                 |
| ------------------------- | ---------------------------------------- |
| mainui                    | inventoryui,customerui,salesui,accountui,financeui,formui,userui,goodsui,initializationui,examinationui,promotionui,logui,vo |
| inventoryui               | inventoryblservice,界面类库包,vo              |
| inventoryblservice        |                                          |
| inventorybl               | inventoryblservice,inventorydataservice,goodsbl, salesbl, logbl |
| inventorydataservice      | Java RMI,po                              |
| inventorydata             | inventorydataservice,po,databaseutility  |
| classificationui          | classificationblservice,界面类库包,vo         |
| classificationblservice   |                                          |
| classificationbl          | classificationblservice，classficationdataservice,logbl |
| classificationdataservice | Java RMI,po                              |
| classificationdata        | classificationdataservice,po,databaseutility |
| customerui                | customerblservice,界面类库包,vo               |
| customerblservice         |                                          |
| customerbl                | customerblservice,customerdataservice,logbl |
| customerdataservice       | Java RMI,po                              |
| customerdata              | customerdataservice,po,databaseutility   |
| salesui                   | salesblservice,界面类库包,vo                  |
| salesblservice            |                                          |
| salesbl                   | salesblservice,salesdataservice,userbl,customerbl,inventorybl,promotionbl,goodsbl,logbl |
| salesdataservice          | Java RMI,po                              |
| salesdata                 | salesdataservice,po,databaseutility      |
| accountui                 | accountblservice,界面类库包,vo                |
| accountblservice          |                                          |
| accountbl                 | accountblservice,accountdataservice,logbl |
| accountdataservice        | Java RMI,po                              |
| accountdata               | accountdataservice,po,databaseutility    |
| financeui                 | financeblservice,界面类库包,vo                |
| financeblservice          |                                          |
| financebl                 | financeblservice,financedataservice,goodsbl,customerbl,accountbl,userbl,inventorybl,logbl |
| financedataservice        | Java RMI,po                              |
| financedata               | financedataservice,po,databaseutility    |
| userui                    | userblservice,界面类库包,vo                   |
| userblservice             |                                          |
| userbl                    | userblservice,userdataservice            |
| userdataservice           | Java RMI,po                              |
| userdata                  | userdataservice,po,databaseutility       |
| goodsui                   | goodsblservice,界面类库包,vo                  |
| goodsblservice            |                                          |
| goodsbl                   | goodsblservice,goodsdataservice,classificationbl,logbl |
| goodsdataservice          | Java RMI,po                              |
| goodsdata                 | goodsdataservice,po,databaseutility      |
| initializationui          | initializationblservice,界面类库包,vo         |
| initializationblservice   |                                          |
| initializationbl          | initializationblservice,initializationbl,accountbl,customerbl,goodsbl,logbl |
| initializationdataservice | Java RMI,po                              |
| initializationdata        | initializationdataservice,po,databaseutility |
| examinationui             | examinationblservice,界面类库包,vo            |
| examinationblservice      |                                          |
| examinationbl             | examinationblservice,examinationdataservice,financebl,salsbl,inventorybl |
| examinationdata           | examinationdataservice,po,databaseutility |
| promotionui               | promotionblservice,界面类库包,vo              |
| promotionblservice        |                                          |
| promotionbl               | promotionblservice,promotiondataservice,logbl |
| promotiondataservice      | Java RMI,po                              |
| promotiondata             | promotiondataservice,po,databaseutility  |
| formui                    | formblservice,界面类库包,vo                   |
| formblservice             |                                          |
| formbl                    | formblservice,formdataservice,salesbl,inventorybl,financebl,logbl |
| formdataservice           | Java RMI,po                              |
| formdata                  | formdataservice,po,databaseutility       |
| logui                     | logblservice,界面类库包,vo                    |
| logblservice              |                                          |
| logbl                     | logblservice,logdataservice              |
| logdataservice            | Java RMI,po                              |
| logdata                   | logdataservice,po,databaseutility        |
| vo                        |                                          |
| po                        |                                          |
| utilitybl                 |                                          |
| 界面类库包                     | javafx                                   |
| Java RMI                  |                                          |
| databaseutili             | JDBC                                     |

灯具进销存管理系统客户端开发包如图 4.1-1所示，服务器端开发包如图 4.1-2所示。

* 图 4.1-1 灯具进销存管理系统客户端开发包图

![图 4.1-1](http://101.37.19.32:10080/horizon/LampManager/raw/develop/doc/img/%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84%E8%AE%BE%E8%AE%A1%E5%9B%BE/%E5%AE%A2%E6%88%B7%E7%AB%AF%E5%BC%80%E5%8F%91%E5%8C%85%E5%9B%BE.png)

* 图 4.1-2 灯具进销存管理系统服务器端开发包图

![图 4.1-2](http://101.37.19.32:10080/horizon/LampManager/raw/develop/doc/img/%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84%E8%AE%BE%E8%AE%A1%E5%9B%BE/%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%AB%AF%E5%BC%80%E5%8F%91%E5%8C%85%E5%9B%BE.png)

## 4.2 运行时进程

在灯具进销存管理系统中，会有多个客户端进程和一个服务器端进程， 其进程图如图 4.2-1所示。结合部署图，客户端进程是在客户端机器上运行，服务器端进程在服务器端机器上运行。

* 图 4.2-1 进程图

![图 4.2-1](http://101.37.19.32:10080/horizon/LampManager/raw/develop/doc/img/%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84%E8%AE%BE%E8%AE%A1%E5%9B%BE/%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84%E8%AE%BE%E8%AE%A1%E5%9B%BE%204.2-1.png)

## 4.3 物理部署

灯具进销存管理系统中客户端构件是放在客户端机器上，服务器端构件是放在服务器端机器上。在客户端节点上，还要部署RMIStub 构件。由于Java RMI 构件属于JDK 8.0 的一部分。所以，在系统JDK环境已经设置好的情况下，不需要再独立部署。部署图如图4.3-1所示。

* 图 4.3-1 部署图

![图 4.3-1](http://101.37.19.32:10080/horizon/LampManager/raw/develop/doc/img/%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84%E8%AE%BE%E8%AE%A1%E5%9B%BE/%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84%E8%AE%BE%E8%AE%A1%E5%9B%BE%204.3-1.png)

# 5.接口视角

## 5.1 模块的职责

客户端模块和服务器端模块视图分别如图5.1-1和图5.1-2所示。客户端各层和服务器端各层的职责分表如表5.1-1和表5.1-2所示。

* 图 5.1-1 客户端模块视图

![图 5.1-1](http://101.37.19.32:10080/horizon/LampManager/raw/develop/doc/img/%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84%E8%AE%BE%E8%AE%A1%E5%9B%BE/%E5%AE%A2%E6%88%B7%E7%AB%AF%E6%A8%A1%E5%9D%97%E8%A7%86%E5%9B%BE.png)

* 图 5.1-2 服务器端模块视图

  ![图 5.1-2](http://101.37.19.32:10080/horizon/LampManager/raw/develop/doc/img/%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84%E8%AE%BE%E8%AE%A1%E5%9B%BE/%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%AB%AF%E6%A8%A1%E5%9D%97%E8%A7%86%E5%9B%BE.png)

* 表 5.1-1  客户端各层的职责

| 层       | 职责                   |
| ------- | -------------------- |
| 启动模块    | 负责初始化网络通信机制，启动用户界面   |
| 用户界面层   | 基于窗口的灯具进销存管理系统用户界面   |
| 业务逻辑层   | 对于用户界面的输入响应和业务处理逻辑   |
| 客户端网络模块 | 利用Java RMI 机制查找RMI服务 |
  ​  

* 表 5.1-2 服务器端各层的职责

| 层        | 职责                          |
| -------- | --------------------------- |
| 启动模块     | 负责初始化网络通信机制，启动用户界面          |
| 数据层      | 负责数据的持久化及数据访问接口             |
| 服务器端网络模块 | 利用Java RMI机制开启RMI服务，注册RMI服务 |

  每一层只是使用下方直接解除的层。层与层之间仅仅是通过接口的调用来完成的。层之间调用的接口如表5.1-3所示。

* 表 5.1-3  层之间调用的接口

| 接口                                       | 服务调用方    | 服务提供方    |
| ---------------------------------------- | -------- | -------- |
| InventoryBLService<br>CustomerBLService<br>SalesBLService<br>AccountBLService<br>FinanceBLService<br>FormBLService<br>UserBLService<br>GoodsBLService<br>ClassificationBLService<br>InitializationBLService<br>ExaminationBLService<br>PromotionBLService<br> | 客户端展示层   | 客户端业务逻辑层 |
| InventoryDataService<br>CustomerDataService<br>SalesDataService<br>AccountDataService<br>FinanceDataService<br>UserDataService<br>GoodsDataService<br>ClassificationDataService<br>PromotionDataService<br>DatabaseFactory<br> | 客户端业务逻辑层 | 服务器端数据层  |

## 5.2 用户界面层的分解

根据需求，系统存在28个用户界面：登录界面、库存管理人员主界面、财务人员主界面、进货销售人员主界面、总经理主界面、管理员主界面、查看商品分类界面、查看商品界面、查看库存界面、制定库存报溢单界面、制定库存报损单界面、盘点库存界面、制定收款单界面、制定付款单界面、制定现金费用单界面、期初建账界面、管理账户界面、查看经营情况表界面、查看经营历程表界面、查看销售明细表界面、管理客户界面、制定进货单界面、制定退货单界面、制定销售出货单界面、制定销售退货单界面、制定促销策略界面、审批单据界面、管理用户账户和权限界面。界面跳转如图 5.2-1所示。

* 图 5.2-1 用户界面跳转

![图 5.2-1](http://101.37.19.32:10080/horizon/LampManager/raw/dev/doc/img/%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84%E8%AE%BE%E8%AE%A1%E5%9B%BE/%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84%E8%AE%BE%E8%AE%A1%E5%9B%BE%205.2-1.png)

服务器端和客户端的用户界面设计接口是一致的，只是具体的页面不一样。用户界面类如图 5.2-2所示。

* 图 5.2-2 用户界面类

  ![图 5.2-2](http://101.37.19.32:10080/horizon/LampManager/raw/develop/doc/img/%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84%E8%AE%BE%E8%AE%A1%E5%9B%BE/%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84%E8%AE%BE%E8%AE%A1%E5%9B%BE%205.2-2.png)

### 5.2.1 用户界面层模块的职责

如表 5.2.1-1所示为用户界面层模块的职责。

* 表 5.2.1-1 用户界面层模块的职责

| 模块        | 职责                    |
| --------- | --------------------- |
| MainFrame | 界面Frame，负责界面的显示和界面的跳转 |

### 5.2.2 用户界面层模块的接口规范

用户界面层模块的接口规范如表 5.2.1-2所示。

- 表 5.2.1-2 用户界面层模块的接口规范

| 服务名                                 | 服务                |
| ----------------------------------- | ----------------- |
| businesslogicservice.LoginBLService | 登录界面的业务逻辑接口       |
| businesslogicservice.*BLService     | 每个界面都有一个相应的业务逻辑接口 |

### 5.2.3 用户界面层模块设计原理

用户界面利用Java的 JavaFX来实现。

## 5.3 业务逻辑层的分解
业务逻辑层包括多个针对界⾯面的业务逻辑处理理对象。

* 图5.3-1 业务逻辑层分解图

![图5.3-1](http://101.37.19.32:10080/horizon/LampManager/raw/dev/doc/img/%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84%E8%AE%BE%E8%AE%A1%E5%9B%BE/%E4%B8%9A%E5%8A%A1%E9%80%BB%E8%BE%91%E5%B1%82%E5%88%86%E8%A7%A3%E5%9B%BE%205.3-1.png)

### 5.3.1业务逻辑层模块的职责
| 模块               | 职责                    |
| ---------------- | --------------------- |
| inventorybl      | 负责实现库存单据界面所需要的服务      |
| customerbl       | 负责实现客户管理界面所需要的服务      |
| salesbl          | 负责实现销售界面所需要服务         |
| accountbl        | 负责实现公司银行账户界面所需要的服务    |
| financebl        | 负责实现现金管理、查看表单界面所需要的服务 |
| userbl           | 负责实现用户管理界面所需要的界面      |
| goodsbl          | 负责实现商品、商品管理所需要的服务     |
| classificationbl | 负责商品分类、商品分类管理所需要的服务   |
| initializationbl | 负责期初建账界面所需要的服务        |
| examinationbl    | 负责审批单据界面所需要的服务        |
| promotionbl      | 负责促销策略界面所需要的服务        |
| logbl            | 负责日志界面所需要的服务          |
| formbl           | 负责财务报表界面所需要的服务        |

### 5.3.2 业务逻辑层模块的接口规范
* 表 5.3.2-1 inventorybl模块的接口规范
  <table>
  <tr>
  	<th colspan="3" align="center">提供的服务（供接口）</th>
  </tr>
  <tr>
    	<td rowspan="3">InventoryBLService.showInventory</td>
        <td>语法</td>
        <td>public ArrayList&lt;String&gt; showInventory();</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>无</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>显示所有仓库名</td>
    </tr>
  <tr>
    	<td rowspan="3">InventoryBLService.show</td>
        <td>语法</td>
        <td>public InventoryViewVO show(Date startDate, Date endDate, String inventory);</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>日期和仓库输入合法</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>显示在此时间段内的出／入库数量／金额，销售／进货数量／金额，以及库存合计</td>
    </tr>
  <tr>
    	<td rowspan="3">InventoryBLService.check</td>
        <td>语法</td>
        <td>public InventoryCheckVO check();</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>无</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>展示当天的库存快照</td>
    </tr>
  <tr>
    	<td rowspan="3">InventoryBLService.exportExcel</td>
        <td>语法</td>
        <td>public ResultMessage exportExcel(String filePath, String fileName, InventoryCheckVO vo);</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>已进行库存盘点，路径输入合法</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>导出Excel表格到本地</td>
    </tr>
  <tr>
    	<td rowspan="3">InventoryBLService.showBills</td>
        <td>语法</td>
        <td>public ArrayList&lt;InventoryBillVO&gt; showBills();</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>以库存管理人员身份登录</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>返回所有报溢/报损单和赠送单信息</td>
    </tr>
  <tr>
    	<td rowspan="3">InventoryBLService.getAlarmByInventory</td>
        <td>语法</td>
        <td>public ArrayList&lt;AlarmVO&gt; getAlarmByInventory(String inventory);</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>仓库名输入合法</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>返回所有库存报警单信息</td>
    </tr>
  <tr>
    	<td rowspan="3">InventoryBLService.findBillByStateAndType</td>
        <td>语法</td>
        <td>public ArrayList&lt;InventoryBillVO&gt; findBillByStateAndType(BillType type, BillState state);</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>单据类型和状态输入合法</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>返回所有符合搜索条件的单据</td>
    </tr>
  <tr>
    	<td rowspan="3">InventoryBLService.addInventory</td>
        <td>语法</td>
        <td>public ResultMessage addInventory(String inventory);</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>仓库名字输入非空</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>持久化更新仓库名字的数据</td>
    </tr>
  <tr>
    	<td rowspan="3">InventoryBLService.addBill</td>
        <td>语法</td>
        <td>public ResultMessage addBill(InventoryBillVO vo);</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>库存单据信息输入合法</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>生成库存报损单/报溢单草稿，持久化更新涉及的对象的数据</td>
    </tr>
  <tr>
    	<td rowspan="3">InventoryBLService.deleteInventory</td>
        <td>语法</td>
        <td>public ResultMessage deleteInventory(String inventory);</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>仓库名字已存在</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>删除该仓库名字，持久化更新涉及的对象的数据</td>
    </tr>
  <tr>
    	<td rowspan="3">InventoryBLService.deleteBill</td>
        <td>语法</td>
        <td>public ResultMessage deleteBill(String ID);</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>单据ID输入合法</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>删除库存单据草稿，持久化更新涉及的对象的数据</td>
    </tr>
  <tr>
  <tr>
    	<td rowspan="3">InventoryBLService.updateInventory</td>
        <td>语法</td>
        <td>public ResultMessage updateInventory(String before, String after);</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>仓库名字已存在</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>修改该仓库名字，持久化更新涉及的对象的数据</td>
    </tr>
   	<tr>
    	<td rowspan="3">InventoryBLService.updateBill</td>
        <td>语法</td>
        <td>public ResultMessage updateBill(InventoryBillVO vo);</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>单据信息输入合法</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>修改库存单据，持久化更新涉及的对象的数据</td>
    </tr>
  <tr>
    	<td rowspan="3">InventoryBLService.showBillDetails</td>
        <td>语法</td>
        <td>public InventoryBillVO showBillDetails(String ID);</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>单据ID输入合法</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>返回该单据的详细信息</td>
    </tr>
  <tr>
    	<td rowspan="3">InventoryBLService.submitBill</td>
        <td>语法</td>
        <td>public ResultMessage submitBill(InventoryBillVO vo);</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>单据信息输入合法</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>更改单据状态为提交状态，持久化更新涉及的对象的数据</td>
    </tr>
  	<tr>
    	<td rowspan="3">InventoryBLService.findBillByType</td>
        <td>语法</td>
        <td>public ArrayList&lt;InventoryBillVO&gt; findBillByType(BillType type);</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>单据类型输入合法</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>返回所有符合搜索条件的单据</td></tr>
      <tr>
    	<td rowspan="3">InventoryBLService.getNewBillIDByType</td>
        <td>语法</td>
        <td>public String getNewBillIDByType(BillType type);</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>单据类型输入合法</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>返回新增单据的ID</td></tr>
      <tr>
    	<td rowspan="3">InventoryBLService.getStartDate</td>
        <td>语法</td>
        <td>public String getStartDate();</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>无</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>返回期初建账的开始日期</td></tr>
      <tr>
    	<td rowspan="3">InventoryInfo.getInventoryBillsByDate</td>
        <td>语法</td>
        <td>public ArrayList&lt;InventoryBillVO&gt; getInventoryBillsByDate(String startDate, String endDate);</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>日期输入合法</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>返回所有符合搜索条件的单据</td></tr>
    <tr>
    	<td rowspan="3">InventoryInfo.getAllInventoryName</td>
        <td>语法</td>
        <td>public ArrayList&lt;String&gt; getAllInventoryName();</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>无</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>返回所有符合搜索条件的仓库名</td></tr>
    <tr>
    	<td rowspan="3">InventoryInfo.getInventoryByName</td>
        <td>语法</td>
        <td>public InventoryPO getInventoryByName(String name);</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>输入的仓库名已存在</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>返回该仓库的信息</td></tr>
    <tr>
    	<td rowspan="3">InventoryInfo.raiseInventory</td>
        <td>语法</td>
        <td>public ResultMessage raiseInventory(ArrayList&lt;GoodsItemVO&gt; goodsItems, String inventory);</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>需要根据生效单据增加库存</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>增加库存，持久化更新涉及的对象的数据</td></tr>
    <tr>
    	<td rowspan="3">InventoryInfo.reduceInventory</td>
        <td>语法</td>
        <td>public ResultMessage reduceInventory(ArrayList&lt;GoodsItemVO&gt; goodsItems, String inventory);</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>需要根据生效单据减少库存</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>减少库存，持久化更新涉及的对象的数据</td></tr>
    <tr>
    	<td rowspan="3">InventoryInfo.examine</td>
        <td>语法</td>
        <td>public ResultMessage examine(InventoryBillVO vo);</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>需要根据审批结果修改单据和库存</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>变动库存，持久化更新涉及的对象的数据</td></tr>
    <tr>
    	<td rowspan="3">InventoryInfo.getAllSubmittedInventoryBill</td>
        <td>语法</td>
        <td>public ArrayList&lt;InventoryBillVO&gt; getAllSubmittedInventoryBill();</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>需要获得所有已提交的库存类单据</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>返回所有已提交的库存类单据</td></tr>
    <tr>
    	<td rowspan="3">InventoryInfo.redCover</td>
        <td>语法</td>
        <td>public ResultMessage redCover(InventoryBillVO vo);</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>需要红冲单据</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>红冲该单据，持久化更新涉及的对象的数据</td></tr>
    <tr>
    	<td rowspan="3">InventoryInfo.redCoverAndCopy</td>
        <td>语法</td>
        <td>public ResultMessage redCoverAndCopy(InventoryBillVO vo);</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>需要红冲并复制单据</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>红冲并复制该单据，持久化更新涉及的对象的数据</td></tr>

    <tr>
    	<th colspan="3" align="center">需要的服务（需接口）</th>
    </tr>
    <tr>
    <th>服务名</th>
    <th colspan="2">服务</th>
    </tr>
    <tr>
    <td>InventoryDataService.showInventory()</td>
    <td colspan="2">返回所有仓库名字的持久化对象</td>
    </tr>
    <tr>
    <td>InventoryDataService.show()</td>
    <td colspan="2">返回所有库存报溢单和报损单的单一持久化对象</td>
    </tr>
    <tr>
    <td>InventoryDataService.findBill(String ID)</td>
    <td colspan="2">根据ID查找单一持久化对象</td>
    </tr>
    <tr>
    <td>InventoryDataService.addInventory(InventoryPO po)</td>
    <td colspan="2">添加单一持久化对象</td>
    </tr>
    <tr>
    <td>InventoryDataService.addBill(InventoryBillPO po)</td>
    <td colspan="2">添加单一持久化对象</td>
    </tr>
    <tr>
    <td>InventoryDataService.deleteInventory(InventoryPO po)</td>
    <td colspan="2">添加单一持久化对象</td>
    </tr>
    <tr>
    <td>InventoryDataService.deleteBill(InventoryBillPO po)</td>
    <td colspan="2">删除单一持久化对象</td>
    </tr>
    <tr>
    <td>InventoryDataService.updateInventory(InventoryPO po)</td>
    <td colspan="2">添加单一持久化对象</td>
    </tr>
    <tr>
    <td>InventoryDataService.updateBill(InventoryBillPO po)</td>
    <td colspan="2">修改单一持久化对象</td>
    </tr>
    <tr>
    <td>InventoryDataService.advancedQuery(ArrayList&lt;Criterion&gt; criteria)</td>
    <td colspan="2">根据自定义查询条件查询库存类单据持久化对象</td>
    </tr>
    <tr>
    <td>InventoryDataService.findInventoryByName(String name)</td>
    <td colspan="2">根据仓库名称查找单一持久化对象</td>
    </tr>
    <tr>
    <td>GoodsInfo.getAllGoods()</td>
    <td colspan="2">返回所有商品的信息</td>
    </tr>
    <tr>
    <td>GoodsInfo.getGoodsByID(String ID)</td>
    <td colspan="2">根据商品ID返回商品</td>
    </tr>
    <tr>
    <td>InitInfo.getStartDate()</td>
    <td colspan="2">返回期初建账的日期</td>
    </tr>
    <tr>
    <td>LogInfo.record(OperationType operationType, OperationObjectType operationObjectType, String details)</td>
    <td colspan="2">添加一条日志记录</td>
    </tr>
    <tr>
    <td>LogInfo.close()</td>
    <td colspan="2">关闭日志系统</td>
    </tr>
    <tr>
    <td>LogInfo.open()</td>
    <td colspan="2">开启日志系统</td>
    </tr>
    <tr>
    <td>SalesInfo.getSalesByDateAndInventory(String startDate,String endDate,String inventory,BillType type)</td>
    <td colspan="2">通过时间区间、仓库得到通过的销售单据的商品信息</td>
    </tr>
    <tr>
    <td>PurchaseInfo.getPurchaseByDateAndInventory(String startDate,String endDate,String inventory,BillType type)</td>
    <td colspan="2">通过时间区间、仓库得到通过的进货单据的商品信息</td>
    </tr>
  </table>

* 表5.3.2-2 customerbl模块的接口规范

<table>

<tr>

    <th colspan="3" align="center">提供的服务（供接口）</th>

</tr>

  	<td rowspan="3">Customer.getNewCustomerID</td>

      <td>语法</td>
      <td>public String getNewCustomerID()</td>

  <tr>

  	<td>前置条件</td>

      <td>需要添加一个客户</td></tr>

  <tr>

 		<td>后置条件</td>

      <td>得到客户编号</td>

  </tr>

<tr>

  	<td rowspan="3">Customer.addCustomer</td>

      <td>语法</td>
      <td>public ResultMessage addCustomer(CustomerVO vo)</td></tr>

  <tr>

  	<td>前置条件</td>

      <td>输入的类型、姓名、电话、地址、邮编、电子邮箱符合输入条件</td></tr>

  <tr>

 		<td>后置条件</td>

      <td>添加客户，持久化更新涉及的对象的数据</td>

  </tr>

<tr>

  	<td rowspan="3">Customer.deleteCustomer</td>

      <td>语法</td>
      <td>public ResultMessage deleteCustomer(String customerID)</td></tr>

  <tr>

  	<td>前置条件</td>

      <td>输入的客户姓名符合输入条件</td></tr>

  <tr>

 		<td>后置条件</td>

      <td>删除客户，持久化更新涉及的对象的数据</td>

  </tr>
<tr>

  	<td rowspan="3">Customer.findCustomerByKeywords</td>

      <td>语法</td>
      <td>public ArrayList &lt;CustomerVO&gt; findCustomerByKeywords(String keywords)</td></tr>

  <tr>

  	<td>前置条件</td>

      <td>输入的关键字符合条件 </td></tr>

  <tr>

 		<td>后置条件</td>

      <td>查找到目标客户</td>

  </tr>
<tr>

  	<td rowspan="3">Customer.findCustomerByCustomerID</td>

      <td>语法</td>
      <td>public ArrayList &lt;CustomerVO&gt; findCustomerByCustomerID(String customerID)</td></tr>

  <tr>

  	<td>前置条件</td>

      <td>输入的客户编号符合条件 </td></tr>

  <tr>

 		<td>后置条件</td>

      <td>查找到目标客户</td>

  </tr>
  <tr>

  	<td rowspan="3">Customer.findCustomer</td>

      <td>语法</td>
      <td>public ArrayList &lt;CustomerVO&gt; findCustomer(String input)</td></tr>

  <tr>

  	<td>前置条件</td>

      <td>输入的客户编号符合条件 </td></tr>

  <tr>

 		<td>后置条件</td>

      <td>查找到目标客户</td>

  </tr>
<tr>

  	<td rowspan="3">Customer.updateCustomer</td>

      <td>语法</td>
      <td>public ResultMessage updateCustomer(CustomerVO vo)</td></tr>

  <tr>

  	<td>前置条件</td>

      <td>需要修改的属性符合输入条件 </td></tr>

  <tr>

 		<td>后置条件</td>

      <td>修改客户属性，持久化更新涉及的对象的数据</td>

  </tr>
  <tr>

  	<td rowspan="3">Customer.show</td>

      <td>语法</td>
      <td>public ArrayList&lt;CustomerVO&gt; show();</td></tr>

  <tr>

  	<td>前置条件</td>

      <td>需要得到所有的客户 </td></tr>

  <tr>

 		<td>后置条件</td>

      <td>得到所有的客户列表</td>

  </tr>

  <tr>

  	<th colspan="3" align="center">需要的服务（需接口）</th>

  </tr>

  <tr>

  <th>服务名</th>

  <th colspan="2">服务</th>

  </tr>

   <tr>

  <td>CustomerDataService.getNewCustomerID()</td>

  <td colspan="2">得到新的客户ID</td>

  </tr>

  <tr>

  <td>CustomerDataService.add(CustomerPO po)</td>

  <td colspan="2">添加单一持久化对象</td>

  </tr>
  <tr>

  <td>CustomerDataService.delete(CustomerPO po)</td>

  <td colspan="2">删除单一持久化对象</td>

  </tr>
  <tr>

  <td>CustomerDataService.findByCustomerID(String customerID)</td>

  <td colspan="2">根据客户ID查找单一持久化对象</td>

  </tr>
  <tr>

  <td>CustomerDataService.findByKeywords(String keywords)</td>

  <td colspan="2">根据关键字查找单一持久化对象</td>

  </tr>
  <tr>

  <td>CustomerDataService.findCustomer(String input)</td>

  <td colspan="2">不选择查找方式查找单一持久化对象</td>

  </tr>
  <tr>

  <td>CustomerDataService.update(CustomerPO po)</td>

  <td colspan="2">修改单一持久化对象</td>

  </tr>
  <tr>

  <td>CustomerDataService.show()</td>

  <td colspan="2">展示持久化对象</td>

  </tr>
  <tr>

  <td>CustomerDataService.init()</td>

  <td colspan="2">初始化持久化数据</td>

  </tr>
  <tr>

  <td>CustomerDataService.getCustomerData()</td>

  <td colspan="2">得到Customer的数据引用 </td>

  </tr>

</table>

* 表5.3.2-3 salesbl模块的接口规范

<table>

<tr>

    <th colspan="3" align="center">提供的服务（供接口）</th>

</tr>

<tr>

  	<td rowspan="3">Sales.getNewPurchaseID</td>

      <td>语法</td>
      <td>public String getNewPurchaseID();</td></tr>

  <tr>

  	<td>前置条件</td>

      <td>开始创建一个进货单</td></tr>

  <tr>

 		<td>后置条件</td>

      <td>得到该进货单的单据编号</td>

  </tr>

<tr>

  	<td rowspan="3">Sales.getNewReturnID</td>

      <td>语法</td>
      <td>public String getNewReturnID()</td></tr>

  <tr>

  	<td>前置条件</td>

      <td>开始创建一个进货退货单</td></tr>

  <tr>

 		<td>后置条件</td>

      <td>得到该进货退货单的单据编号</td>

  </tr>
<tr>

  	<td rowspan="3">Sales.getNewSalesID</td>

      <td>语法</td>
      <td>public String getNewSalesID()</td></tr>

  <tr>

  	<td>前置条件</td>

      <td>开始创建一个销售单 </td></tr>

  <tr>

 		<td>后置条件</td>

      <td>得到该销售单的单据编号</td>

</tr>
<tr>

  	<td rowspan="3">Sales.getNewSalesReturnID</td>

      <td>语法</td>
      <td>public String getNewSalesReturnID()</td></tr>

  <tr>

  	<td>前置条件</td>

      <td>开始创建一个销售退货单</td></tr>

  <tr>

 		<td>后置条件</td>

      <td>得到该销售退货单的单据编号</td>

  </tr>
   <tr>

  	<td rowspan="3">Sales.showBargains</td>

      <td>语法</td>
      <td>public ArrayList &lt;PromotionBargainVO&gt; showBargains()</td></tr>

  <tr>

  	<td>前置条件</td>

      <td>创建一个Sales对象</td></tr>
<tr>

 		<td>后置条件</td>

      <td>调用Sales方法</td>

  </tr>
  <tr>
 <tr>

  	<td rowspan="3">Sales.getFitPromotionCustomer</td>

      <td>语法</td>
      <td>public ArrayList &lt;PromotionCustomerVO&gt; getFitPromotionCustomer()</td></tr>

  <tr>

  	<td>前置条件</td>

      <td>创建一个Sales对象</td></tr>

  <tr>

 		<td>后置条件</td>

      <td>调用Sales方法</td>

  </tr>
    <tr>
 <tr>

  	<td rowspan="3">Sales.getFitPromotionTotal</td>

      <td>语法</td>
      <td>public ArrayList &lt;PromotionTotalVO&gt; getFitPromotionTotal()</td></tr>

  <tr>

  	<td>前置条件</td>

      <td>创建一个Sales对象</td></tr>

  <tr>

 		<td>后置条件</td>

      <td>调用Sales方法</td>

  </tr>


   <tr>

  	<td rowspan="3">Sales.addPurchase</td>

      <td>语法</td>
      <td>public ResultMessage addPurchase(PurchaseVO vo)</td></tr>

  <tr>

  	<td>前置条件</td>

      <td>添加数据到进货单中,输入的供应商、仓库、备注、总额合计符合输入规则</td></tr>

  <tr>

 		<td>后置条件</td>

      <td>生成进货单vo</td>

  </tr>

   <tr>

  	<td rowspan="3">Sales.deletePurchase</td>

      <td>语法</td>
      <td>public ResultMessage deletePurchase(PurchaseVO vo)</td></tr>

  <tr>

  	<td>前置条件</td>

      <td>需要删除进货单vo</td></tr>

  <tr>

 		<td>后置条件</td>

      <td>删除进货单vo</td>

  </tr>
   <tr>

  	<td rowspan="3">Sales.updatePurchase</td>

      <td>语法</td>
      <td>public ResultMessage updatePurchase(PurchaseVO vo)</td></tr>

  <tr>

  	<td>前置条件</td>

      <td>需要修改进货单据</td></tr>

  <tr>

 		<td>后置条件</td>

      <td>修改进货单据信息</td>

  </tr>

  <tr>

  	<td rowspan="3">Sales.addGoodsItem</td>

      <td>语法</td>
      <td>public ResultMessage addGoodsItem(GoodsItemVO item)</td></tr>

  <tr>

  	<td>前置条件</td>

      <td>输入的商品名称、数量、单价、备注符合输入条件</td></tr>

  <tr>

 		<td>后置条件</td>

      <td>添加商品清单信息</td>

  </tr>

   <tr>

  	<td rowspan="3">Sales.addSales</td>

      <td>语法</td>
      <td>public ResultMessage addSales(SalesVO vo)</td></tr>

  <tr>

  	<td>前置条件</td>

      <td>输入的客户、业务员、操作员、仓库、折让前金额、折让、使用代金券金额、折让后总额、备注符合输入条件</td></tr>

  <tr>

 		<td>后置条件</td>

      <td>生成销售单据vo</td>

  </tr>
   <tr>

  	<td rowspan="3">Sales.deleteSales</td>

      <td>语法</td>
      <td>public ResultMessage deleteSales(SalesVO vo)</td></tr>

  <tr>

  	<td>前置条件</td>

      <td>需要删除销售单据</td></tr>

  <tr>

 		<td>后置条件</td>

      <td>删除销售单据</td>

  </tr>
   <tr>

  	<td rowspan="3">Sales.updateSales</td>

      <td>语法</td>
      <td>public ResultMessage updateSales(SalesVO vo)</td></tr>

  <tr>

  	<td>前置条件</td>

      <td>需要修改销售单据</td></tr>

  <tr>

 		<td>后置条件</td>

      <td>修改销售单据</td>

  </tr>

   <tr>
 <tr>

  	<td rowspan="3">Sales.submitPurchase</td>

      <td>语法</td>
      <td>public ResultMessage submitPurchase(PurchaseVO pur)</td></tr>

  <tr>

  	<td>前置条件</td>

      <td>单据已经被制定出来</td></tr>

  <tr>

 		<td>后置条件</td>

      <td>单据提交给总经理进行审批，单据状态变为提交状态</td>

  </tr>
    <tr>

  	<td rowspan="3">Sales.submitSales</td>

      <td>语法</td>
      <td>public ResultMessage submitSales(SalesVO sal)</td></tr>

  <tr>

  	<td>前置条件</td>

      <td>单据已经被制定出来</td></tr>

  <tr>

 		<td>后置条件</td>

      <td>单据提交给总经理进行审批，单据状态变为提交状态</td>

  </tr>

    <tr>
 <tr>

  	<td rowspan="3">Sales.saveSales</td>

      <td>语法</td>
      <td>public ResultMessage saveSales(SalesVO bill)</td></tr>

  <tr>

  	<td>前置条件</td>

      <td>销售单据处在正在制定的状态或单据已经被制定出来</td></tr>

  <tr>

 		<td>后置条件</td>

      <td>销售单据保存到草稿中</td>

</tr>
<tr>

  	<td rowspan="3">Sales.savePurchase</td>

      <td>语法</td>
      <td>public ResultMessage savePurchase(PurchaseVO bill)</td></tr>

  <tr>

  	<td>前置条件</td>

      <td>进货单据处在正在制定的状态或单据已经被制定出来</td></tr>

  <tr>

 		<td>后置条件</td>

      <td>进货单据保存到草稿中</td>

</tr>
<tr>

  	<td rowspan="3">Sales.getUserName</td>

      <td>语法</td>
      <td>public String getUserName()</td></tr>

  <tr>

  	<td>前置条件</td>

      <td>需要获得当前用户ID</td></tr>

  <tr>

 		<td>后置条件</td>

      <td>获得当前用户ID</td>

</tr>
<tr>

  	<td rowspan="3">Sales.getAllSupplier</td>

      <td>语法</td>
      <td>public ArrayList&it;CustomerVO&gt; getAllSupplier();</td></tr>

  <tr>

  	<td>前置条件</td>

      <td>需要获得所有供应商列表</td></tr>

  <tr>
  <tr>

  	<td rowspan="3">Sales.getAllInventory</td>

      <td>语法</td>
      <td> public ArrayList&lt;String&gt; getAllInventory();</td></tr>

  <tr>

  	<td>前置条件</td>

      <td>需要获得所有仓库列表</td></tr>

  <tr>

 		<td>后置条件</td>

      <td>获得所有仓库列表</td>

</tr>
<tr>

  	<td rowspan="3">Sales.getAllCustomer</td>

      <td>语法</td>
      <td> public ArrayList&lt;CustomerVO&gt; getAllCustomer();</td></tr>

  <tr>

  	<td>前置条件</td>

      <td>需要获得所有客户列表</td></tr>

  <tr>

 		<td>后置条件</td>

      <td>获得所有客户列表</td>

</tr>
<tr>

  	<td rowspan="3">Sales.getPurchaseOrderByState</td>

      <td>语法</td>
      <td> public ArrayList&lt;PurchaseVO&gt; getReturnOrderByState(BillState state)</td></tr>

  <tr>

  	<td>前置条件</td>

      <td>需要通过状态得到进货单</td></tr>

  <tr>

 		<td>后置条件</td>

      <td>得到该状态的所有进货单</td>

</tr>
<tr>

  	<td rowspan="3">Sales.getReturnOrderByState</td>

      <td>语法</td>
      <td> public ArrayList&lt;PurchaseVO&gt; getReturnOrderByState(BillState state)</td></tr>

  <tr>

  	<td>前置条件</td>

      <td>需要通过状态得到进货退货单</td></tr>

  <tr>

 		<td>后置条件</td>

      <td>得到该状态的所有进货退货单</td>

</tr>
<tr>

  	<td rowspan="3">Sales.getSalesOrderByState</td>

      <td>语法</td>
      <td> public ArrayList&lt;SalesVO&gt; getSalesOrderByState(BillState state);</td></tr>

  <tr>

  	<td>前置条件</td>

      <td>需要通过状态得到销售出货单</td></tr>

  <tr>

 		<td>后置条件</td>

      <td>得到该状态的所有销售出货单</td>

</tr>
<tr>

  	<td rowspan="3">Sales.getSalesreturnOrderByState</td>

      <td>语法</td>
      <td>public ArrayList&lt;SalesVO&gt; getSalesreturnOrderByState(BillState state);</td></tr>

  <tr>

  	<td>前置条件</td>

      <td>需要通过状态得到销售退货单</td></tr>

  <tr>

 		<td>后置条件</td>

      <td>得到该状态的所有销售退货单</td>

</tr>
<tr>

  	<td rowspan="3">Sales.findPromotionCustomerByName</td>

      <td>语法</td>
      <td>public PromotionCustomerVO findPromotionCustomerByName(String name);</td></tr>

  <tr>

  	<td>前置条件</td>

      <td>需要通过名字查找会员促销策略</td></tr>

  <tr>

 		<td>后置条件</td>

      <td>得到通过名字查找到的促销策略</td>

</tr>
<tr>

  	<td rowspan="3">Sales.findPromotionBargainByName</td>

      <td>语法</td>
      <td>public PromotionBargainVO findPromotionBargainByName(String name);</td></tr>

  <tr>

  	<td>前置条件</td>

      <td>需要通过名字查找特价包</td></tr>

  <tr>

 		<td>后置条件</td>

      <td>得到通过名字查找到的特价包</td>

</tr>
<tr>

  	<td rowspan="3">Sales.findPromotionTotalByName</td>

      <td>语法</td>
      <td>public PromotionTotalVO findPromotionTotalByName(String name);</td></tr>

  <tr>

  	<td>前置条件</td>

      <td>需要通过名字查找总价促销策略</td></tr>

  <tr>

 		<td>后置条件</td>

      <td>得到通过名字查找到的总价促销策略</td>

</tr>
<tr>

  	<td rowspan="3">Sales.getCurrentUserLimits</td>

      <td>语法</td>
      <td>public UserLimits getCurrentUserLimits();</td></tr>

  <tr>

  	<td>前置条件</td>

      <td>需要显示当前用户的用户权限</td></tr>

  <tr>

 		<td>后置条件</td>

      <td>得到当前用户的用户权限</td>

</tr>
<tr>

  	<th colspan="3" align="center">需要的服务（需接口）</th>

  </tr>

  <tr>

  <th>服务名</th>

  <th colspan="2">服务</th>

  </tr>
   <tr>

  <td>SalesDataService.getNewPurchaseID()</td>

  <td colspan="2">得到新的进货单ID</td>

  </tr>
  <tr>

  <td>SalesDataService.getNewReturnID()</td>

  <td colspan="2">得到新的进货退货单ID</td>

  </tr>
  <tr>

  <td>SalesDataService.getNewSalesID()</td>

  <td colspan="2">得到新的销售单ID</td>

  </tr>
   <tr>

  <td>SalesDataService.getNewSalesReturnID()</td>

  <td colspan="2">得到新的销售退货单ID</td>

  </tr>

  <tr>

  <td>SalesDataService.findPurchaseByID(String ID)</td>

  <td colspan="2">根据ID查找单一持久化对象</td>

  </tr>
   <tr>

  <td>SalesDataService.findPurchaseByState(BillState state)</td>

  <td colspan="2">根据单据状态查找单一持久化对象</td>

  </tr>
  <tr>

  <td>SalesDataService.findSalesByID(String ID)</td>

  <td colspan="2">根据ID查找单一持久化对象</td>

  </tr>
  <tr>

  <td>SalesDataService.findSlaesByState(BillState state)</td>

  <td colspan="2">根据单据状态查找单一持久化对象</td>

  </tr>
  <tr>

  <td>SalesDataService.addGoodsItem(GoodsItemPO po)</td>

  <td colspan="2">插入单一持久化对象</td>

  </tr>
  <tr>

  <td>SalesDataService.addPurchase(PurchasePO po)</td>

  <td colspan="2">插入单一持久化对象</td>

  </tr>
  <tr>

  <td>SalesDataService.addSales(SalesPO po)</td>

  <td colspan="2">插入单一持久化对象</td>

  </tr>
  <tr>

  <td>SalesDataService.updatePurchase(PurchasePO po)</td>

  <td colspan="2">修改单一持久化对象</td>

  </tr>
  <tr>

  <td>SalesDataService.updateSales(SalesPO po)</td>

  <td colspan="2">修改单一持久化对象</td>

  </tr>
  <tr>

  <td>SalesDataService.deletePurchase(PurchasePO po)</td>

  <td colspan="2">删除单一持久化对象</td>

  </tr>
  <tr>

  <td>SalesDataService.deleteSales(SalesPO po)</td>

  <td colspan="2">删除单一持久化对象</td>

  </tr>
  <tr>

  <td>SalesDataService.init()</td>

  <td colspan="2">清空单一化持久对象</td>

  </tr>
  <tr>

  <td>SalesDataService.showPurchase()</td>

  <td colspan="2">展示单一化持久对象</td>

  </tr>
  <tr>

  <td>SalesDataService.showReturn()</td>

  <td colspan="2">展示单一化持久对象</td>

  </tr>
  <tr>

  <td>SalesDataService.showSales()</td>

  <td colspan="2">展示单一化持久对象</td>

  </tr>
  <tr>

  <td>SalesDataService.showSalesReturn()</td>

  <td colspan="2">展示单一化持久对象</td>

  </tr>


</table>

* 表5.3.2-4 accountbl模块的接口规范
  <table>
  <tr>
  	<th colspan="3" align="center">提供的服务（供接口）</th>
  </tr>
  <tr>
    	<td rowspan="3">AccountBLService.addAccount</td>
        <td>语法</td>
        <td>public ResultMessage addAccount(AccountVO vo);</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>name和money符合输入规则</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>系统添加新的银行账户，持久化更新涉及的领域对象的数据</td>
    </tr>
    <tr>
    	<td rowspan="3">AccountBLService.findAccountByName</td>
        <td>语法</td>
        <td>public ArrayList&lt;AccountVO&gt; findAccountByName(String keyword);</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>keyword符合输入规则</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>系统返回查找到的银行账户</td>
    </tr>
    <tr>
    	<td rowspan="3">AccountBLService.deleteAccount</td>
        <td>语法</td>
        <td>public ResultMessage deleteAccount(String name);</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>name符合输入规则</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>系统删除指定的银行账户，持久化更新涉及的领域对象的数据</td>
    </tr>
        <tr>
    	<td rowspan="3">AccountBLService.updateAccount</td>
        <td>语法</td>
        <td>public ResultMessage updateAccount(AccountVO vo);</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>财务人员需要更新银行账户信息</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>系统更新指定的银行账户，并返回结果</td>
    </tr>
    
         <tr>
    	<td rowspan="3">AccountInfo.getAllAccountName</td>
        <td>语法</td>
        <td>public ArrayList&lt;String&gt; getAllAccountName();</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>用户需要获得所有账户的名称</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>无</td>
    </tr>
    
       <tr>
    	<td rowspan="3">AccountInfo.show</td>
        <td>语法</td>
        <td>public ArrayList&lt;AccountVO&gt; show();</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>存在银行账户</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>返回所有银行账户信息</td>
    </tr>
    
     <tr>
    	<td rowspan="3">AccountInfo.getAccountByID</td>
        <td>语法</td>
        <td>public AccountVO getAccountByID(String id);</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>输入正确的账户ID</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>返回该银行账户信息</td>
    </tr>
    
    <tr>
    	<td rowspan="3">AccountInfo.changeMoney</td>
        <td>语法</td>
        <td>public ResultMessage changeMoney(String ID,double money);</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>输入正确的账户ID和金额</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>更新账户的余额</td>
    </tr>

    <tr>
    	<th colspan="3" align="center">需要的服务（需接口）</th>
    </tr>
    <tr>
    <th>服务名</th>
    <th colspan="2">服务</th>
    </tr>
     <tr>
    <td>AccountDataService.findByName(String name)</td>
    <td colspan="2">根据名称进行查找单一持久化对象</td>
    </tr>
    <tr>
    <td>AccountDataService.addAccount(AccountPO po)</td>
    <td colspan="2">添加一个单一持久化对象</td>
    </tr>
    <tr>
    <td>AccountDataService.updateAccount(AccountPO po)</td>
    <td colspan="2">更新单一持久化对象</td>
    </tr>
    <tr>
    <td>AccountDataService.deleteAccount(AccountPO po)</td>
    <td colspan="2">删除单一持久化对象</td>
    </tr>
    <tr>
    <td>AccountDataService.show()</td>
    <td colspan="2">返回所有单一持久化对象</td>
    </tr>

    <tr>
    <td>LogInfo.record(OperationType operationType, OperationObjectType operationObjectType, String details)</td>
    <td colspan="2">添加一条日志记录</td>
    </tr>
    <tr>
    <td>LogInfo.close()</td>
    <td colspan="2">关闭日志系统</td>
    </tr>
    <tr>
    <td>LogInfo.open()</td>
    <td colspan="2">开启日志系统</td>
    </tr></table>

* 表5.3.2-5 financebl模块的接口规范
  <table>
  <tr>
  	<th colspan="3" align="center">提供的服务（供接口）</th>
  </tr>
  <tr>
    	<td rowspan="3">FinanceBLService.getNewReceiptID</td>
        <td>语法</td>
        <td>public String getNewReceiptID();</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>请求新建收款单</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>系统返回新建收款单的ID</td>
    </tr>
    	<tr>
    	<td rowspan="3">FinanceBLService.getNewPaymentID</td>
        <td>语法</td>
        <td>public String getNewPaymentID();</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>请求新建付款单</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>系统返回新建付款单的ID</td>
    </tr>
    <tr>
    	<td rowspan="3">FinanceBLService.getNewCashBillID</td>
        <td>语法</td>
        <td>public String getNewCashBillID();</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>请求新建现金费用单</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>系统返回新建现金费用单的ID</td>
    </tr>
    <tr>
    	<td rowspan="3">FinanceBLService.getUserID</td>
        <td>语法</td>
        <td>public String getUserID();</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>请求新建收、付款/现金费用单据</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>系统返回当前用户ID</td>
    </tr>
    
        <tr>
    	<td rowspan="3">FinanceBLService.getAllCustomers</td>
        <td>语法</td>
        <td>public ArrayList&lt;CustomerVO&gt; getAllCustomers();</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>需要显示所有的客户</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>系统返回所有的客户列表</td>
    </tr>
     <tr>
    	<td rowspan="3">FinanceBLService.getCustomerNameByID</td>
        <td>语法</td>
        <td>public String getCustomerNameByID(String ID);</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>输入正确的ID</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>系统返回匹配的客户名称</td>
    </tr>
    <tr>
    	<td rowspan="3">FinanceBLService.getAllAccount</td>
        <td>语法</td>
        <td>public ArrayList&lt;AccountVO&gt; getAllAccount();</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>需要显示所有的银行账户</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>系统返回所有的银行账户列表</td>
    </tr>
    <tr>
    	<td rowspan="3">FinanceBLService.save</td>
        <td>语法</td>
        <td>public ResultMessage save(AccountBillVO vo);</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>填写部分信息但不提交，需要保存草稿</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>系统保存草稿收付款单据，返回结果</td>
    </tr>
        <tr>
    	<td rowspan="3">FinanceBLService.save</td>
        <td>语法</td>
        <td>public ResultMessage save(CashBillVO vo);</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>填写部分信息但不提交，需要保存草稿</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>系统保存草稿现金费用单据，返回结果</td>
    </tr>
     <tr>
    	<td rowspan="3">FinanceBLService.submit</td>
        <td>语法</td>
        <td>public ResultMessage submit(AccountBillVO vo);</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>填写完整单据信息</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>系统提交单据</td>
    </tr>
 
     <tr>
    	<td rowspan="3">FinanceBLService.submit</td>
        <td>语法</td>
        <td>public ResultMessage submit(CashBillVO vo);</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>填写完整单据信息</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>系统提交单据</td>
    </tr>
     <tr>
    	<td rowspan="3">FinancBLServicee.updateDraft</td>
        <td>语法</td>
        <td>public ResultMessage updateDraft(CashBillVO vo);</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>单据是草稿状态且被修改</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>系统更新单据</td>
    </tr>
      <tr>
    	<td rowspan="3">FinanceBLService.updateDraft</td>
        <td>语法</td>
        <td>public ResultMessage updateDraft(AccountBillVO vo);</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>单据是草稿状态且被修改</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>系统更新单据</td>
    </tr>
     <tr>
    	<td rowspan="3">FinanceBLService.deleteDraftAccountBill</td>
        <td>语法</td>
        <td>public ResultMessage deleteDraftAccountBill(String ID);</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>单据是草稿状态</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>系统删除单据</td>
    </tr>
     <tr>
    	<td rowspan="3">FinanceBLService.deleteDraftCashBill</td>
        <td>语法</td>
        <td>public ResultMessage deleteDraftCashBill(String ID);</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>单据是草稿状态</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>系统删除单据</td>
    </tr>
     <tr>
    	<td rowspan="3">FinanceBLServiceBLService.getAccountNameByID</td>
        <td>语法</td>
        <td>public String getAccountNameByID(String accountID);</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>输入正确ID</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>系统匹配ID的账户名称</td>
    </tr>
     <tr>
    	<td rowspan="3">FinanceBLService.getReceiptsByState</td>
        <td>语法</td>
        <td>public ArrayList&lt;AccountBillVO&gt; getReceiptsByState(BillState state);</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>输入正确的单据状态</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>系统返回单据状态为输入状态的所有收款单据</td>
    </tr>
     <tr>
    	<td rowspan="3">FinanceBLService.getPaymentsByState</td>
        <td>语法</td>
        <td>public ArrayList&lt;AccountBillVO&gt; getPaymentsByState(BillState state);</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>输入正确的单据状态</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>系统返回单据状态为输入状态的所有付款单据</td>
    </tr>
      <tr>
    	<td rowspan="3">FinanceBLService.getCashBillsByState</td>
        <td>语法</td>
        <td>public ArrayList&lt;CashBillVO&gt; getCashBillsByState(BillState state);</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>输入正确的单据状态</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>系统返回单据状态为输入状态的所有现金费用单据</td>
    </tr>
     <tr>
    	<td rowspan="3">FinanceInfo.examine</td>
        <td>语法</td>
        <td>public ResultMessage examine(AccountBillVO vo);</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>收付款单已提交</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>系统更新单据状态，更新银行账户余额数据，客户应收应付数据</td>
    </tr>
     <tr>
    	<td rowspan="3">FinanceInfo.examine</td>
        <td>语法</td>
        <td>public ResultMessage examine(CashBillVO vo);</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>现金费用单已提交</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>系统更新单据状态，更新银行账户余额数据</td>
    </tr>
    <tr>
    	<td rowspan="3">FinanceInfo.getAllSubmittedPayments</td>
        <td>语法</td>
        <td>public ArrayList&lt;AccountBillVO&gt; getAllSubmittedPayments();</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>无</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>返回所有待审批的付款单</td>
    </tr>
     <tr>
    	<td rowspan="3">FinanceInfo.getAllSubmittedReceipts</td>
        <td>语法</td>
        <td>public ArrayList&lt;AccountBillVO&gt; getAllSubmittedReceipts();</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>无</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>返回所有待审批的收款单</td>
    </tr>
    <tr>
    	<td rowspan="3">FinanceInfo.getAllSubmittedCashBills</td>
        <td>语法</td>
        <td>public ArrayList&lt;CashBillVO&gt; getAllSubmittedCashBills();</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>无</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>返回所有待审批的现金费用单</td>
    </tr>
      <tr>
    	<td rowspan="3">FinanceInfo.getAccountBillsByDate</td>
        <td>语法</td>
        <td>public ArrayList&lt;AccountBillVO&gt; getAccountBillsByDate(String startDate,String endDate);</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>输入正确的开始日期和结束日期</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>返回该日期内所有审批通过了的收付款单</td>
    </tr>
     <tr>
    	<td rowspan="3">FinanceInfo.getCashBillsByDate</td>
        <td>语法</td>
        <td>public ArrayList&lt;CashBillVO&gt; getCashBillsByDate(String startDate,String endDate);</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>输入正确的开始日期和结束日期</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>返回该日期内所有审批通过了的现金费用单</td>
    </tr>
    <tr>
    	<td rowspan="3">FinanceInfo.redCover</td>
        <td>语法</td>
        <td>public ResultMessage redCover(AccountBillVO billVO);</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>输入的单据已被审批通过</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>系统红冲单据</td>
    </tr>
    <tr>
    	<td rowspan="3">FinanceInfo.redCover</td>
        <td>语法</td>
        <td>public ResultMessage redCover(CashBillVO billVO);</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>输入的单据已被审批通过</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>系统红冲单据</td>
    </tr>
     <tr>
    	<td rowspan="3">FinanceInfo.redCoverAndCopy</td>
        <td>语法</td>
        <td>public ResultMessage redCoverAndCopy(CashBillVO billVO);</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>输入的单据已被审批通过</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>系统红冲并复制单据</td>
    </tr>
      <tr>
    	<td rowspan="3">FinanceInfo.redCoverAndCopy</td>
        <td>语法</td>
        <td>public ResultMessage redCoverAndCopy(AccountBillVO billVO);</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>输入的单据已被审批通过</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>系统红冲并复制单据</td>
    </tr>
  
    <tr>
    	<th colspan="3" align="center">需要的服务（需接口）</th>
    </tr>
    <tr>
    <th>服务名</th>
    <th colspan="2">服务</th>
    </tr>
    <tr>
    <td>FinanceDataService.find(String id)</td>
    <td colspan="2">根据id进行查找单一持久化对象</td>
    </tr>
    <tr>
    <td>FinanceDataService.addAccountBill(PO po)</td>
    <td colspan="2">添加单一持久化对象</td>
    </tr>
    <tr>
    <td>FinanceDataService.update(PO po)</td>
    <td colspan="2">更新单一持久化对象</td>
    </tr>
     <tr>
    <td>FinanceDataService.delete(PO po)</td>
    <td colspan="2">删除指定的单一持久化对象</td>
    </tr>
     <tr>
    <td>FinanceDataService.getAll()</td>
    <td colspan="2">返回所有单一持久化对象</td>
    </tr>
     <tr>
    <td>FinanceDataService.getNewReceiptID()</td>
    <td colspan="2">返回新建的收款单ID</td>
    </tr>
    <tr>
    <td>FinanceDataService.getNewPaymentID()</td>
    <td colspan="2">返回新建的付款单ID</td>
    </tr>
     <tr>
    <td>FinanceDataService.getNewCashBillID()</td>
    <td colspan="2">返回新建的现金费用单ID</td>
    </tr>
      <tr>
    <td>FinanceDataService.getUserID()</td>
    <td colspan="2">返回当前用户ID</td>
    </tr>
  </table>

* 表5.3.2-6 initializationbl模块的接口规范
  <table>
  <tr>
  	<th colspan="3" align="center">提供的服务（供接口）</th>
  </tr>
  <tr>
    	<td rowspan="3">Initialization.add</td>
    	<td>语法</td>
    	<td>public ResultMessage add(ArrayList&lt;initAccountVO&gt; vo);</td></tr>
  <tr>
    	<td>前置条件</td>
    	<td>商品信息、客户信息、银行账户输入合法</td></tr>
  <tr>
   		<td>后置条件</td>
    	<td>建立期初账目</td>
  </tr>
  <tr>
    	<td rowspan="3">Initialization.getAverage</td>
        <td>语法</td>
        <td>public double getAverage(int time， double purPrice， double salePrice);</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>商品信息存在</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>返回去年的平均进价和售价</td>
    </tr>

    <tr>
    	<th colspan="3" align="center">需要的服务（需接口）</th>
    </tr>
    <tr>
    <th>服务名</th>
    <th colspan="2">服务</th>
    </tr>
    <tr>
    <td>InitializationDataService.init()</td>
    <td colspan="2">初始化持久数据</td>
    </tr>
    <tr>
    <td>InitializationDataService.add(ExaminationPO po)</td>
    <td colspan="2">插入单一持久化对象</td>
    </tr>
  </table>

* 表5.3.2-7 examinationbl模块的接口规范
  <table>
  <tr>
  	<th colspan="3" align="center">提供的服务（供接口）</th>
  </tr>
  <tr>
    	<td rowspan="3">ExaminationBLService.show</td>
    	<td>语法</td>
    	<td>public ArrayList&lt;BillVO&gt; show();</td></tr>
  <tr>
    	<td>前置条件</td>
    	<td>无</td></tr>
  <tr>
   		<td>后置条件</td>
    	<td>显示所有待审批单据</td>
  </tr>
    <tr>
    	<td rowspan="3">ExaminationBLService.modifyReceipt</td>
        <td>语法</td>
        <td>public ResultMessage modifyReceipt(BillVO bill);</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>单据已存在</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>修改单据内容</td>
    </tr>
     <tr>
    	<td rowspan="3">ExaminationBLService.approveReceipt</td>
        <td>语法</td>
        <td>public ResultMessage approveReceipt(BillVO bill);</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>无</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>修改单据状态为通过状态，记录日志并发送消息</td>
    </tr>
         <tr>
    	<td rowspan="3">ExaminationBLService.refuseReceipt</td>
        <td>语法</td>
        <td>public ResultMessage refuseReceipt(BillVO bill);</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>无</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>修改单据状态为未通过状态，记录日志并发送消息</td>
    </tr>

    <tr>
    	<th colspan="3" align="center">需要的服务（需接口）</th>
    </tr>
    <tr>
    <th>服务名</th>
    <th colspan="2">服务</th>
    </tr>
     <tr>
    <td>InventoryInfo.getAllSubmittedInventoryBill()</td>
    <td colspan="2">得到所有待审批的仓库类单据，包括报溢单和报损单</td>
    </tr>
    <tr>
    <td>FinanceInfo.getAllSubmittedCashBills()</td>
    <td colspan="2">得到所有待审批的现金费用单</td>
    </tr>
    <tr>
    <td>FinanceInfo.getAllSubmittedPayments()</td>
    <td colspan="2">得到所有待审批的付款单</td>
    </tr>
    <tr>
    <td>FinanceInfo.getAllSubmittedReceipts()</td>
    <td colspan="2">得到所有待审批的收款单</td>
    </tr>
    <tr>
    <td>SalesInfo.getAllSubmittedSales()</td>
    <td colspan="2">得到所有待审批的销售类单据，包括销售单和销售退货单</td>
    </tr>
    <tr>
    <td>PurchaseInfo.getAllSubmittedPurchase()</td>
    <td colspan="2">得到所有待审批的进货单和进货退货单</td>
    </tr>
    <tr>
    <td>InventoryInfo.examine（InventoryBillVO bill)</td>
    <td colspan="2">修改或审批仓库类单据</td>
    </tr>
    <tr>
    <td>FinanceInfo.examine(CashBillVO bill)</td>
    <td colspan="2">修改或审批现金费用单</td>
    </tr>
    <tr>
    <td>FinanceInfo.examine(AccountBillVO bill)</td>
    <td colspan="2">修改或审批收款单或付款单</td>
    </tr>
    <tr>
    <td>SalesInfo.examine(SalesBillVO bill)</td>
    <td colspan="2">修改或审批销售单或销售退货单</td>
    </tr>
    <tr>
    <td>PurchaseInfo.examine(PurchaseBillVO bill)</td>
    <td colspan="2">修改或审批进货单或进货退货单</td>
    </tr>
  </table>

* 表5.3.2-8 promotionCustomer模块的接口规范
  <table>
  <tr>
  	<th colspan="3" align="center">提供的服务（供接口）</th>
  </tr>
  <tr>
    	<td rowspan="3">PromotionCustomerBLService.show</td>
        <td>语法</td>
        <td>public ArrayList&lt;PromotionCustomerVO&gt; show();</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>无</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>返回所有有效的会员促销策略</td>
    </tr>
    <tr>
    	<td rowspan="3">PromotionCustomerBLService.submit</td>
        <td>语法</td>
        <td>public ResultMessage submit(PromotionCustomerVO vo);</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>无</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>提交会员促销策略</td>
    </tr>
     <tr>
    	<td rowspan="3">PromotionCustomerBLService.findPromotionByID</td>
        <td>语法</td>
        <td>public PromotionCustomerVO findPromotionByID(String promotionID);</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>输入合法</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>通过促销策略ID查找会员促销策略</td>
    </tr>
         <tr>
    	<td rowspan="3">PromotionCustomerBLService.updatePromotion</td>
        <td>语法</td>
        <td>public ResultMessage updatePromotion(PromotionCustomerVO vo);</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>促销策略已存在</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>修改已有会员促销策略</td>
    </tr>
    <tr>
    	<td rowspan="3">PromotionCustomerBLService.getNewPromotionCustomerID</td>
        <td>语法</td>
        <td>public String getNewPromotionCustomerID();</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>无</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>得到新的会员促销策略ID</td>
    </tr>
         <tr>
    	<td rowspan="3">PromotionCustomerBLService.getCurrentUserName</td>
        <td>语法</td>
        <td>public String getCurrentUserName();</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>无</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>得到当前登录用户名</td>
    </tr>
  <tr>
    	<td rowspan="3">PromotionCustomerBLService.findPromotionByName(String promotionName)</td>
        <td>语法</td>
        <td>public PromotionCustomerVO findPromotionByName(String promotionName);</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>输入合法</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>通过促销策略名查找会员促销策略</td>
    </tr>
        <tr>
    	<td rowspan="3">PromotionCustomerInfo.getFitPromotionCustomer</td>
        <td>语法</td>
        <td>public ArrayList&lt;PromotionCustomerVO&gt; getFitPromotionCustomer(Level level);</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>无</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>通过客户等级筛选合适的会员促销策略</td>
    </tr>
            <tr>
    	<td rowspan="3">PromotionCustomerInfo.findPromotionByID</td>
        <td>语法</td>
        <td>public PromotionCustomerVO findPromotionByID(String promotionID);</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>无</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>根据ID返回会员促销策略信息</td>
    </tr>
                <tr>
    	<td rowspan="3">PromotionCustomerInfo.findPromotionByName</td>
        <td>语法</td>
        <td>public PromotionCustomerVO findPromotionByName(String promotionName);</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>无</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>根据促销策略名返回会员促销策略信息</td>
    </tr>

    <tr>
    	<th colspan="3" align="center">需要的服务（需接口）</th>
    </tr>
    <tr>
    <th>服务名</th>
    <th colspan="2">服务</th>
    </tr>
    <tr>
    <td>PromotionDataService.showPC()</td>
    <td colspan="2">得到所有有效的会员促销策略</td>
    </tr>
    <tr>
    <td>PromotionDataService.getNewPromotionCustomerID()</td>
    <td colspan="2">得到新的会员促销策略ID</td>
    </tr>
    <tr>
    <td>PromotionDataService.findPCByName(String promotionName)</td>
    <td colspan="2">通过促销策略名查找会员促销策略</td>
    </tr>
    <tr>
    <td>PromotionDataService.addPC(PromotionCustomerPO po)</td>
    <td colspan="2">添加会员促销策略</td>
    </tr>
    <tr>
    <td>PromotionDataService.findPC(String promotionID)</td>
    <td colspan="2">通过促销策略ID查找会员促销策略</td>
    </tr>
    <tr>
    <td>PromotionDataService.updatePC(PromotionCustomerPO po)</td>
    <td colspan="2">更新会员促销策略</td>
    </tr>
    <tr>
    <td>LogInfo.record(OperationType operationType, OperationObjectType operationObjectType, String details)</td>
    <td colspan="2">记录日志</td>
    </tr>
    <tr>
    <td>UserInfo.getCurrentUserID()</td>
    <td colspan="2">得到当前登录用户ID</td>
    </tr>
    <tr>
    <td>UserInfo.getCurrentUserNameByID(String userID)</td>
    <td colspan="2">通过用户ID得到用户姓名</td>
    </tr>
  </table>

* 表5.3.2-9 promotionBargain模块的接口规范
  <table>
  <tr>
  	<th colspan="3" align="center">提供的服务（供接口）</th>
  </tr>
  <tr>
    	<td rowspan="3">PromotionBargainBLService.show</td>
        <td>语法</td>
        <td>public ArrayList&lt;PromotionBargainVO&gt; show();</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>无</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>返回所有有效的特价包策略</td>
    </tr>
    <tr>
    	<td rowspan="3">PromotionBargainBLService.submit</td>
        <td>语法</td>
        <td>public ResultMessage submit(PromotionBargainVO vo);</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>无</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>提交特价包促销策略</td>
    </tr>
     <tr>
    	<td rowspan="3">PromotionBargainBLService.findPromotionByID</td>
        <td>语法</td>
        <td>public PromotionBargainVO findPromotionByID(String promotionID);</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>输入合法</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>通过促销策略ID查找特价包促销策略</td>
    </tr>
             <tr>
    	<td rowspan="3">PromotionBargainBLService.updatePromotion</td>
        <td>语法</td>
        <td>public ResultMessage updatePromotion(PromotionBargainVO vo);</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>无</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>更新特价包促销策略</td>
    </tr>
  <tr>
    	<td rowspan="3">PromotionBaigainBLService.getNewPromotionBargainID</td>
        <td>语法</td>
        <td>public String getNewPromotionBargainID();</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>无</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>得到新的特价包促销策略ID</td>
    </tr>
        <tr>
    	<td rowspan="3">PromotionBargainBLService.getCurrentUserName</td>
        <td>语法</td>
        <td>public String getCurrentUserName();</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>无</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>得到当前登录用户的用户名</td>
    </tr>
  	<tr>
    	<td rowspan="3">PromotionBargainBLService.findPromotionByName</td>
        <td>语法</td>
        <td>public PromotionBargainVO findPromotionByName(String promotionName);</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>输入合法</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>通过促销策略名查找特价包促销策略</td>
    </tr>
    <tr>
    	<td rowspan="3">PromotionBargainInfo.getFitPromotionBargain</td>
        <td>语法</td>
        <td>public ArrayList&lt;PromotionBargainVO&gt; getFitPromotionBargain();</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>无</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>得到所有合适的特价包促销策略</td>
    </tr>
    <tr>
    	<td rowspan="3">PromotionBargainInfo.findPromotionByName</td>
        <td>语法</td>
        <td>public PromotionBargainVO findPromotionByName(String promotionName);</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>无</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>通过促销策略名得到特价包促销策略</td>
    </tr>

    <tr>
    	<th colspan="3" align="center">需要的服务（需接口）</th>
    </tr>
    <tr>
    <th>服务名</th>
    <th colspan="2">服务</th>
    </tr>
    <tr>
    <td>PromotionDataService.showPB()</td>
    <td colspan="2">得到所有有效的特价包促销策略</td>
    </tr>
    <tr>
    <td>PromotionDataService.getNewPromotionBargainID()</td>
    <td colspan="2">得到新的特价包促销策略ID</td>
    </tr>
    <tr>
    <td>PromotionDataService.findPBByName(String promotionName)</td>
    <td colspan="2">通过促销策略名查找特价包促销策略</td>
    </tr>
    <tr>
    <td>PromotionDataService.addPB(PromotionBargainPO po)</td>
    <td colspan="2">添加特价包促销策略</td>
    </tr>
    <tr>
    <td>PromotionDataService.findPB(String promotionID)</td>
    <td colspan="2">通过促销策略ID查找特价包促销策略</td>
    </tr>
    <tr>
    <td>PromotionDataService.updatePB(PromotionBargainPO po)</td>
    <td colspan="2">更新特价包促销策略</td>
    </tr>
   <tr>
    <td>LogInfo.record(OperationType operationType, OperationObjectType operationObjectType, String details)</td>
    <td colspan="2">记录日志</td>
    </tr>
    <tr>
    <td>UserInfo.getCurrentUserID()</td>
    <td colspan="2">得到当前登录用户ID</td>
    </tr>
    <tr>
    <td>UserInfo.getCurrentUserNameByID(String userID)</td>
    <td colspan="2">通过用户ID得到用户姓名</td>
    </tr>
  </table>

* 表5.3.2-10 promotionTotal模块的接口规范
  <table>
  <tr>
  	<th colspan="3" align="center">提供的服务（供接口）</th>
  </tr>
  <tr>
    	<td rowspan="3">PromotionTotalBLService.show</td>
        <td>语法</td>
        <td>public ArrayList&lt;PromotionTotalVO&gt; show();</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>无</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>得到所有有效的总价促销策略</td>
    </tr>
    <tr>
    	<td rowspan="3">PromotionTotalBLService.submit</td>
        <td>语法</td>
        <td>public ResultMessage submit(PromotionTotalVO vo);</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>无</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>提交总价促销策略</td>
    </tr>
     <tr>
    	<td rowspan="3">PromotionTotalBLService.findPromotionByID</td>
        <td>语法</td>
        <td>public PromotionTotalVO findPromotionByID(String promotionID);</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>输入合法</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>通过促销策略ID查找总价促销策略</td>
    </tr>
         <tr>
    	<td rowspan="3">PromotionTotalBLService.updatePromotion</td>
        <td>语法</td>
        <td>public ResultMessage updatePromotion(PromotionTotalVO promotionTotalVO);</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>无</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>更新总价促销策略</td>
    </tr>
         <tr>
    	<td rowspan="3">PromotionTotalBLService.getNewPromotionTotalID</td>
        <td>语法</td>
        <td>public String getNewPromotionTotalID();</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>无</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>得到新的总价促销策略ID</td>
    </tr>
  <tr>
    	<td rowspan="3">PromotionTotalBLService.getCurrentUserName</td>
        <td>语法</td>
        <td>public String getCurrentUserName();</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>无</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>得到当前登录用户名</td>
    </tr>
        <tr>
    	<td rowspan="3">PromotionTotalBLService.findPromotionByName</td>
        <td>语法</td>
        <td>public PromotionTotalVO findPromotionByName(String promotionName);</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>输入合法</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>通过促销策略名查找总价促销策略</td>
    </tr>
        <tr>
    	<td rowspan="3">PromotionTotalInfo.getFitPromotionTotal</td>
        <td>语法</td>
        <td>public ArrayList&lt;PromotionTotalVO&gt; getFitPromotionTotal(double total);</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>输入合法</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>通过总价得到合适的总价促销策略</td>
    </tr>
        <tr>
    	<td rowspan="3">PromotionTotalInfo.findPromotionByName</td>
        <td>语法</td>
        <td>public PromotionTotalVO findPromotionByName(String promotionName);</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>输入合法</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>通过促销策略名得到总价促销策略</td>
    </tr>

    <tr>
    	<th colspan="3" align="center">需要的服务（需接口）</th>
    </tr>
    <tr>
    <th>服务名</th>
    <th colspan="2">服务</th>
    </tr>
    <tr>
    <td>PromotionDataService.showPT()</td>
    <td colspan="2">得到所有有效的总价促销策略</td>
    </tr>
    <tr>
    <td>PromotionDataService.getNewPromotionTotalID()</td>
    <td colspan="2">得到新的总价促销策略ID</td>
    </tr>
    <tr>
    <td>PromotionDataService.findPTByName(String promotionName)</td>
    <td colspan="2">通过促销策略名查找总价促销策略</td>
    </tr>
    <tr>
    <td>PromotionDataService.addPT(PromotionTotalPO po)</td>
    <td colspan="2">添加总价促销策略</td>
    </tr>
    <tr>
    <td>PromotionDataService.findPT(String promotionID)</td>
    <td colspan="2">通过促销策略ID查找总价促销策略</td>
    </tr>
    <tr>
    <td>PromotionDataService.updatePT(PromotionTotalPO po)</td>
    <td colspan="2">更新总价促销策略</td>
    </tr>
    <tr>
    <td>LogInfo.record(OperationType operationType, OperationObjectType operationObjectType, String details)</td>
    <td colspan="2">记录日志</td>
    </tr>
    <tr>
    <td>UserInfo.getCurrentUserID()</td>
    <td colspan="2">得到当前登录用户ID</td>
    </tr>
    <tr>
    <td>UserInfo.getCurrentUserNameByID(String userID)</td>
    <td colspan="2">通过用户ID得到用户姓名</td>
    </tr>
  </table>

* 表5.3.2-11 userbl模块的接口规范
  <table>
  <tr>
  	<th colspan="3" align="center">提供的服务（供接口）</th>
  </tr>
  <tr>
    	<td rowspan="3">UserBLService.login</td>
        <td>语法</td>
        <td>public ResultMessage login(String userID, String password);</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>输入合法</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>查找是否存在相应的User，根据输入的password返回登录验证的结果</td>
    </tr>
    <tr>
    	<td rowspan="3">UserBLService.addUser</td>
        <td>语法</td>
        <td>public ResultMessage addUser(UserVO vo);</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>输入合法</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>添加用户</td>
    </tr>
     <tr>
    	<td rowspan="3">UserBLService.deleteUser</td>
        <td>语法</td>
        <td>public ResultMessage deleteUser(String userID);</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>输入ID合法且该用户存在</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>根据ID查找相应用户并删除</td>
    </tr>
         <tr>
    	<td rowspan="3">UserBLService.modifyUser</td>
        <td>语法</td>
        <td>public ResultMessage modifyUser(UserVO vo);</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>输入的用户ID，密码，姓名，职位，权限合法</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>根据用户ID查找相应用户并更改用户信息</td>
    </tr>
         <tr>
    	<td rowspan="3">UserBLService.findUserByID</td>
        <td>语法</td>
        <td>public UserVO findUserByID(String UserID);</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>输入的用户ID</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>通过用户ID精确查找用户</td>
    </tr>
           <tr>
    	<td rowspan="3">UserBLservice.findUsersByID</td>
        <td>语法</td>
        <td>public ArrayList&lt;UserVO&gt; findUsersByID(String UserID);</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>输入的用户ID</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>通过用户ID模糊查找用户</td>
    </tr>
           <tr>
    	<td rowspan="3">UserBLService.show</td>
        <td>语法</td>
        <td>public ArrayList&lt;UserVO&gt; show();</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>无</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>得到所有用户</td>
    </tr>
             <tr>
    	<td rowspan="3">UserBLService.getCurrentUserID</td>
        <td>语法</td>
        <td>public String getCurrentUserID();</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>无</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>得到当前登录用户ID</td>
    </tr>
              <tr>
    	<td rowspan="3">UserBLService.findUserByKeywords</td>
        <td>语法</td>
        <td>public ArrayList&lt;UserVO&gt; findUsersByKeywords(String keywords);</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>输入关键字</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>通过关键字模糊查找用户</td>
    </tr>
              <tr>
    	<td rowspan="3">UserInfo.getCurrentUserID</td>
        <td>语法</td>
        <td>public String getCurrentUserID();</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>无</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>得到当前登录用户ID</td>
    </tr>
               <tr>
    	<td rowspan="3">UserInfo.getCurrentUserNameByID</td>
        <td>语法</td>
        <td>public String getCurrentUserID();</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>得到当前登录用户ID</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>得到当前登录用户姓名</td>
    </tr>
             <tr>
    	<td rowspan="3">UserInfo.show</td>
        <td>语法</td>
        <td>public ArrayList&lt;UserVO&gt; show();</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>无</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>得到所有用户</td>
    </tr>
           <tr>
    	<td rowspan="3">UserInfo.findUserByID</td>
        <td>语法</td>
        <td>public UserVO findUserByID(String UserID);</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>输入的用户ID</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>通过用户ID精确查找用户</td>
    </tr>
           <tr>
    	<td rowspan="3">UserInfo.getAllSalesmen</td>
        <td>语法</td>
        <td>public ArrayList&lt;UserVO&gt; getAllSalesmen();</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>无</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>得到所有的进货销售人员</td>
    </tr>

    <tr>
    	<th colspan="3" align="center">需要的服务（需接口）</th>
    </tr>
    <tr>
    <th>服务名</th>
    <th colspan="2">服务</th>
    </tr>
    <tr>
    <td>UserDataService.login(String userID, String password);</td>
    <td colspan="2">得到用户登录结果</td>
    </tr>
    <tr>
    <td>UserDataService.add(UserPO po)</td>
    <td colspan="2">添加用户</td>
    </tr>
    <tr>
    <td>UserDataService.delete(String userID)</td>
    <td colspan="2">通过ID删除用户</td>
    </tr>
    <tr>
    <td>UserDataService.show()</td>
    <td colspan="2">得到所有用户</td>
    </tr>
    <tr>
    <td>UserDataService.update(UserPO po)</td>
    <td colspan="2">更新用户信息</td>
    </tr>
    <tr>
    <td>UserDataService.findUsersByKeyword(String keywords)</td>
    <td colspan="2">通过关键字模糊查找用户</td>
    </tr>
    <tr>
    <td>UserDataService.findUsersByID(String UserID)</td>
    <td colspan="2">通过用户ID模糊查找用户</td>
    </tr>
    <tr>
    <td>UserDataService.find(String UserID)</td>
    <td colspan="2">通过用户ID精确查找用户</td>
    </tr>
  </table>


* 表 5.3.2-12 goodsbl模块的接口规范
  <table>
  <tr>
  	<th colspan="3" align="center">提供的服务（供接口）</th>
  </tr>
  <tr>
    	<td rowspan="3">GoodsBLService.show</td>
        <td>语法</td>
        <td>public ArrayList&lt;GoodsVO&gt; show();</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>以库存管理人员身份登录</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>展示所有商品</td>
    </tr>
  <tr>
    	<td rowspan="3">GoodsBLService.find</td>
        <td>语法</td>
        <td>public ArrayList&lt;GoodsVO&gt; find(String keyword);</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>关键字输入合法</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>返回搜索结果</td>
    </tr>
  <tr>
    	<td rowspan="3">GoodsBLService.showDetails</td>
        <td>语法</td>
        <td>public GoodsVO showDetails(String ID);</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>商品ID输入合法</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>展示该商品详情</td>
    </tr>
  <tr>
    	<td rowspan="3">GoodsBLService.add</td>
        <td>语法</td>
        <td>public ResultMessage add(GoodsVO vo);</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>商品信息输入合法</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>添加新的商品，持久化更新涉及的对象的数据</td>
    </tr>
  <tr>
    	<td rowspan="3">GoodsBLService.delete</td>
        <td>语法</td>
        <td>public ResultMessage delete(String ID);</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>商品ID输入合法</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>删除商品，持久化更新涉及的对象的数据</td>
    </tr>
  <tr>
    	<td rowspan="3">GoodsBLService.update</td>
        <td>语法</td>
        <td>public ResultMessage update(GoodsVO vo);</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>商品信息输入合法</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>修改商品，持久化更新涉及的对象的数据</td>
    </tr>
  <tr>
    	<td rowspan="3">GoodsBLService.getNewID</td>
        <td>语法</td>
        <td>public String getNewID(String calssificationID);</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>输入的商品分类ID合法</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>返回新建的ID</td>
    </tr>
  <tr>
    	<td rowspan="3">GoodsInfo.getAllGoods</td>
        <td>语法</td>
        <td>public ArrayList&lt;GoodsVO&gt; getAllGoods();</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>无</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>返回所有商品的信息</td>
    </tr>
  <tr>
    	<td rowspan="3">GoodsInfo.getAllGoodsIdentity</td>
        <td>语法</td>
        <td>public ArrayList&lt;GoodsIdentityVO&gt; getAllGoodsIdentity();</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>无</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>返回所有商品的ID、名称和型号信息</td>
    </tr>
  <tr>
    	<td rowspan="3">GoodsInfo.getBuyingPriceByID</td>
        <td>语法</td>
        <td>public Double getBuyingPriceByID(String ID);</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>商品ID输入正确</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>返回该商品的进价</td>
    </tr>
  <tr>
    	<td rowspan="3">GoodsInfo.getRetailPriceByID</td>
        <td>语法</td>
        <td>public Double getRetailPriceByID(String ID);</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>商品ID输入正确</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>返回该商品的售价</td>
    </tr>
  <tr>
    	<td rowspan="3">GoodsInfo.getGoodsByID</td>
        <td>语法</td>
        <td>public GoodsPO getGoodsByID(String ID);</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>商品ID输入正确</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>返回该商品的信息</td>
    </tr>

    <tr>
    	<th colspan="3" align="center">需要的服务（需接口）</th>
    </tr>
    <tr>
    <th>服务名</th>
    <th colspan="2">服务</th>
    </tr>
    <tr>
    <td>GoodsDataService.show()</td>
    <td colspan="2">得到所有单一持久化对象</td>
    </tr>
    <tr>
    <td>GoodsDataService.find(String ID)</td>
    <td colspan="2">根据ID查找单一持久化对象</td>
    </tr>
    <tr>
    <td>GoodsDataService.add(GoodsPO po)</td>
    <td colspan="2">添加单一持久化对象</td>
    </tr>
    <tr>
    <td>GoodsDataService.delete(GoodsPO po)</td>
    <td colspan="2">删除单一持久化对象</td>
    </tr>
    <tr>
    <td>GoodsDataService.update(GoodsPO po)</td>
    <td colspan="2">修改单一持久化对象</td>
    </tr>
    <tr>
    <td>GoodsDataService.getNewID(String classificationID)</td>
    <td colspan="2">根据商品分类ID得到新建商品的ID</td>
    </tr>
    <tr>
    <td>GoodsDataService.advancedQuery(ArrayList&lt;Criterion&gt; criteria)</td>
    <td colspan="2">根据自定义查询条件查询商品持久化对象</td>
    </tr>
    <tr>
    <td>ClassificationInfo.getClassificationByName(String name)</td>
    <td colspan="2">根据商品分类名称查询商品分类持久化对象</td>
    </tr>
    <tr>
    <td>LogInfo.record(OperationType operationType, OperationObjectType operationObjectType, String details)</td>
    <td colspan="2">添加一条日志记录</td>
    </tr>
    <tr>
    <td>SalesInfo.getAllSalesOrder(String startDate,String endDate)</td>
    <td colspan="2">得到时间段内所有销售出货单</td>
    </tr>
    <tr>
    <td>SalesInfo.getAllSalesReturnOrder(String startDate,String endDate)</td>
    <td colspan="2">得到时间段内所有销售退货单</td>
    </tr>
    <tr>
    <td>PurchaseInfo.getPurchaseByDate(String startDate,String endDate)</td>
    <td colspan="2">得到时间段内所有进货单和进货退货单</td>
    </tr>
  </table>

* 表 5.3.2-13 classificationbl模块的接口规范
  <table>
  <tr>
  	<th colspan="3" align="center">提供的服务（供接口）</th>
  </tr>
  <tr>
    	<td rowspan="3">ClassificationBLService.show</td>
        <td>语法</td>
        <td>public ArrayList&lt;ClassificationVO&gt; show();</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>以库存管理人员身份登录</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>展示所有商品分类</td>
    </tr>
  <tr>
    	<td rowspan="3">ClassificationBLService.find</td>
        <td>语法</td>
        <td>public ArrayList&lt;ClassificationVO&gt; find(String keyword);</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>关键字输入合法</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>返回搜索结果</td>
    </tr>
  <tr>
    	<td rowspan="3">ClassificationBLService.showDetails</td>
        <td>语法</td>
        <td>public ClassificationVO showDetails(String ID);</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>ID输入合法</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>展示该商品分类详情</td>
    </tr>
  <tr>
    	<td rowspan="3">ClassificationBLService.add</td>
        <td>语法</td>
        <td>public ResultMessage add(ClassificationVO vo);</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>商品分类信息输入合法</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>添加新的商品分类，持久化更新涉及的对象的数据</td>
    </tr>
  <tr>
    	<td rowspan="3">ClassificationBLService.delete</td>
        <td>语法</td>
        <td>public ResultMessage delete(String ID);</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>商品分类名称输入合法</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>删除商品分类，持久化更新涉及的对象的数据</td>
    </tr>
  <tr>
    	<td rowspan="3">ClassificationBLService.update</td>
        <td>语法</td>
        <td>public ResultMessage update(ClassificationVO vo);</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>商品分类信息输入合法</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>修改商品分类，持久化更新涉及的对象的数据</td>
    </tr>
  <tr>
    	<td rowspan="3">ClassificationBLService.getNewID</td>
        <td>语法</td>
        <td>public String getNewID();</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>输入符合输入规则</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>返回新建的ID</td>
    </tr>
  <tr>
    	<td rowspan="3">ClassificationInfo.getAllClassification</td>
        <td>语法</td>
        <td>public HashMap&lt;String, String&gt; getAllClassification();</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>无</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>得到所有商品分类的信息</td>
    </tr>
  <tr>
    	<td rowspan="3">ClassificationInfo.getClassificationByName</td>
        <td>语法</td>
        <td>public ClassificationPO getClassificationByName(String name);</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>商品分类名称输入合法</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>返回该商品分类的信息</td>
    </tr>

    <tr>
    	<th colspan="3" align="center">需要的服务（需接口）</th>
    </tr>
    <tr>
    <th>服务名</th>
    <th colspan="2">服务</th>
    </tr>
    <tr>
    <td>ClassificationDataService.show()</td>
    <td colspan="2">得到所有单一持久化对象</td>
    </tr>
    <tr>
    <td>ClassificationDataService.findByID(int ID)</td>
    <td colspan="2">根据ID查找单一持久化对象</td>
    </tr>
    <tr>
    <td>ClassificationDataService.add(ClassificationPO po)</td>
    <td colspan="2">添加单一持久化对象</td>
    </tr>
    <tr>
    <td>ClassificationDataService.delete(ClassificationPO po)</td>
    <td colspan="2">删除单一持久化对象</td>
    </tr>
    <tr>
    <td>ClassificationDataService.update(ClassificationPO po)</td>
    <td colspan="2">修改单一持久化对象</td>
    </tr>
    <tr>
    <td>ClassificationDataService.getNewID()</td>
    <td colspan="2">得到要新建的商品分类的ID</td>
    </tr>
    <tr>
    <td>ClassificationDataService.findFuzzilyByName(String keyword)</td>
    <td colspan="2">根据名称模糊查找单一持久化对象</td>
    </tr>
    <tr>
    <td>ClassificationDataService.findFullyByName(String name)</td>
    <td colspan="2">根据名称精确查找单一持久化对象</td>
    </tr>
    <tr>
    <td>LogInfo.record(OperationType operationType, OperationObjectType operationObjectType, String details)</td>
    <td colspan="2">添加一条日志记录</td>
    </tr>
  </table>
  
  
* 表 5.3.2-14 formbl模块的接口规范

<table>
	<tr>
  	<th colspan="3" align="center">提供的服务（供接口）</th>
  </tr>
   <tr>
    	<td rowspan="3">Finance.getSalesDetails</td>
        <td>语法</td>
        <td>public ArrayList&lt;SalesDetailVO&gt; getSalesDetails(Date startDate，Date endDate，String goodName, String customerName, String salesmanName, String inventoryName);</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>符合输入规则</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>系统返回符合条件的销售明细表</td>
    </tr>
     <tr>
    	<td rowspan="3">Finance.getDocumentDetails</td>
        <td>语法</td>
        <td>public DocumentDetailsVO getDocumentDetails(Date startDate，Date endDate，String billType, String customerName, String salesmanName, String inventoryName);</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>符合输入规则</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>系统返回符合条件的经营历程表</td>
    </tr>
     <tr>
    	<td rowspan="3">Finance.getProfit</td>
        <td>语法</td>
        <td>public ProfitVO getProfit(Date startDate，Date endDate);</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>startDate和endDate符合输入规则</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>系统返回时间区间内的经营情况表</td>
    </tr>
     <tr>
    	<td rowspan="3">Finance.redCover</td>
        <td>语法</td>
        <td>public ResultMessage redCover(BillVO vo);</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>选中某张单据请求红冲</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>系统将指定单据红冲</td>
    </tr>
     <tr>
    	<td rowspan="3">Finance.redCopy</td>
        <td>语法</td>
        <td>public ResultMessage redCopy(BillVO vo);</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>选中某张单据请求红冲并复制</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>系统将指定单据红冲并复制</td>
    </tr>
         <tr>
    	<td rowspan="3">Finance.exportSalesDetails</td>
        <td>语法</td>
        <td>public ResultMessage exportSalesDetails(SalesDetailsVO vo);</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>已经查看销售明细表，需要导出</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>系统将销售明细表导出</td>
    </tr>
             <tr>
    	<td rowspan="3">Finance.exportDocumentDetails</td>
        <td>语法</td>
        <td>public ResultMessage exportDocumentDetails(DocumentDetailsVO vo);</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>已经查看经营历程表，需要导出</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>系统将经营历程表导出</td>
    </tr>
                 <tr>
    	<td rowspan="3">Finance.exportProfit</td>
        <td>语法</td>
        <td>public ResultMessage exportProfit(ProfitVO vo);</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>已经查看经营情况表，需要导出</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>系统将经营情况表导出</td>
    </tr>
</table>

## 5.4 数据层的分解
数据层主要给业务逻辑层提供数据访问服务，包括对持久化数据的增、删、改、查。

### 5.4.1 数据层模块的职责
数据层模块的职责如表 5.4.1-1所示。

* 表 5.4.1-1 数据层模块的职责

| 模块                        | 职责                                       |
| ------------------------- | ---------------------------------------- |
| GoodsDataService          | 提供商品的集体载入、保存、增、删、查、改服务                   |
| InventoryDataService      | 提供进货单、进货退货单、库存报溢（损）单的集体载入、保存、增、删、查、改服务，以及库存赠送单、库存报警单的集体载入、保存、查看服务 |
| ClassificationDataService | 提供商品分类的集体载入、保存、增、删、查、改服务                 |
| CustomerDataService       | 提供客户数据的集体载入、保存、增、删、查、改服务                 |
| SalesDataService          | 提供销售出货（退货）单的集体载入、保存、增、删、查、改服务            |
| AccountDataService        | 提供账户数据的集体载入、保存、增、删、查、改服务                 |
| FinanceDataService        | 提供收（付）款单、现金费用单的集体载入、保存、增、删、查、改服务，以及销售明细表、经营历程表、经营情况表的查看服务 |
| InitializationDataService | 提供期初建账数据的集体载入、保存、增加、查看服务                 |
| PromotionDataService      | 提供促销策略数据的集体载入、保存、增、删、查、改服务               |
| UserDataService           | 提供用户数据的集体载入、保存、增、删、查、改服务                 |

### 5.4.2 数据层模块的接口规范
* 表5.3.2-1 InventoryDataService模块的接口规范
  <table>
  <tr>
  	<th colspan="3" align="center">提供的服务（供接口）</th>
  </tr>
  <tr>
    	<td rowspan="3">InventoryDataService.show</td>
        <td>语法</td>
        <td>public ArrayList&lt;InventoryBillPO&gt; show() throws RemoteException;</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>无</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>返回所有库存报溢单和报损单的po对象</td>
    </tr>
  <tr>
    	<td rowspan="3">InventoryDataService.showInventory</td>
        <td>语法</td>
        <td>public ArrayList&lt;InventoryPO&gt; showInventory() throws RemoteException;</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>无</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>返回所有仓库的po对象</td>
    </tr>
  <tr>
    	<td rowspan="3">InventoryDataService.addInventroy</td>
        <td>语法</td>
        <td>public ResultMessage addInventroy(InventoryPO po) throws RemoteException;</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>同名仓库不存在</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>在数据库中增加一个仓库</td>
    </tr>
  <tr>
    	<td rowspan="3">InventoryDataService.addBill</td>
        <td>语法</td>
        <td>public ResultMessage addBill(InventoryBillPO po) throws RemoteException;</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>同样的po在数据中不存在</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>在数据库中增加一个po记录</td>
    </tr>
  <tr>
    	<td rowspan="3">InventoryDataService.deleteInventory</td>
        <td>语法</td>
        <td>public ResultMessage deleteInventory(InventoryPO po) throws RemoteException;</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>同名仓库已存在</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>删除该仓库</td>
    </tr>
   <tr>
    	<td rowspan="3">InventoryDataService.deleteBill</td>
        <td>语法</td>
        <td>public ResultMessage deleteBill(InventoryBillPO po) throws RemoteException;</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>数据库中有同一ID的po对象</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>删除该ID对应的po对象</td>
    </tr>
  <tr>
    	<td rowspan="3">InventoryDataService.updateInventory</td>
        <td>语法</td>
        <td>public ResultMessage updateInventory(InventoryPO po) throws RemoteException;</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>同名仓库已存在</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>修改该仓库</td>
    </tr>
   <tr>
    	<td rowspan="3">InventoryDataService.updateBill</td>
        <td>语法</td>
        <td>public ResultMessage updateBill(InventoryBillPO po) throws RemoteException;</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>数据库中有同一ID的po对象</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>修改该ID对应的po对象</td>
    </tr>
  <tr>
    	<td rowspan="3">InventoryDataService.advancedQuery</td>
        <td>语法</td>
        <td>public ArrayList&lt;InventoryBillPO&gt; advancedQuery(ArrayList&lt;Criterion&gt; criteria) throws RemoteException;</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>自定义查询条件输入合法</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>返回所有符合查询条件的po对象</td>
    </tr>
   <tr>
    	<td rowspan="3">InventoryDataService.findInventoryByName</td>
        <td>语法</td>
        <td>public InventoryPO findInventoryByName(String name) throws RemoteException;</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>数据库中有相同名称的po对象</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>返回该名称对应的po对象</td>
    </tr>
  </table>

* 表5.4.2-2 CustomerDataService

<table>
  <tr>
  	<th colspan="3" align="center">提供的服务（供接口）</th>
  </tr>
   <tr>
    	<td rowspan="3">CustomerDataService.getNewCustomerID</td>
        <td>语法</td>
        <td>public String getNewCustomerID() throws RemoteException;</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>无</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>得到新的客户ID</td>
    </tr>
  <tr>
    	<td rowspan="3">CustomerDataService.add</td>
        <td>语法</td>
        <td>public ResultMessage add(CustomerPO po) throws RemoteException</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>相同的客户PO在储存的数据中不存在</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>添加一条客户PO</td>
    </tr>
    <tr>
    	<td rowspan="3">CustomerDataService.delete</td>
        <td>语法</td>
        <td>public ResultMessage delete(CustomerPO po) throws RemoteException</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>需要删除的客户在储存的数据中已经存在</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>删除一条客户PO</td>
    </tr>
<tr>
    	<td rowspan="3">CustomerDataService.findByCustomerID</td>
        <td>语法</td>
        <td>public ArrayList &lt;CustomerPO&gt; findByCustomerID(String customerID) throws RemoteException</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>需要查找的客户PO在储存的数据中已经存在</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>返回响应的结果</td>
    </tr>
    <tr>
    	<td rowspan="3">CustomerDataService.findByKeywords</td>
        <td>语法</td>
        <td>public ArrayList &lt;CustomerPO&gt; findByKeywords(String keywords) throws RemoteException</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>需要查找的客户PO在储存的数据中已经存在</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>返回响应的结果</td>
    </tr>
   <tr>
    	<td rowspan="3">CustomerDataService.findCustomer</td>
        <td>语法</td>
        <td>public ArrayList &lt;CustomerPO&gt; findCustomer(String input) throws RemoteException</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>需要查找的客户PO在储存的数据中已经存在</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>返回响应的结果</td>
    </tr>
<tr>
    	<td rowspan="3">CustomerDataService.update</td>
        <td>语法</td>
        <td>public ResultMessage update(CustomerPO po) throws RemoteException</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>相同的客户PO在储存的数据中已经存在</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>修改一条客户PO</td>
    </tr>
<tr>
    	<td rowspan="3">CustomerDataService.show</td>
        <td>语法</td>
        <td>public ArrayList &lt;CustomerPO&gt; show() throws RemoteException</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>无</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>展示所有的客户PO</td>
    </tr>
<tr>
    	<td rowspan="3">CustomerDataService.init</td>
        <td>语法</td>
        <td>public void init() throws RemoteException</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>无</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>初始化持久化数据库</td>
    </tr>

  <tr>
    	<td rowspan="3">CustomerDataService.getCustomerData</td>
        <td>语法</td>
        <td>public CustomerPO getCustomerData(int ID) throws RemoteException</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>需要得到的客户PO在储存的数据中已经存在</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>得到一条客户PO</td>
    </tr>
</table>

* 表5.4.2-3 SalesDataService

<table>
  <tr>
  	<th colspan="3" align="center">提供的服务（供接口）</th>
  </tr>
   <tr>
    	<td rowspan="3">SalesDataService.getNewPurchaseID</td>
        <td>语法</td>
        <td>public String getNewPurchaseID() throws RemoteException;</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>无</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>得到新的进货单ID</td>
    </tr>
     <tr>
    	<td rowspan="3">SalesDataService.getNewReturnID</td>
        <td>语法</td>
        <td>public String getNewReturnID() throws RemoteException;</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>无</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>得到新的进货退货单ID</td>
    </tr>
    <tr>
    	<td rowspan="3">SalesDataService.getNewSalesID</td>
        <td>语法</td>
        <td>public String getNewSalesID() throws RemoteException;</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>无</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>得到新的销售单ID</td>
    </tr>
    <tr>
    	<td rowspan="3">SalesDataService.getNewSalesReturnID</td>
        <td>语法</td>
        <td>public String getNewSalesReturnID() throws RemoteException;</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>无</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>得到新的销售退货单ID</td>
    </tr>
  <tr>
    	<td rowspan="3">SalesDataService.findPurchaseByID</td>
        <td>语法</td>
        <td>public PurchasePO findPurchaseByID(String ID) throws RemoteException</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>同样ID的po在储存的数据中不存在</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>按ID进行查找返回响应的PurchasePO结果</td>
    </tr>
    <tr>
    	<td rowspan="3">SalesDataService.findPurchaseByState</td>
        <td>语法</td>
        <td>public ArrayList&lt;PurchasePO&gt; findPurchaseByState(BillState state) throws RemoteException</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>无</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>按state进行查找返回响应的PurchasePO结果</td>
    </tr>
    <tr>
    	<td rowspan="3">SalesDataService.findSalesByID</td>
        <td>语法</td>
        <td>public SalesPO findSalesByID(String ID) throws RemoteException</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>同样ID的po在储存的数据中不存在</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>按ID进行查找返回响应的SalesPO结果</td>
    </tr>
     <tr>
    	<td rowspan="3">SalesDataService.findSalesByState</td>
        <td>语法</td>
        <td>public ArrayList&lt;SalesPO&gt; findSalesByState(BillState state) throws RemoteException</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>无</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>按state进行查找返回响应的SalesPO结果</td>
    </tr>
    <tr>
    	<td rowspan="3">SalesDataService.addGoodsItem</td>
        <td>语法</td>
        <td>public ResultMessage addGoodsItem(GoodItemPO po) throws RemoteException</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>同样ID的po在储存的数据中不存在</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>在数据库中增加一个po记录</td>
    </tr>
    <tr>
    	<td rowspan="3">SalesDataService.addPurchase</td>
        <td>语法</td>
        <td>public ResultMessage addPurchase(PurchasePO po) throws RemoteException</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>同样ID的po在储存的数据中不存在</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>在数据库中增加一个po记录</td>
    </tr>
    <tr>
    	<td rowspan="3">SalesDataService.addSales</td>
        <td>语法</td>
        <td>public ResultMessage addSales(SalesPO po) throws RemoteException</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>同样ID的po在储存的数据中不存在</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>在数据库中增加一个po记录</td>
    </tr>
<tr>
    	<td rowspan="3">SalesDataService.updatePurchase</td>
        <td>语法</td>
        <td>public ResultMessage updatePurchase(PurchasePO po) throws RemoteException</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>在数据中存在同样ID的po</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>更新一个po</td>
    </tr>
    <tr>
    	<td rowspan="3">SalesDataService.updateSales</td>
        <td>语法</td>
        <td>public ResultMessage updateSales(SalesPO po) throws RemoteException</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>在数据中存在同样ID的po</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>更新一个po</td>
    </tr>
<tr>
    <td rowspan="3">SalesDataService.deletePurchase</td>
        <td>语法</td>
        <td>public ResultMessage deletePurchase(PurchasePO po) throws RemoteException</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>在数据库中存在同样ID的po</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>删除一个po</td>
    </tr>
    <tr>
    <td rowspan="3">SalesDataService.deleteSales</td>
        <td>语法</td>
        <td>public ResultMessage deleteSales(SalesPO po) throws RemoteException</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>在数据库中存在同样ID的po</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>删除一个po</td>
    </tr>
<tr>
    	<td rowspan="3">SalesDataService.init</td>
        <td>语法</td>
        <td>public void init() throws RemoteException</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>无</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>初始化持久化数据库</td>
    </tr>
  <tr>
    	<td rowspan="3">SalesDataService.showPurchase</td>
        <td>语法</td>
        <td>public ArrayList &lt;PurchasePO&gt; showPurchase() throws RemoteException</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>无</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>返回所有进货单</td>
    </tr>
    <tr>
    	<td rowspan="3">SalesDataService.showReturn</td>
        <td>语法</td>
        <td>public ArrayList &lt;PurchasePO&gt; showReturn() throws RemoteException</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>无</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>返回所有进货退货单</td>
    </tr>
  <tr>
    	<td rowspan="3">SalesDataService.showSales</td>
        <td>语法</td>
        <td>public ArrayList &lt;SalesPO&gt; showSales() throws RemoteException</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>无</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>返回所有销售单</td>
    </tr>
     <tr>
    	<td rowspan="3">SalesDataService.showSalesReturn</td>
        <td>语法</td>
        <td>public ArrayList &lt;SalesPO&gt; showSalesReturn() throws RemoteException</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>无</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>返回所有销售退货单</td>
    </tr>
</table>

* 表5.3.2-4 AccountDataService模块的接口规范
  <table>
  <tr>
    <th colspan="3" align="center">提供的服务（供接口）</th>
  </tr>
  <tr>
    <td rowspan="3">AccountDataService.add</td>
    <td>语法</td>
    <td>public ResultMessage add(AccountPO po) throws RemoteException;</td></tr>
  <tr>
    <td>前置条件</td>
    <td>同样的po在数据中不存在</td></tr>
  <tr>
    <td>后置条件</td>
    <td>在数据库中增加一个po记录</td>
  </tr>
  <tr>
    <td rowspan="3">AccountDataService.init</td>
    <td>语法</td>
    <td>public void init() throws RemoteException;</td></tr>
  <tr>
    <td>前置条件</td>
    <td>无</td></tr>
  <tr>
    <td>后置条件</td>
    <td>初始化持久化数据库</td>
  </tr>
  <tr>
    <td rowspan="3">AccountDataService.delete</td>
    <td>语法</td>
    <td>public void delete(AccountPO po) throws RemoteException;</td></tr>
  <tr>
    <td>前置条件</td>
    <td>在数据库中存在同样的PO</td></tr>
  <tr>
    <td>后置条件</td>
    <td>删除一个po</td>
  </tr>
  <tr>
    <td rowspan="3">AccountDataService.update</td>
    <td>语法</td>
    <td>public void update(AccountPO po) throws RemoteException;</td></tr>
  <tr>
    <td>前置条件</td>
    <td>在数据库中存在同样ID的PO</td></tr>
  <tr>
    <td>后置条件</td>
    <td>更新一个po</td>
  </tr>
  <tr>
    <td rowspan="3">AccountDataService.find</td>
    <td>语法</td>
    <td>public AccountPO find(String id) throws RemoteException;</td></tr>
  <tr>
    <td>前置条件</td>
    <td>无</td></tr>
  <tr>
    <td>后置条件</td>
    <td>按ID进行查找返回相应的AccountPO结果</td>
  </tr>
  <tr>
    <td rowspan="3">AccountDataService.show</td>
    <td>语法</td>
    <td>public ArrayList&lt;AccountPO&gt; show(String id) throws RemoteException;</td></tr>
  <tr>
    <td>前置条件</td>
    <td>无</td></tr>
  <tr>
    <td>后置条件</td>
    <td>返回所有的AccountPO结果</td>
  </tr>
  </table>
* 表5.3.2-5 FinanceDataService模块的接口规范
  <table>
  <tr>
    <th colspan="3" align="center">提供的服务（供接口）</th>
  </tr>
  <tr>
    <td rowspan="3">FinanceDataService.add</td>
    <td>语法</td>
    <td>public ResultMessage add(BillPO po) throws RemoteException;</td></tr>
  <tr>
    <td>前置条件</td>
    <td>同样的po在数据中不存在</td></tr>
  <tr>
    <td>后置条件</td>
    <td>在数据库中增加一个po记录</td>
  </tr>
  <tr>
    <td rowspan="3">FinanceDataService.init</td>
    <td>语法</td>
    <td>public void init() throws RemoteException;</td></tr>
  <tr>
    <td>前置条件</td>
    <td>无</td></tr>
  <tr>
    <td>后置条件</td>
    <td>初始化持久化数据库</td>
  </tr>
  <tr>
    <td rowspan="3">FinanceDataService.delete</td>
    <td>语法</td>
    <td>public void delete(BillPO po) throws RemoteException;</td></tr>
  <tr>
    <td>前置条件</td>
    <td>在数据库中存在同样的PO</td></tr>
  <tr>
    <td>后置条件</td>
    <td>删除一个po</td>
  </tr>
  <tr>
    <td rowspan="3">FinanceDataService.update</td>
    <td>语法</td>
    <td>public void update(BillPO po) throws RemoteException;</td></tr>
  <tr>
    <td>前置条件</td>
    <td>在数据库中存在同样ID的PO</td></tr>
  <tr>
    <td>后置条件</td>
    <td>更新一个po</td>
  </tr>
  <tr>
    <td rowspan="3">FinanceDataService.find</td>
    <td>语法</td>
    <td>public FinancePO find(String id) throws RemoteException;</td></tr>
  <tr>
    <td>前置条件</td>
    <td>无</td></tr>
  <tr>
    <td>后置条件</td>
    <td>按ID进行查找返回相应的BillPO结果</td>
  </tr>
  <tr>
    <td rowspan="3">FinanceDataService.show</td>
    <td>语法</td>
    <td>public ArrayList&lt;BillPO&gt; show(String id) throws RemoteException;</td></tr>
  <tr>
    <td>前置条件</td>
    <td>无</td></tr>
  <tr>
    <td>后置条件</td>
    <td>返回所有的BillPO结果</td>
  </tr>
  <tr>
    <td rowspan="3">FinanceDataService.getReceiptID</td>
    <td>语法</td>
    <td>public String getReceiptID() throws RemoteException;</td></tr>
  <tr>
    <td>前置条件</td>
    <td>无</td></tr>
  <tr>
    <td>后置条件</td>
    <td>返回新建的收款单编号</td>
  </tr>
  <tr>
    <td rowspan="3">FinanceDataService.getPaymentID</td>
    <td>语法</td>
    <td>public String getPaymentID() throws RemoteException;</td></tr>
  <tr>
    <td>前置条件</td>
    <td>无</td></tr>
  <tr>
    <td>后置条件</td>
    <td>返回新建的付款单编号</td>
  </tr>
  <tr>
    <td rowspan="3">FinanceDataService.getCashBillID</td>
    <td>语法</td>
    <td>public String getCashBillID() throws RemoteException;</td></tr>
  <tr>
    <td>前置条件</td>
    <td>无</td></tr>
  <tr>
    <td>后置条件</td>
    <td>返回新建的现金费用单编号</td>
  </tr>
  </table>
* 表5.3.2-6 InitAccountDataService模块的接口规范
  <table>
  <tr>
  	<th colspan="3" align="center">提供的服务（供接口）</th>
  </tr>
  <tr>
    	<td rowspan="3">InitAccountDataService.insert</td>
        <td>语法</td>
        <td>public ResultMessage insert(InitAccountPO po) throws RemoteException;</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>同样的po在数据中不存在</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>在数据库中增加一个po记录</td>
    </tr>
   <tr>
    	<td rowspan="3">InitAccountDataService.init</td>
        <td>语法</td>
        <td>public void init() throws RemoteException;</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>无</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>初始化持久化数据库</td>
    </tr>
  </table>
* 表5.3.2-7 InitializationDataService模块的接口规范
  <table>
  <tr>
  	<th colspan="3" align="center">提供的服务（供接口）</th>
  </tr>
  <tr>
    	<td rowspan="3">InitializationDataService.add</td>
        <td>语法</td>
        <td>public ResultMessage add(InitAccountPO po) throws RemoteException;</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>同样的po在数据中不存在</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>在数据库中增加一个po记录</td>
    </tr>
   <tr>
    	<td rowspan="3">InitializationDataService.init</td>
        <td>语法</td>
        <td>public void init() throws RemoteException;</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>无</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>初始化持久化数据库</td>
    </tr>
  </table>

* 表5.3.2-8 PromotionDataService模块的接口规范
  <table>
  <tr>
  	<th colspan="3" align="center">提供的服务（供接口）</th>
  </tr>
  <tr>
    	<td rowspan="3">PromotionDataService.findPC</td>
    	<td>语法</td>
    	<td>public PromotionCustomerPO findPC(String ID) throws RemoteException;</td></tr>
  <tr>
    	<td>前置条件</td>
    	<td>无</td></tr>
  <tr>
   		<td>后置条件</td>
    	<td>按促销策略ID进行查找返回相应的PromotionCustomerPO结果</td>
  </tr>
   <tr>
    	<td rowspan="3">PromotionDataService.findPCByName</td>
    	<td>语法</td>
    	<td>public PromotionCustomerPO findPCByName(String name) throws RemoteException;</td></tr>
  <tr>
    	<td>前置条件</td>
    	<td>无</td></tr>
  <tr>
   		<td>后置条件</td>
    	<td>按促销策略名字进行查找返回相应的PromotionCustomerPO结果</td>
  </tr>
   <tr>
    	<td rowspan="3">PromotionDataService.findPB</td>
    	<td>语法</td>
    	<td>public PromotionBargainPO findPB(String ID) throws RemoteException;</td></tr>
  <tr>
    	<td>前置条件</td>
    	<td>无</td></tr>
  <tr>
   		<td>后置条件</td>
    	<td>按促销策略ID进行查找返回相应的PromotionBargainPO结果</td>
  </tr>
  <tr>
    	<td rowspan="3">PromotionDataService.findPBByName</td>
        <td>语法</td>
        <td>public PromotionBargainPO findPBByName(String name) throws RemoteException;</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>无</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>按促销策略名字进行查找返回相应的PromotionBargainPO结果</td>
    </tr>
    <tr>
    	<td rowspan="3">PromotionDataService.findPT</td>
        <td>语法</td>
        <td>public PromotionTotalPO findPT(String ID) throws RemoteException;</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>无</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>按促销策略ID进行查找返回相应的PromotionTotalPO结果</td>
    </tr>
    <tr>
    	<td rowspan="3">PromotionDataService.findPTByName</td>
        <td>语法</td>
        <td>public PromotionTotalPO findPTByName(String name) throws RemoteException;</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>无</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>按促销策略名字进行查找返回相应的PromotionTotalPO结果</td>
    </tr>
    <tr>
    	<td rowspan="3">PromotionDataService.addPC</td>
        <td>语法</td>
        <td>public ResultMessage addPC(PromotionCustomerPO po) throws RemoteException;</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>无</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>添加会员促销策略</td>
    </tr>
    <tr>
    	<td rowspan="3">PromotionDataService.addPB</td>
        <td>语法</td>
        <td>public ResultMessage addPB(PromotionBargainPO po) throws RemoteException;</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>无</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>添加特价包</td>
    </tr>
      <tr>
    	<td rowspan="3">PromotionDataService.addPT</td>
        <td>语法</td>
        <td>public ResultMessage addPT(PromotionTotalPO po) throws RemoteException;</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>无</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>添加总价促销策略</td>
    </tr>
      <tr>
    	<td rowspan="3">PromotionDataService.updatePC</td>
        <td>语法</td>
        <td>public ResultMessage updatePC(PromotionCustomerPO po) throws RemoteException;</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>无</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>修改会员促销策略</td>
    </tr>
      <tr>
    	<td rowspan="3">PromotionDataService.updatePB</td>
        <td>语法</td>
        <td>public ResultMessage updatePB(PromotionBargainPO po) throws RemoteException;</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>无</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>修改特价包</td>
    </tr>
      <tr>
    	<td rowspan="3">PromotionDataService.updatePT</td>
        <td>语法</td>
        <td>public ResultMessage updatePT(PromotionTotalPO po) throws RemoteException;</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>无</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>修改总价促销策略</td>
    </tr>
      <tr>
    	<td rowspan="3">PromotionDataService.showPB</td>
        <td>语法</td>
        <td>public ArrayList&lt;PromotionBargainPO&gt; showPB() throws RemoteException;</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>无</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>展示所有的特价包</td>
    </tr>
        <tr>
    	<td rowspan="3">PromotionDataService.showPC</td>
        <td>语法</td>
        <td>public ArrayList&lt;PromotionCustomerPO&gt; showPC() throws RemoteException;</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>无</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>展示所有的会员促销策略</td>
    </tr>
        <tr>
    	<td rowspan="3">PromotionDataService.showPT</td>
        <td>语法</td>
        <td>public ArrayList&lt;PromotionTotalPO&gt; showPT() throws RemoteException;</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>无</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>展示所有的总价促销策略</td>
    </tr>
      <tr>
    	<td rowspan="3">PromotionDataService.getNewPromotionBargainID</td>
        <td>语法</td>
        <td>public String getNewPromotionBargainID() throws RemoteException;</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>无</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>得到新的特价包编号</td>
    </tr>
       <tr>
    	<td rowspan="3">PromotionDataService.getNewPromotionCustomerID</td>
        <td>语法</td>
        <td>public String getNewPromotionCustomerID() throws RemoteException;</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>无</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>得到新的会员促销编号</td>
    </tr>
       <tr>
    	<td rowspan="3">PromotionDataService.getNewPromotionTotalID</td>
        <td>语法</td>
        <td>public String getNewPromotionTotalID() throws RemoteException;</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>无</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>得到新的总价促销编号</td>
    </tr>
       <tr>
    	<td rowspan="3">PromotionDataService.addGoodsItem</td>
        <td>语法</td>
        <td>public ResultMessage addGoodsItem(GoodsItemPO po) throws RemoteException;</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>无</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>增加商品清单</td>
    </tr>
  </table>

* 表5.3.2-9 UserDataService模块的接口规范
  <table>
  <tr>
  	<th colspan="3" align="center">提供的服务（供接口）</th>
  </tr>
  <tr>
    	<td rowspan="3">UserDataService.find</td>
        <td>语法</td>
        <td>public UserPO find(String userID) throws RemoteException;</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>无</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>按用户ID进行查找返回相应的UserPO结果</td>
    </tr>
    <tr>
    	<td rowspan="3">UserDataService.add</td>
        <td>语法</td>
        <td>public ResultMessage add(UserPO po) throws RemoteException;</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>无</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>添加用户</td>
    </tr>
    <tr>
    	<td rowspan="3">UserDataService.delete</td>
        <td>语法</td>
        <td>public ResultMessage delete(UserPO po) throws RemoteException;</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>在数据库中存在相同的po</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>根据用户ID删除用户</td>
    </tr>
    <tr>
    	<td rowspan="3">UserDataService.update</td>
        <td>语法</td>
        <td>public ResultMessage update(UserPO po) throws RemoteException;</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>在数据库中存在相同的po</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>更新用户信息</td>
    </tr>
    <tr>
    	<td rowspan="3">UserDataService.init</td>
        <td>语法</td>
        <td>public void init() throws RemoteException;</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>无</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>初始化持久化数据库</td>
    </tr>
        <tr>
    	<td rowspan="3">UserDataService.login</td>
        <td>语法</td>
        <td>public ResultMessage login(String userID, String password) throws RemoteException;</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>无</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>验证用户登录信息</td>
    </tr>
        <tr>
    	<td rowspan="3">UserDataService.show</td>
        <td>语法</td>
        <td>public ArrayList&lt;UserPO&gt; show() throws RemoteException;</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>无</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>得到所有用户信息</td>
    </tr>
        <tr>
    	<td rowspan="3">UserDataService.findUsersByKeyword</td>
        <td>语法</td>
        <td>public ArrayList&lt;UserPO&gt; findUsersByKeyword(String keyword) throws RemoteException;</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>无</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>通过关键字模糊查找用户</td>
    </tr>
        <tr>
    	<td rowspan="3">UserDataService.findUsersByID</td>
        <td>语法</td>
        <td>public ArrayList&lt;UserPO&gt; findUsersByID(String userID) throws RemoteException;</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>无</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>通过用户ID模糊查找用户</td>
    </tr>
  </table>

* 表5.3.2-10 GoodsDataService模块的接口规范
  <table>
  <tr>
  	<th colspan="3" align="center">提供的服务（供接口）</th>
  </tr>
  <tr>
    	<td rowspan="3">GoodsDataService.show</td>
        <td>语法</td>
        <td>public ArrayList&lt;GoodsPO&gt; show() throws RemoteException;</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>无</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>返回所有商品的po对象</td>
    </tr>
  <tr>
    	<td rowspan="3">GoodsDataService.find</td>
        <td>语法</td>
        <td>public GoodsPO find(String ID) throws RemoteException;</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>ID输入合法</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>返回该ID对应的po对象</td>
    </tr>
  <tr>
    	<td rowspan="3">GoodsDataService.add</td>
        <td>语法</td>
        <td>public ResultMessage add(GoodsPO po) throws RemoteException;</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>同样的po对象在数据中不存在</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>在数据库中增加一个po记录</td>
    </tr>
   <tr>
    	<td rowspan="3">GoodsDataService.delete</td>
        <td>语法</td>
        <td>public ResultMessage delete(GoodsPO po) throws RemoteException;</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>数据库中有同一ID的po对象</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>删除该ID对应的po对象</td>
    </tr>
   <tr>
    	<td rowspan="3">GoodsDataService.update</td>
        <td>语法</td>
        <td>public ResultMessage update(GoodsPO po) throws RemoteException;</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>数据库中有同一ID的po对象</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>修改该ID对应的po对象</td>
    </tr>
   <tr>
    	<td rowspan="3">GoodsDataService.getNewID</td>
        <td>语法</td>
        <td>public String getNewID(String classificationID) throws RemoteException;</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>数据库中有同一ID的商品分类的po对象</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>返回要新建的商品的ID</td>
    </tr>
   <tr>
    	<td rowspan="3">GoodsDataService.advancedQuery</td>
        <td>语法</td>
        <td>public ArrayList&lt;GoodsPO&gt; advancedQuery(ArrayList&lt;Criterion&gt; criteria) throws RemoteException;</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>自定义查询条件输入合法</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>返回所有符合查询条件的po对象</td>
    </tr>
  </table>
* 表5.3.2-11 ClassificationDataService模块的接口规范
  <table>
  <tr>
  	<th colspan="3" align="center">提供的服务（供接口）</th>
  </tr>
  <tr>
    	<td rowspan="3">ClassificationDataService.show</td>
        <td>语法</td>
        <td>public ArrayList&lt;ClassificationPO&gt; show() throws RemoteException;</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>无</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>返回所有商品分类的po对象</td>
    </tr>
  <tr>
    	<td rowspan="3">ClassificationDataService.find</td>
        <td>语法</td>
        <td>public ClassificationPO find(int ID) throws RemoteException;</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>ID输入合法</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>返回该ID对应的po对象</td>
    </tr>
  <tr>
    	<td rowspan="3">ClassificationDataService.add</td>
        <td>语法</td>
        <td>public ResultMessage add(ClassificationPO po) throws RemoteException;</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>同样的po对象在数据中不存在</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>在数据库中增加一个po记录</td>
    </tr>
   <tr>
    	<td rowspan="3">ClassificationDataService.delete</td>
        <td>语法</td>
        <td>public ResultMessage delete(ClassificationPO po) throws RemoteException;</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>数据库中有同一ID的po对象</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>删除该ID对应的po对象</td>
    </tr>
   <tr>
    	<td rowspan="3">ClassificationDataService.update</td>
        <td>语法</td>
        <td>public ResultMessage update(ClassificationPO po) throws RemoteException;</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>数据库中有同一ID的po对象</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>修改该ID对应的po对象</td>
    </tr>
  <tr>
    	<td rowspan="3">ClassificationDataService.getNewID</td>
        <td>语法</td>
        <td>public String getNewID() throws RemoteException;</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>无</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>返回要新建的po对象的ID</td>
    </tr>
   <tr>
    	<td rowspan="3">ClassificationDataService.findFuzzilyByName</td>
        <td>语法</td>
        <td>public ArrayList&lt;ClassificationPO&gt; findFuzzilyByName(String keyword) throws RemoteException;</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>无</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>返回所有符合查询条件的po对象</td>
    </tr>
   <tr>
    	<td rowspan="3">ClassificationDataService.findFullyByName</td>
        <td>语法</td>
        <td>public ArrayList&lt;ClassificationPO&gt; findFullyByName(String name) throws RemoteException;</td></tr>
    <tr>
    	<td>前置条件</td>
        <td>无</td></tr>
    <tr>
   		<td>后置条件</td>
        <td>返回所有符合查询条件的po对象</td>
    </tr>
  </table>
  
  

# 6. 信息视角

## 6.1 数据持久化对象

系统的PO类就是对应的相关的实体类，如表 6.1-1所示

* 表 6.1-1 数据持久化对象


|           类名            |                  包含的属性                   |
| :---------------------: | :--------------------------------------: |
|         **PO**          |         **PO类的父类，存在PO会使用的共同方法**          |
|  **classificationPO**   |         **编号、名称、父分类、子分类、包含的商品**          |
|       **goodsPO**       | **编号、名称、型号、各个仓库的数量、进价、零售价、最近进价、最近零售价、所属分类、警戒数量** |
|     **inventoryPO**     |            **编号、名称、各个商品的数量**             |
|   **inventoryBillPO**   | **编号、单据类型、单据状态、时间、商品名称、商品型号、商品所属仓库、操作员、商品溢出/缺损数量** |
|     **customerPO**      | **编号、分类、级别、姓名、电话、地址、邮编、电子邮箱、应收额度、应收、应付、默认业务员** |
|     **purchasePO**      | **时间、单据类型、单据状态、单据编号、供应商、仓库、操作员、入库商品列表、备注、总额合计** |
|       **salesPO**       | **时间、单据类型、单据状态、单据编号、客户、业务员、操作员、仓库、出库商品清单、折让前总额、折让、使用代金券金额、折让后总额、备注** |
|      **accountPO**      |              **账户名称、金额、时间**              |
|     **goodsItemPO**     |        **商品编号、名称、型号、数量、单价、金额、备注**        |
|    **accountBillPO**    |   **时间，单据状态，单据编号，单据类型，客户，操作员，转账列表，总额**   |
|  **accountBillItemPo**  |             **银行账户，转账金额，备注**             |
|     **cashBillPO**      | **时间，单据状态，单据编号，单据类型，操作员，银行账户，条目清单，总额。**  |
|   **cashBillItemPO**    |              **条目名，金额，备注**               |
|    **initAccountPO**    | **初始化时间，商品信息（商品分类，某一商品名称，类别，型号，进价，售价，最近进价，最近售价），客户信息（客户分类，编号、分类、级别、姓名、电话、地址、邮编、电子邮箱、应收额度、应收、应付、默认业务员某一客户名称，联系方式，应收应付），银行账户信息（名称，余额）** |
|       **userPO**        |        **员工姓名，员工职位，员工权限，员工账号，密码**        |
| **promotionCustomerPO** | **促销策略ID，促销策略名，赠品单，客户等级，代金券，开始时间，结束时间，折让价格** |
| **promotionBargainPO**  | **促销策略ID，促销策略名，特价包商品，特价包原总价，特价包定价，开始时间，结束时间** |
|  **promotionTotalPO**   | **促销策略ID，促销策略名，总额设置，赠品单，代金券，开始时间，结束时间**  |



## 6.2 数据库表

数据库中包含Classification表、Goods表、InventoryBill表、Customer表、Purchase表、Sales表、Account表、GoodsItem表、AccountBill表、AccountBillItem表、CashBill表、CashBillItem表、InitAccount表、User表、PromotionCustomer表、PromotionBargain表、PromotionTotal表