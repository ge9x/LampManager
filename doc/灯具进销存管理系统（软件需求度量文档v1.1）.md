# 灯具进销存管理系统（软件需求度量文档v1.0）

## 学院

南京大学软件学院

## 成员

乐盛捷，胡本霖，仲于芯，朱雨欣

## 目录

[TOC]

## 更新历史

| 修改人员 |    日期     |        变更原因         | 版本号  |
| :--: | :-------: | :-----------------: | :--: |
| 全体成员 | 2017/9/27 |        最初草稿         | v1.0 |
| 仲于芯  | 2017/9/30 | 修改3.11和3.16中查询功能点数量 | v1.1 |
|      |           |                     |      |

## 1.1复杂度调整因子

* 0（不重要）到5（非常重要）

| 编号   | 描述                       | MSCS估计值 |
| ---- | ------------------------ | ------- |
| 1    | 系统需要备份和恢复吗？              | 3       |
| 2    | 需要专门的网络数据通信吗？            | 0       |
| 3    | 存在分布式处理功能吗               | 5       |
| 4    | 性能关键吗？                   | 2       |
| 5    | 系统将运行在一个现有的、使用困难的操作环境吗？  | 2       |
| 6    | 系统需要在线数据项吗？              | 4       |
| 7    | 在线数据项目需要对多个屏幕或操作建立输入事务吗？ | 5       |
| 8    | 逻辑文件在线更新吗？               | 4       |
| 9    | 输入、输出、文件或查询是复杂的吗？        | 2       |
| 10   | 内部处理是复杂的吗？               | 3       |
| 11   | 所设计的代码要求可复用吗？            | 3       |
| 12   | 设计要求包括移交与安装吗？            | 3       |
| 13   | 系统需要设计为多个安装以适应不同组织吗？     | 0       |
| 14   | 系统设计要求易于修改和易于使用吗？        | 4       |

**本系统的复杂度调整因子合计为40**

## 1.2 加权因子

本系统属于中等系统，加权因子如下：

* 输入数量：4
* 输出数量：5
* 查询数量：4
* 逻辑文件数量：10
* 对外接口数量：7

## 2.总体度量统计

* 用例的数量：19
* 平均每个用例的场景数量：7
* 平均用例行数：445 / 19 = 23.42 行
* 软件需求数量：25
* 非功能需求数量：6
* 功能需求数量：19
* 总输入数量：52
* 总输出数量：177
* 总查询数量：167
* 总逻辑文件数量：66
* 总对外接口数量：4
* 功能点测度总数：2467
* 总FP：2467×(0.65+0.01×40) = 2590.35

## 3.需求用例度量

#### 3.1 管理商品分类

| 编号                              | 需求描述                                     |
| ------------------------------- | ---------------------------------------- |
| Classification.Input            | 系统允许库存管理人员在进行商品分类管理操作（查询）时进行键盘输入以及鼠标点击操作（输出） |
| Classification.Show             | 系统允许库存管理人员进行商品分类的查看，系统默认自动在表中显示所有商品分类（按照中文字典顺序）（输出）（逻辑文件） |
| Classification.Show.Search      | 当库存管理人员欲进行特定商品分类的查询时可以选择：输入时间段或名称（输入），并点击“查询”按钮进行查询（查询），而后在表格中列出符合条件的商品分类（输出）（逻辑文件） |
| Classification.Show.Search.Null | 当没有符合条件的商品分类时，系统提示不存在该商品分类（输出）           |
| Classification.Show.Details     | 当库存管理人员欲进行特定商品分类的详细内容查看或修改商品分类内容时，选择某一商品分类，并点击“修改或查看选定商品分类”按钮进行查看或修改（查询） |
| Classification.Show.Return      | 库存管理人员点击“返回”按钮（查询），返回上一级界面（输出）           |
| Classification.Parent           | 库存管理人员点击其父类的名称查看其父类的详细信息（查询），进入其父类的修改或查看商品分类界面 |
| Classification.Sub              | 库存管理人员点击其子类的名称查看其子类的详细信息（查询），进入其子类的修改或查看商品分类界面（输出） |
| Classification.New              | 系统允许库存管理人员在商品分类列表中增加新的商品分类（输入），并自动生成新商品分类的编号 |
| Classification.New.Cancel       | 库存管理人员请求取消对商品分类的增加操作时（查询），系统关闭增加商品分类（输出） |
| Classification.New.Confirm      | 在库存管理人员进行商品分类添加工作（查询）时,若输入数据符合格式，系统添加商品分类至数据库并显示添加成功（输出）（逻辑文件） |
| Classification.Invalid          | 在增加或修改商品分类，输入数据不符合商品分类信息格式时，系统提示商品分类信息格式错误（输出） |
| Classification.Duplicate        | 在库存管理人员进行商品分类的增加或修改工作时，填写了已存在的商品名称并请求确认，系统提示已存在的商品分类名称（输出） |
| Classification.Delete           | 库存管理人员选择某一商品分类，并点击“删除所选商品分类”按钮（查询），若此商品分类下无商品且无子分类，提示删除成功（输出）并进行删除工作，更新商品分类信息（逻辑文件） |
| Classification.Delete.NotEmpty  | 库存管理人员删除某一商品分类时，若此商品分类下有子分类或商品，提示该商品分类不为空的叶分类，无法删除（输出） |
| Classification.Modify           | 系统允许库存管理人员在商品分类列表中选择商品分类进行修改（输入），更新商品分类信息（输出） |
| Classification.Modify.Cancel    | 库存管理人员请求取消对商品分类的修改操作（查询）时，系统关闭修改商品分类（输出） |
| Classification.Modify.Confirm   | 库存管理人员确认对商品分类的操作（查询）时，系统更新数据（逻辑文件），关闭修改商品分类（输出） |
| Classification.ID               | 商品分类编号根据商品分类的父分类以及添加次序自动生成，在新增商品分类的时候自动添加 |
| Classification.Update           | 系统更新商品分类信息（逻辑文件）                         |

| 功能点     | 数量                                   |
| ------- | ------------------------------------ |
| 输入      | 3                                    |
| 输出      | 15                                   |
| 查询      | 10                                   |
| 内部逻辑文件  | 6                                    |
| 对外接口文件  | 0                                    |
| 功能点测度总数 | 3×4 + 15×5 + 10×4 + 6×10 + 0×7 = 187 |
| FP      | 187×(0.65 + 0.01×40) = 196.35        |

#### 3.2 管理商品

| 编号                           | 需求描述                                     |
| ---------------------------- | ---------------------------------------- |
| Goods.Initialize             | 系统允许库存管理人员在进行商品管理操作时进行键盘输入以及鼠标点击操作（查询）（输出） |
| Goods.Show                   | 系统允许库存管理人员进行商品的查看，系统默认自动在表中显示所有商品（按照中文字典顺序）（输出）（逻辑文件） |
| Goods.Show.Search            | 当库存管理人员欲进行特定商品的查询时可以选择：输入时间段、名称或关键字、商品编号、所属仓库或所属分类（输入），并点击“查询”按钮进行查询（查询）（前面所述条件可选择任意组合进行模糊查找），而后在表格中列出所有符合条件的商品（输出）（逻辑文件） |
| Goods.Show.Search.Details    | 当库存管理人员欲进行特定商品的详细内容查看或修改商品内容时，选择某一商品，并点击“修改或查看选定商品”按钮进行查看或修改（查询）（输出） |
| Goods.Show.Search.Null       | 在当前的查询条件下没有符合条件的商品时，系统显示没有符合条件的商品（输出）    |
| Goods.Show.Return            | 库存管理人员请求返回上一级界面（查询）                      |
| Goods.Details                | 在仓库管理人员请求查看商品详细信息后（查询），系统允许库存管理人员进行商品详细信息的查看。系统将显示所选商品的名称、编号、型号、库存数量、进价、零售价、最近进价、最近零售价、所属分类、所在仓库、警戒数量、一个包含此商品最近进出货的列表以及一个包含此商品最近销售情况的列表（输出）（逻辑文件）。另外，只有库存管理人员有修改商品内容的权限，其他人员在查看商品内容时将不会拥有修改内容的权限。 |
| Goods.Details.Classification | 库存管理人员在商品的详细信息页面点击所属分类，请求查看该分类下的所有商品（查询） |
| Goods.Details.Records        | 库存管理人员选择与此商品有关的进出货单或者销售单，请求查看所选单据的详细信息（查询） |
| Goods.Details.Return         | 库存管理人员请求返回上一级界面（查询）                      |
| Goods.Details.Modify         | 库存管理人员可以选择重新输入商品的名称、型号、零售价等进行商品信息的修改（输入），填写完成后确认修改（查询），系统将提示修改成功（输出），更新商品信息 |
| Goods.Details.Modify.Invalid | 在库存管理人员进行商品修改工作时，输入了不合规范的商品数据（输入）并请求修改商品（查询），系统提示输入的商品数据不合规范（输出） |
| Goods.Details.Modify.Cancel  | 库存管理人员请求取消对商品的修改操作时，系统关闭修改商品（查询）         |
| Goods.Details.Modify.Confirm | 在库存管理人员进行商品修改工作时，完成商品数据输入（输入）并确认修改商品（查询），若信息填写无误，系统显示修改成功，更新商品信息（输出） |
| Goods.New                    | 系统允许库存管理人员在商品列表中增加新的商品，并自动生成新商品的编号（输出）   |
| Goods.New.Invalid            | 在库存管理人员进行商品添加工作时，输入了不合规范的商品数据（输入）并请求增加商品（查询），系统提示输入的商品数据不合规范（输出） |
| Goods.New.Duplicate          | 在库存管理人员进行商品添加工作时，输入了已存在的商品名称（输入）并请求增加商品（查询），系统提示已存在该商品（输出） |
| Goods.New.Cancel             | 库存管理人员请求取消对商品的增加操作时，系统关闭增加商品（查询）         |
| Goods.New.Confirm            | 在库存管理人员进行商品添加工作时，完成商品数据输入（输入）并确认增加商品（查询），若信息填写无误，系统显示添加成功，更新商品信息（输出） |
| Goods.Delete                 | 系统允许库存管理人员在商品列表中选择商品进行移除（查询）             |
| Goods.Delete.OnSale          | 库存管理人员请求删除某一商品时（查询），若此商品处于销售状态（即处于销售单中、且未完成相关销售单的交易工作），系统提示商品仍处于活跃状态，无法删除（输出） |
| Goods.ID                     | 商品编号根据商品所在分类以及添加次序自动生成，在新建商品的时候自动添加      |
| Goods.Update                 | 系统更新商品信息（逻辑文件）                           |

| 功能点     | 数量                                   |
| ------- | ------------------------------------ |
| 输入      | 7                                    |
| 输出      | 13                                   |
| 查询      | 18                                   |
| 内部逻辑文件  | 4                                    |
| 对外接口文件  | 0                                    |
| 功能点测度总数 | 7×4 + 13×5 + 18×4 + 4×10 + 0×7 = 205 |
| FP      | 205×(0.65 + 0.01×40) = 215.25        |

#### 3.3 查看库存

| 编号                         | 需求描述                                     |
| -------------------------- | ---------------------------------------- |
| Inventory. Initialize      | 系统允许库存管理人员在进行库存查看操作时进行键盘输入以及鼠标点击操作（查询）（输出） |
| Inventory.Show             | 系统允许库存管理人员进行库存的查看，系统默认自动在表中显示所有库存（按照文件保存顺序）（输出）（逻辑文件） |
| Inventory.Show.Search      | 当库存管理人员欲进行特定库存的查询时可以选择：输入时间段、仓库、名称或关键字进行查询（前面所述条件可选择组合进行模糊查找）（查询），而后在表格中列出符合条件的库存情况（输出）（逻辑文件） |
| Inventory.Show.Search.Null | 在输入的查询条件下没有库存情况时，系统提示该时间段下仓库里没有库存情况（输出）  |
| Inventory.Show.Details     | 当库存管理人员欲进行特定库存的详细内容查看或修改库存内容时，选择某一商品进行查看或修改（查询） |
| Inventory.Show.Return      | 库存管理人员请求返回上一级界面（查询）                      |
| Inventory.Check            | 库存管理人员选择仓库，设定一个时间段，查看此时间段内此仓库的出/入库数量/金额，销售/进货的数量/金额（查询），并显示库存数量的合计（输出）。 |
| Inventory.Check.Confirm    | 在库存管理人员进行商品查看时，完成查询条件输入（输入）并请求查看（查询），若查询条件输入无误，系统显示此条件下的出/入库数量/金额，销售/进货的数量/金额，并显示库存数量的合计（输出）。 |

| 功能点     | 数量                                |
| ------- | --------------------------------- |
| 输入      | 1                                 |
| 输出      | 6                                 |
| 查询      | 6                                 |
| 内部逻辑文件  | 2                                 |
| 对外接口文件  | 0                                 |
| 功能点测度总数 | 1×4 + 6×5 + 6×4 + 2×10 + 0×7 = 78 |
| FP      | 78×(0.65 + 0.01×40) = 81.9        |

#### 3.4 盘点库存

| 编号                       | 需求描述                                     |
| ------------------------ | ---------------------------------------- |
| Stocktaking.Initialize   | 系统允许库存管理人员在进行库存盘点操作时进行键盘输入以及鼠标点击操作（查询）（输出） |
| Stocktaking.Show         | 系统要展示当天的库存快照，包括当天的各种商品的名称，型号，所属仓库、库存数量，库存均价，批次，批号，出厂日期，并且显示行号（输出）（逻辑文件） |
| Stocktaking.Show.Details | 当库存管理人员欲进行特定库存的详细内容查看或修改库存内容时，选择某一商品进行查看或修改（查询） |
| Stocktaking.Show.Output  | 库存管理人员请求导出今日库存盘点至Excel表格，系统将今日的库存盘点导出至Excel表格。（对外接口） |
| Stocktaking.Show.Return  | 仓库管理人员请求返回上一级界面（查询）                      |

| 功能点     | 数量                                |
| ------- | --------------------------------- |
| 输入      | 0                                 |
| 输出      | 2                                 |
| 查询      | 3                                 |
| 内部逻辑文件  | 1                                 |
| 对外接口文件  | 1                                 |
| 功能点测度总数 | 0×4 + 2×5 + 3×4 + 1×10 + 1×7 = 39 |
| FP      | 39×(0.65 + 0.01×40) = 40.95       |

#### 3.5 同步库存

| 编号                       | 需求描述                                     |
| ------------------------ | ---------------------------------------- |
| Synchronize.Initialize   | 系统允许库存管理人员在进行库存盘点操作时进行键盘输入以及鼠标点击操作（查询）（输出） |
| Synchronize.Show         | 系统允许库存管理人员查看历史上的单据的查看，系统默认自动在表中显示所有报溢报损单据（按照文件保存顺序）（输出）（逻辑文件） |
| Synchronize.Show.Search  | 当库存管理人员欲进行特定单据的查询时可以选择：输入时间段、单据编号、商品名称或仓库名称（输入）进行查询（查询）（前面所述条件可选择任意组合进行模糊查找），而后在表格中列出所有符合条件的单据（输出）（逻辑文件） |
| Synchronize.Show.Details | 库存管理人员选定某一单据请求查看（查询），而后显示单据详细内容（输出）      |
| Synchronize.Show.Return  | 库存管理人员在历史单据查看界面请求返回单据管理界面（查询）            |
| Synchronize.New          | 系统允许库存管理人员同步库存（查询）（输出）                   |
| Synchronize.Cancel       | 库存管理人员请求取消同步库存，系统关闭同步库存（查询）              |
| Synchronize.Invalid      | 在输入不合规范的单据数据时（输入），系统提示单据数据输入错误（查询）       |
| Synchronize.Confirm      | 系统应该允许库存管理人员确认制定库存报溢/报损单结束（查询）           |
| Synchronize.Update       | 系统更新库存报溢/报损单列表（逻辑文件）                     |

| 功能点     | 数量                                |
| ------- | --------------------------------- |
| 输入      | 2                                 |
| 输出      | 5                                 |
| 查询      | 8                                 |
| 内部逻辑文件  | 3                                 |
| 对外接口文件  | 0                                 |
| 功能点测度总数 | 2×4 + 5×5 + 8×4 + 3×10 + 0×7 = 95 |
| FP      | 95×(0.65 + 0.01×40) = 99.75       |

#### 3.6 管理客户


| 编号                    | 需求描述                                     |
| --------------------- | ---------------------------------------- |
| Salesman.Input        | 系统允许进货销售人员登录界面（输出：工作人员登录界面）              |
| Customer.Info         | 在系统的客户管理中，客户属性包括编号、分类（进货商、销售商）、级别（五级，一级普通用户，五级VIP客户）、姓名、电话、地址、邮编、电子邮箱、应收额度、应收、应付、默认业务员（输出） |
| Customer.Add          | 系统允许进货销售人员添加需要添加（查询，输入）的客户属性（输出：客户添加界面），参见Customer.Info |
| Customer.Delete       | 系统允许进货销售人员从系统中删去需要废除的客户信息（查询，输出：客户删除界面）,参见Customer.Info |
| Customer.Modify.Error | 当进货销售人员想要修改客户属性中的应收应付，系统提示应收应付不可修改，并返回上一界面（输出，逻辑文件） |
| Customer.Modify.Root  | 系统判断操作者是否具有最高权限（查询）。若有，可修改应收额度（输入）；若无最高权限，系统提示应收额度仅最高权限可以修改，并返回上一界面（输出，逻辑文件） |
| Customer.Seek         | 当进货销售人员想要选择查询客户时（查询），可以通过输入关键字、客户编号等进行模糊查找（输入），并点击“查询”按钮进行查找，然后出现所有符合条件的客户（查询，输出，逻辑文件） |
| Customer.Seek.Null    | 在当前查询条件下没有符合条件的客户（查询），系统显示没有符合条件的客户（输出，逻辑文件） |
| Customer.Finish       | 系统应该允许进货销售人员选择结束管理客户的操作（输出，查询）           |

| 功能点     | 数量                        |
| ------- | ------------------------- |
| 输入      | 3                         |
| 输出      | 9                         |
| 查询      | 6                         |
| 内部逻辑文件  | 4                         |
| 对外接口文件  | 0                         |
| 功能点测量总数 | 3×4+9×5+6×4+4×10+0×7=121  |
| FP      | 121×（0.65+0.01×40）=127.05 |


#### 3.7 制定进货单和退货单




| 编号                                | 需求描述                                     |
| --------------------------------- | ---------------------------------------- |
| PurchaseOrder.Start               | 系统允许进货销售人员请求新建一个进货单（查询），显示空白单据（输出：进货单）   |
| PurchaseOrder.Input               | 系统应该允许用户使用键盘和鼠标输入（输出），系统允许进货销售人员录入单据编号、供应商、仓库、操作员、入库商品列表、备注、总额合计，其中入库商品列表中的数量、备注都为手动输入（输入，输出） |
| PurchaseOrder.Overflow            | 若一天的进货单数量超过99999条，系统提示进货单超出数量无法生成，并返回上一界面（逻辑文件，输出） |
| PurchaseOrder.FormatError         | 若进货销售人员输入的单据编号格式错误（输入），系统提示单据编号格式错误并要求重新输入（逻辑文件，输出） |
| PurchaseOrder.ComInterface.Select | 系统允许进货销售人员从商品选择界面选择入库商品列表中的名称（查询）。用鼠标点击该商品名，则入库商品列表中添加进该商品的名称（查询，输出） |
| PurchaseOrder.Complete            | 若进货单信息填充完整，系统生成进货单（输出）；若信息填充不完整，系统提示需要填完整信息（输出），并提示还需要填写的信息（逻辑文件） |
| ReturnOrder.Start                 | 系统允许进货销售人员请求新建一个退货单（查询），系统显示空白单据（输出）     |
| ReturnOrder.Input                 | 系统应该允许用户用键盘和鼠标输入，系统允许进货销售人员录入单据编号、供应商、仓库、操作员、出库商品列表、备注、总额合计，其中出库商品列表中的数量、备注都为手动输入（输入，输出） |
| ReturnOrder.Overflow              | 若一天的退货单数量超过99999条，系统提示货单超出数量无法生成，并返回上一界面（查询，逻辑文件，输出） |
| ReturnOrder.ComInterface.Select   | 系统允许进货销售人员从商品选择界面选择出库商品列表中的名称（查询）。用鼠标点击 该商品名，则出库商品列表添加入该商品名（输出） |
| ReturnOrder.Complete              | 若退货单信息填充完整，系统生成退货单（输出）；若信息填充不完整，系统提示需要填完整信息，并提示还需要填写的商品名（逻辑文件，输出） |

| 功能点     | 数量                        |
| ------- | ------------------------- |
| 输入      | 4                         |
| 输出      | 12                        |
| 查询      | 5                         |
| 内部逻辑文件  | 4                         |
| 对外接口文件  | 0                         |
| 功能点测量总数 | 4×4+12×5+5×4+4×10+0×7=136 |
| FP      | 136×（0.65+0.01×40）=142.8  |

#### 3.8 制定销售出货单和销售退货单



| 编号                                   | 需求描述                                     |
| ------------------------------------ | ---------------------------------------- |
| SalesOrder.Start                     | 系统允许进货销售人员新建一个销售出货单（查询），显示空白单据（输出）       |
| SalesOrder.Input                     | 系统允许用户使用键盘和鼠标输入，系统允许进货销售人员录入单据编号、客户单据编号、客户、业务员、操作员、仓库、出货商品清单、折让前总额、折让、使用代金券金额、折让后总额、备注，其中出货商品清单中商品的数量、单价（可修改）、商品备注是手工输入的（输入，输出） |
| SalesOrder.Overflow                  | 若一天的销售出货单数量超过99999条（查询），系统提示销售出货单超出数量无法生成，并返回上一界面（逻辑文件，输出） |
| SalesOrder.FormatError               | 若进货销售人员输入的单据编号格式错误（输入），系统提示单据编号格式错误并要求重新输入（逻辑文件，输出） |
| SalesOrder.ComInterface.Select       | 系统允许进货销售人员从商品选择界面选择出库商品列表中的名称（查询）。用鼠标点击该商品名，则出库商品清单中出现该商品名（输出） |
| SalesOrder.Complete                  | 若销售出货单信息填充完整（输入），系统生成销售出货单（输出）；若信息填充不完整，系统提示需要填完整信息（输出），并提示还需要填写的信息（逻辑文件） |
| SalesReturnOrder.Start               | 系统允许进货销售人员新建一个销售退货单（查询）                  |
| SalesReturnOrder.Input               | 系统应该允许用户使用键盘和鼠标输入，系统允许进货销售人员录入单据编号、客户单据编号、客户、业务员、操作员、仓库、入货商品清单、折让前总额、折让、使用代金券金额、折让后总额、备注，其中入货商品清单中商品的数量、单价（可修改）、商品备注是手工输入的（输入，输出） |
| SalesReturnOrder.Overflow            | 若一天的销售退货单数量超过99999条（查询），系统提示销售退货单超出数量无法生成，并返回上一界面（输出，逻辑文件） |
| SalesReturnOrder.ComInterface.Select | 系统允许进货销售人员从商品选择界面（输出）选择入库商品列表中的名称（查询）。用鼠标点击该商品名，则入库商品清单中出现该商品名（输出） |
| SalesReturnOrder.Complete            | 若销售退货单信息填充完整（输入），系统生成销售退货单（输出）；若信息填充不完整，系统提示需要填完整信息（输出），并提示还需要填写的商品信息（逻辑文件） |

| 功能点     | 数量                        |
| ------- | ------------------------- |
| 输入      | 5                         |
| 输出      | 13                        |
| 查询      | 6                         |
| 内部逻辑文件  | 5                         |
| 对外接口文件  | 0                         |
| 功能点测量总数 | 5×4+13×5+6×4+5×10+0×7=159 |
| FP      | 159×（0.65+0.01×40）=166.95 |

#### 3.9 管理账户





| 编号                      | 需求描述                                     |
| ----------------------- | ---------------------------------------- |
| Salesman.Login          | 系统允许财务人员请求登录界面（输出：工作人员登录界面）              |
| Account.Add             | 系统允许财务人员将需要添加的账户属性添加进系统，参见Account.Info（输入） |
| Account.Add.Complete    | 用户点击“添加”按钮，界面显示添加成功（查询）                  |
| Account.Add.Fail        | 用户点击“添加”按钮（查询），但新添的用户属性不完整，界面显示需要填完整信息，并显示添加失败（输出，逻辑文件） |
| Account.Delete          | 系统允许财务人员从系统中删除需要废除的账户信息,参加Account.Info（查询） |
| Account.Delete.Complete | 用户点击“删除”按钮（查询），界面显示删除成功（输出），并显示已删除后的账户信息 |
| Account.Modify          | 用户选择“修改”按钮（查询），并进入修改界面（输出）               |
| Account.Modify.Error    | 若财务人员要修改账户余额（查询），系统提示账户余额不可修改（输出），并返回上一界面（逻辑文件） |
| Account.Modify.Complete | 用户在确定需要修改的信息后（输入），点击“确定修改”按钮（查询），界面显示修改后的客户信息（输出） |
| Account.Seek.Root       | 系统判断用户是否具有最高权限，若用户具有最高权限，则可以查看账户名称和余额（输出：账户查看界面）；若用户不具有最高权限，则系统提示只能具有最高权限可以查看（输出），并返回上一界面（逻辑文件） |
| Account.Info            | 账户指的是此家公司的银行账户，账户属性指的是账户名称和金额            |

| 功能点     | 数量                       |
| ------- | ------------------------ |
| 输入      | 2                        |
| 输出      | 8                        |
| 查询      | 7                        |
| 内部逻辑文件  | 3                        |
| 对外接口文件  | 0                        |
| 功能点测量数量 | 2×4+8×5+7×4+3×10+0×7=106 |
| FP      | 106×（0.65+0.01×40）=111.3 |

#### 3.10-1 制定收款单


| 编号                            | 需求描述                                     |
| :---------------------------- | :--------------------------------------- |
| Receipt.Add                   | 系统允许用户发起新建收款单请求（查询）                      |
| Receipt.Add.Start             | 在用户发起新建收款单请求时，系统要给出收款单信息要求填写（输出）         |
| Receipt.Add.Valid             | 在用户填写信息完整（输入）并提交时（查询），系统要提示添加成功（输出），显示单据审批状态（输出） |
| Receipt.Add.Invalid           | 在用户填写信息不完整（输入）却提交时（查询），系统要提示用户补全信息（输出）   |
| Receipt.Add.End               | 系统要允许用户结束新建收款单的请求（查询），系统返回上一界面（输出）       |
| Receipt.Add.Cancel            | 在用户取消新建收款单时（查询），系统要提示是否保存为草稿（输出）         |
| Receipt.Add.Cancel.Save       | 在用户选择保存时（查询），系统要保存草稿收款单（逻辑文件）,参见Receipt.State.Draft |
| Receipt.Add.Cancel.NotSave    | 在用户选择不保存时（查询），系统结束新建任务（输出）               |
| Receipt.Modify                | 系统要允许用户发起编辑草稿收款单的请求（查询）                  |
| Receipt.Modify.Start          | 在用户选择一张草稿收款单时（查询），系统要给出草稿收款单要求填写（输出）     |
| Receipt.Modify.Valid          | 参见Receipt.Add.Valid                      |
| Receipt.Modify.Invalid        | 参见Receipt.Add.Invalid                    |
| Receipt.Modify.End            | 系统要允许用户结束编辑草稿收款单的请求（查询）                  |
| Receipt.Update                | 系统更新数据                                   |
| Receipt.Update.Receipt        | 系统更新收款单数据（逻辑文件）                          |
| Receipt.State.Draft           | 系统要允许用户保存草稿单据（查询）                        |
| Receipt.State.Submit          | 系统要允许用户提交单据（查询）                          |
| Receipt.State.Approve         | 在总经理审批通过后，系统要更改单据状态为通过（输出）               |
| Receipt.Update.Client.Payable | 在总经理审批通过后，系统要更新客户应付数据（逻辑文件）              |
| Receipt.Update.Account        | 在总经理审批通过后，系统要更新银行账户数据（逻辑文件）              |

| 功能点     | 数量                        |
| ------- | :------------------------ |
| 输入      | 2                         |
| 输出      | 8                         |
| 查询      | 12                        |
| 内部逻辑文件  | 4                         |
| 对外接口文件  | 0                         |
| 功能点测度总数 | 2×4+8×5+12×4+4×10+0×7=136 |
| FP      | 136×(0.65+0.01×40)=142.8  |

#### 3.10-2 制定付款单

| 编号                               | 需求描述                                     |
| :------------------------------- | :--------------------------------------- |
| Payment.Add                      | 系统允许用户发起新建付款单请求（查询）                      |
| Payment.Add.Start                | 在用户发起新建付款单请求时，系统要给出付款单信息要求填写（输出）         |
| Payment.Add.Valid                | 在用户填写信息完整（输入）并提交时（查询），系统要提示添加成功（输出），显示单据审批状态（输出） |
| Payment.Add.Invalid              | 在用户填写信息不完整（输入）却提交（查询）时，系统要提示用户补全信息（输出）   |
| Payment.Add.End                  | 系统要允许用户结束新建付款单的请求（查询）                    |
| Payment.Add.Cancel               | 在用户取消新建付款单时（查询），系统要提示是否保存为草稿（输出）         |
| Payment.Add.Cancel.Save          | 在用户选择保存时（查询），系统要保存草稿付款单（逻辑文件）            |
| Payment.Add.Cancel.NotSave       | 在用户选择不保存时（查询），系统结束新建任务（输出）               |
| Payment.Modify                   | 系统要允许用户发起编辑草稿付款单的请求（查询）                  |
| Payment.Modify.Start             | 在用户选择一张草稿付款单时（查询），系统要给出草稿付款单要求填写（输出）     |
| Payment.Modify.Valid             | 参见Receipt.Add.Valid                      |
| Payment.Modify.Invalid           | 参见Receipt.Add.Invalid                    |
| Payment.Modify.End               | 系统要允许用户结束编辑草稿付款单的请求（查询）                  |
| Payment.Update                   | 系统更新数据                                   |
| Payment.Update.Payment           | 系统更新付款单数据（逻辑文件）                          |
| Payment.State.Draft              | 系统要允许用户保存草稿单据（查询）                        |
| Payment.State.Submit             | 系统要允许用户提交单据（查询）                          |
| Payment.State.Approve            | 在总经理审批通过后，系统要更改单据状态为通过（查询）               |
| Payment.Update.Client.Receivable | 在总经理审批通过后，系统要更新客户应收数据（逻辑文件）              |
| Payment.Update.Account           | 在总经理审批通过后，系统要更新银行账户数据（逻辑文件）              |

| 功能点     | 数量                        |
| ------- | :------------------------ |
| 输入      | 2                         |
| 输出      | 8                         |
| 查询      | 12                        |
| 内部逻辑文件  | 4                         |
| 对外接口文件  | 0                         |
| 功能点测度总数 | 2×4+8×5+12×4+4×10+0×7=136 |
| FP      | 136×(0.65+0.01×40)=142.8  |


#### 3.10-3 制定现金费用单

#### 3.11 期初建账
| 编号                        | 需求描述                                 |
| ------------------------- | ------------------------------------ |
| InitialBill.Add           | 系统允许财务人员发起期初建账请求（查询）                 |
| InitialBill.Add.Save      | 在用户发起期初建账请求时（查询），系统存储当前帐中全部信息（逻辑文件）  |
| InitialBill.Add.Save.Fail | 在用户发起期初建账请求时（查询），系统存储旧账信息失败          |
| InitialBill.Add.Start     | 在信息保存完毕后，系统给出期初建账所需信息要求填写（输出）        |
| InitialBill.Add.Valid     | 在财务人员填写信息完整并提交时（输入，查询），系统要提示添加成功（输出） |
| InitialBill.Add.Invalid   | 在财务人员填写信息不完整时（输入），系统要提示财务人员补全信息（输出）  |
| InitialBill.Add.Cancel    | 在财务人员取消新建账任务时（查询），系统结束期初建账任务（输出）     |
| InitialBill.End           | 系统应该允许财务人员结束期初建账任务（输出）               |
| InitialBill.End.Update    | 系统更新当前帐的信息（逻辑文件）                     |
| InitialBill.End.Save      | 系统单独存储期初信息（逻辑文件），同时将此信息作为系统的启动初始状态   |
| InitialBill.End.Close     | 在财务人员确定期初建账任务完成时（查询），系统关闭期初建账任务（输出）  |

| 功能点     | 数量                      |
| ------- | ----------------------- |
| 输入      | 2                       |
| 输出      | 6                       |
| 查询      | 6                       |
| 内部逻辑文件  | 3                       |
| 对外接口文件  | 0                       |
| 功能点测量总数 | 2×4+6×5+5×4+3×10+0×7=88 |
| FP      | 88×（0.65+0.01×40）=92.4  |

#### 3.12 查看销售明细表

| 编号                                  | 需求描述                                     |
| :---------------------------------- | :--------------------------------------- |
| SalesDetails.Input                  | 系统应该允许用户使用键盘和鼠标输入（输入）                    |
| SalesDetails.Input.Date             | 系统应该允许用户输入查询的开始日期和结束日期（输入）               |
| SalesDetails.Input.List             | 在用户输入起止日期后，系统要展示销售出货单据列表。参见SalesDetails.List（输出） |
| SalesDetails.Input.Cancel           | 在用户输入取消命令时（查询），系统关闭当前查询窗口，返回用户首页（输出）     |
| SalesDetails.Input.Invalid          | 在用户输入非法标识符时（输入），系统提示无效（输出）               |
| SalesDetails.List                   | 系统要展示满足时间区间和筛选条件的所有商品销售出货单据列表（输出，逻辑文件）   |
| SalesDetails.List.Filter            | 系统允许用户在查看时筛选（查询）                         |
| SalesDetails.List.Filter.Cancel     | 在用户取消筛选条件时（查询），系统要将此条件从总筛选条件中删除，并显示符合剩余条件的销售出货单据记录，参见SalesDetails.List（输出） |
| SalesDetails.List.Filter.GoodName   | 用户选择商品名称进行筛选时（查询），系统要将此条件加入总筛选条件，并显示符合所有条件的销售出货单据记录，参见SalesDetails.List（输出） |
| SalesDetails.List.Filter.Client     | 用户选择客户进行筛选时（查询），系统要将此条件加入总筛选条件，并显示符合所有条件的销售出货单据记录，参见SalesDetails.List（输出） |
| SalesDetails.List.Filter.Salesman   | 用户选择业务员进行筛选时（查询），系统要将此条件加入总筛选条件，并显示符合所有条件的销售出货单据记录，参见SalesDetails.List（输出） |
| SalesDetails.List.Filter.StockHouse | 用户选择仓库进行筛选时（查询），系统要将此条件加入总筛选条件，并显示符合所有条件的销售出货单据记录，参见SalesDetails.List（输出） |
| SalesDetails.Export                 | 系统要能够导出销售明细表excel文件(对外接口)                |

| 功能点     | 数量                       |
| ------- | :----------------------- |
| 输入      | 3                        |
| 输出      | 9                        |
| 查询      | 7                        |
| 内部逻辑文件  | 1                        |
| 对外接口文件  | 1                        |
| 功能点测度总数 | 3×4+9×5+7×4+1×10+1×7=102 |
| FP      | 102×(0.65+0.01×40)=107.1 |
#### 3.13 查看经营历程表

| 编号                                       | 需求描述                                     |
| :--------------------------------------- | :--------------------------------------- |
| DocumentsDetails.Input                   | 系统应该允许用户使用键盘和鼠标输入（输入）                    |
| DocumentsDetails.Input.Date              | 系统应该允许用户输入查询的开始日期和结束日期（输入）               |
| DocumentsDetails.Input.List              | 在用户输入起止日期后（查询），系统要展示所有单据列表。参见DocumentsDetails.List（输出） |
| DocumentsDetails.Input.Cancel            | 在用户输入取消命令时（查询），系统关闭当前查询窗口，返回用户首页（输出）     |
| DocumentsDetails.Input.Invalid           | 在用户输入非法标识符时，系统提示无效（输出）                   |
| DocumentsDetails.List                    | 系统要展示满足时间区间和筛选条件的所有单据列表（输出，逻辑文件）         |
| DocumentsDetails.List.Filter             | 系统允许用户在查看时筛选（查询）                         |
| DocumentsDetails.List.Filter.Cancel      | 在用户取消筛选条件时（查询），系统要将此条件从总筛选条件中删除，并显示符合剩余条件的单据记录，参见DocumentsDetails.List（输出） |
| DocumentsDetails.List.Filter.DocumentsType | 用户选择商品名称进行筛选时（查询），系统要将此条件加入总筛选条件，并显示符合所有条件的单据记录，参见DocumentsDetails.List（输出） |
| DocumentsDetails.List.Filter.Client      | 用户选择客户进行筛选时（查询），系统要将此条件加入总筛选条件，并显示符合所有条件的销售出货单据记录，参见DocumentsDetails.List（输出） |
| DocumentsDetails.List.Filter.Salesman    | 用户选择业务员进行筛选时（查询），系统要将此条件加入总筛选条件，并显示符合所有条件的销售出货单据记录，参见DocumentsDetails.List（输出） |
| DocumentsDetails.List.Filter.StockHouse  | 用户选择仓库进行筛选时（查询），系统要将此条件加入总筛选条件，并显示符合所有条件的销售出货单据记录，参见DocumentsDetails.List（输出） |
| DocumentsDetails.Export                  | 系统要能够导出销售明细表excel文件（对外接口）                |
| DocumentsDetails.Select                  | 当用户选中一张单据时（查询），系统要展示该单据的所有信息（输出）         |
| DocumentsDetails.Select.RedCover         | 系统要允许用户红冲选中单据（查询）                        |
| DocumentsDetails.Select.RedCover.Valid   | 当财务人员请求红冲单据时，系统将该单据数值取负后生成新的单据并入账（逻辑文件）  |
| DocumentsDetails.Select.RedCover.Invalid | 当总经理请求红冲单据时（查询），系统拒绝请求，并提示权限不足（输出）       |
| DocumentsDetails.Select.RedCoverAndCopy  | 系统要允许用户红冲并复制选中单据（查询）                     |
| DocumentsDetails.Select.RedCoverAndCopy.Valid | 当财务人员请求红冲并复制单据时，系统将该单据数值取负后生成新的单据并入账（逻辑文件），再给出原单据的草稿（输出） |
| DocumentsDetails.Select.RedCoverAndCopy.Invalid | 当总经理请求红冲并复制单据时（查询），系统拒绝请求，并提示权限不足（输出）    |
| DocumentsDetails.Select.End              | 系统允许用户结束查看单据（查询）                         |
| DocumentsDetails.Update                  | 系统更新重要数据（逻辑文件）                           |

| 功能点     | 数量                         |
| ------- | :------------------------- |
| 输入      | 2                          |
| 输出      | 13                         |
| 查询      | 13                         |
| 内部逻辑文件  | 4                          |
| 对外接口文件  | 1                          |
| 功能点测度总数 | 2×4+13×5+13×4+4×10+1×7=172 |
| FP      | 136×(0.65+0.01×40)=180.6   |

#### 3.14 查看经营情况表

| 编号                        | 需求描述                                     |
| :------------------------ | :--------------------------------------- |
| Profit.Input              | 系统应该允许用户使用键盘和鼠标输入（输入）                    |
| Profit.Input.Date         | 系统应该允许用户输入查询的开始日期和结束日期（输入）               |
| Profit.Input.List         | 在用户输入起止日期后，系统要展示收支状况和利润。参见Profit.Scan（输出） |
| SalesDetails.Input.Cancel | 在用户输入取消命令时（查询），系统关闭当前查询窗口，返回用户首页（输出）     |
| Profit.Input.Invalid      | 在用户输入非法标识符时，系统提示无效（输出）                   |
| Profit.Scan               | 系统要展示该时间区间内的收入支出和利润，收入包括销售收入、商品类收入（商品报溢收入、成本调价收入、进货退货差价、代金券与实际收款差额收入） 、折让后总收入，折让金额），支出包括销售成本、商品类支出（商品报损、商品赠出）、总支出（输出，逻辑文件） |
| Profit.Scan.End           | 系统要允许用户结束查看经营情况表（查询）                     |
| Profit.Export             | 系统要能够导出经营情况表excel文件（对外接口）                |

| 功能点     | 数量                      |
| ------- | :---------------------- |
| 输入      | 2                       |
| 输出      | 4                       |
| 查询      | 2                       |
| 内部逻辑文件  | 1                       |
| 对外接口文件  | 1                       |
| 功能点测度总数 | 2×4+4×5+2×4+1×10+1×7=53 |
| FP      | 53×(0.65+0.01×40)=55.65 |

#### 3.15 审批单据
| 编号                             | 需求描述                                     |
| ------------------------------ | ---------------------------------------- |
| Examine.Scan                   | 系统应该响应总经理审批单据的请求（查询，输出）                  |
| Examine.Scan.List              | 在总经理发起审批单据请求时（查询），系统显示待审批单据列表（输出）        |
| Examine.Scan.Specific          | 在总经理选择一项未审批单据时（查询），系统显示选中单据的详细内容（输出）     |
| Examine.Scan.Specific.Close    | 当总经理取消查看该项单据时（查询），系统返回上一状态（输出）           |
| Examine.Scan.Select            | 当总经理勾选通过审批单据时（查询），系统显示该几项单据勾选状态（输出）      |
| Examine.Scan.Select.Cancel     | 当总经理取消勾选的单据时（查询），系统取消该几项单据的选择状态（输出）      |
| Examine.Scan.Approve           | 当总经理确认选择时（查询），系统显示“审批成功”（输出）             |
| Examine.Scan.Cancel            | 当总经理取消审批单据任务时（查询），系统结束审批单据任务（输出）         |
| Examine.End                    | 系统应该允许总经理结束审批单据任务（查询，输出）                 |
| Examine.End.Update             | 在总经理要求结束审批单据任务时（查询），系统更新数据，参见Examine.Update（逻辑文件） |
| Examine.End.Send               | 在总经理要求结束审批单据任务时（查询），系统向提交单据的相关人员发送消息（输出） |
| Examine.End.Close              | 在总经理确认审批单据任务完成时（查询），系统关闭审批单据任务（输出）       |
| Examine.Update                 | 系统更新重要数据（逻辑文件），整个更新过程组成一个事务，要么全部更新，要么全部不更新 |
| Examine.Updata.Date            | 系统更新审批时间（逻辑文件）                           |
| Examine.Updata.State           | 系统更新勾选单据状态为“审批后状态”（逻辑文件）                 |
| Examine.History                | 系统应该相应总经理查看历史单据的请求（查询，输出）                |
| Examine.History.List           | 当总经理提出查看历史单据请求时（查询），系统应该依照时间先后顺序（从最近至较早）显示单据列表（输出） |
| Examine.History.Specific       | 当总经理选择一项历史审批单据时（查询），系统应该显示单据详细内容以及审批结果（输出） |
| Examine.History.Specific.Close | 当总经理取消查看该项历史单据时（查询），系统返回上一状态（输出）         |
| Examine.History.List.Close     | 当总经理取消查看历史审批单据时（查询），系统返回上一状态（输出）         |

| 功能点     | 数量                         |
| ------- | -------------------------- |
| 输入      | 0                          |
| 输出      | 16                         |
| 查询      | 17                         |
| 内部逻辑文件  | 4                          |
| 对外接口文件  | 0                          |
| 功能点测量总数 | 0×4+16×5+17×4+4×10+0×7=188 |
| FP      | 188×（0.65+0.01×40）=197.4   |

#### 3.16 制定促销策略
| 编号                              | 需求描述                                     |
| ------------------------------- | ---------------------------------------- |
| Promotion.New                   | 系统应该响应总经理制定促销策略的请求（查询，输出）                |
| Promotion.New.Select            | 当总经理选择新建促销策略类型时（查询），系统显示该类型促销策略需填内容列表（输出） |
| Promotion.New.Confirm           | 系统应该允许总经理确认（查询）促销策略内容填写完全（输入）            |
| Promotion.New.Confirm.Invalid   | 当新建策略的填写内容没有全部通过检查时（输入），系统提示有促销策略数据不完整或不正确（输出） |
| Promotion.New.Confirm.Valid     | 当新建策略的填写内容全部都通过检查时（输入），系统显示“设置成功”（输出），并更新数据（逻辑文件） |
| Promotion.Del                   | 当总经理请求删除已有的促销策略时（查询），系统在促销策略列表中移除指定的促销策略（输出） |
| Promotion.Del.Cancel            | 当总经理取消删除策略时（查询），系统返回上一状态                 |
| Promotion.Edit                  | 系统应该允许总经理编辑一个已有的促销策略（查询，输出）              |
| Promotion.Cancel                | 当总经理请求取消促销策略定制时（查询），系统应该结束定制促销策略任务（输出）   |
| Promotion.Valid                 | 系统应该验证每个促销策略的数据完整性和一致性                   |
| Promotion.Valid.StartDate       | 在促销策略开始日期为空时（输入），系统提示开始日期不正确，验证不通过（输出）   |
| Promotion.Valid.EndDate         | 在促销策略的结束日期为空或者结束日期早于等于当天或者结束日期早于开始日期时（输入），系统提示结束日期不正确（输出），验证不通过 |
| Promotion.Valid. GoodsGift      | 在针对用户或总价中的商品赠送策略中，促销商品标识或赠品标识不在商品目录中时（输入），系统提示促销商品标识或赠品标识不正确（输出），验证不通过 |
| Promotion.Valid.GoodsDiscount   | 在针对用户的价格折让策略中，促销商品标识不在商品目录中或者折让价格为空或者折让价格<=0或者折让价格>=价格时（输入），系统提示商品标识或者特价不正确（输出），验证不通过 |
| Promotion.Valid. AmountDiscount | 在特价包策略中，特价包价格为空或者特价包价格<=0或者特价包价格大于商品原价总和时（输入），系统提示特价包价格错误（输出），验证不通过 |
| Promotion.Valid. Redundancy     | 在促销策略存在重复时（查询），系统提示存在重复（输出），验证不通过        |
| Promotion.Update                | 系统更新重要数据（逻辑文件），整个更新过程组成一个事务，要么全部更新，要么全部不更新 |
| Promotion.Update.User           | 系统更新会员促销策略（逻辑文件）                         |
| Promotion.Update.Pack           | 系统更新特价包策略（逻辑文件）                          |
| Promotion.Update.AmountDiscount | 系统更新总价促销策略（逻辑文件）                         |
| Promotion.End                   | 系统应该允许总经理结束制定促销策略任务（查询，输出）               |
| Promotion.End.Close             | 在总经理确认促销策略制定任务完成时（查询），系统关闭该任务（输出）        |

| 功能点     | 数量                        |
| ------- | ------------------------- |
| 输入      | 8                         |
| 输出      | 15                        |
| 查询      | 10                        |
| 内部逻辑文件  | 4                         |
| 对外接口文件  | 0                         |
| 功能点测量总数 | 8×4+15×5+9×4+4×10+0×7=183 |
| FP      | 183×（0.65+0.01×40）=192.15 |

#### 3.17 管理用户账户和权限
| 编号                  | 需求描述                                     |
| ------------------- | ---------------------------------------- |
| User.New            | 在管理员请求增加用户时（查询），系统显示所需填写信息列表（输出）         |
| User.New.Confirm    | 在管理员确认填写信息正确时（输入，查询），系统记录用户信息（逻辑文件），并在用户列表中添加该用户（输出） |
| User.New.Cancel     | 在管理员取消新增用户时（查询），系统关闭新增用户任务（输出）           |
| User.Del            | 在管理员请求移除用户时（查询），系统将用户从列表中移除（输出），并删除该用户信息（逻辑文件） |
| User.Del.Cancel     | 在管理员取消移除用户时（查询），系统关闭移除用户任务（输出）           |
| User.Modify         | 当管理员请求调整用户时（查询），系统显示用户信息编辑页面（输出）         |
| User.Modify.Confirm | 当管理员确认完成调整用户时（输入，查询），系统记录用户信息（逻辑文件），并关闭调整用户任务（输出） |
| User.Modify.Cancel  | 当管理员取消调整用户时（查询），系统关闭调整用户任务（输出）           |
| User.Confirm        | 在管理员确认用户调整任务结束时（查询），系统更新数据（逻辑文件），关闭用户调整任务（输出） |
| User.Update         | 系统更新用户目录信息（逻辑文件）                         |

| 功能点     | 数量                        |
| ------- | ------------------------- |
| 输入      | 2                         |
| 输出      | 9                         |
| 查询      | 9                         |
| 内部逻辑文件  | 5                         |
| 对外接口文件  | 0                         |
| 功能点测量总数 | 2×4+9×5+9×4+5×10+0×7=139  |
| FP      | 139×（0.65+0.01×40）=145.95 |
